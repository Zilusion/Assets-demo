(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))c(l);new MutationObserver(l=>{for(const o of l)if(o.type==="childList")for(const u of o.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&c(u)}).observe(document,{childList:!0,subtree:!0});function r(l){const o={};return l.integrity&&(o.integrity=l.integrity),l.referrerPolicy&&(o.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?o.credentials="include":l.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function c(l){if(l.ep)return;l.ep=!0;const o=r(l);fetch(l.href,o)}})();const Kr=!1;var Ur=Array.isArray,si=Array.prototype.indexOf,zr=Array.from,li=Object.defineProperty,Ie=Object.getOwnPropertyDescriptor,bn=Object.getOwnPropertyDescriptors,ui=Object.prototype,ci=Array.prototype,Dr=Object.getPrototypeOf,Jr=Object.isExtensible;const fi=()=>{};function hi(a){for(var e=0;e<a.length;e++)a[e]()}function di(a,e){if(Array.isArray(a))return a;if(!(Symbol.iterator in a))return Array.from(a);const r=[];for(const c of a)if(r.push(c),r.length===e)break;return r}const Qt=2,_n=4,rr=8,Nr=16,he=32,Re=64,Br=128,Wt=256,qe=512,Gt=1024,ce=2048,ke=4096,le=8192,Pr=16384,wn=32768,nr=65536,gi=1<<19,yn=1<<20,Ar=1<<21,_e=Symbol("$state"),pi=Symbol("legacy props"),vi=Symbol("");function xn(a){return a===this.v}function kn(a,e){return a!=a?e==e:a!==e||a!==null&&typeof a=="object"||typeof a=="function"}function Mr(a){return!kn(a,this.v)}function mi(a){throw new Error("https://svelte.dev/e/effect_in_teardown")}function bi(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function _i(a){throw new Error("https://svelte.dev/e/effect_orphan")}function wi(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function yi(a){throw new Error("https://svelte.dev/e/props_invalid_value")}function xi(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function ki(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function Ei(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}let Ti=!1;const jr=1,Wr=2,En=4,Ii=8,Ai=16,Si=1,Fi=4,Ci=8,Li=16,Tn=1,Ri=2,Nt=Symbol(),Oi="http://www.w3.org/1999/xhtml";function Ui(a){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}let Zt=null;function Qr(a){Zt=a}function Rt(a,e=!1,r){var c=Zt={p:Zt,c:null,d:!1,e:null,m:!1,s:a,x:null,l:null};zn(()=>{c.d=!0})}function Ot(a){const e=Zt;if(e!==null){a!==void 0&&(e.x=a);const u=e.e;if(u!==null){var r=St,c=yt;e.e=null;try{for(var l=0;l<u.length;l++){var o=u[l];me(o.effect),ee(o.reaction),sr(o.fn)}}finally{me(r),ee(c)}}Zt=e.p,e.m=!0}return a||{}}function In(){return!0}function jt(a){if(typeof a!="object"||a===null||_e in a)return a;const e=Dr(a);if(e!==ui&&e!==ci)return a;var r=new Map,c=Ur(a),l=Tt(0),o=yt,u=g=>{var p=yt;ee(o);var v=g();return ee(p),v};return c&&r.set("length",Tt(a.length)),new Proxy(a,{defineProperty(g,p,v){(!("value"in v)||v.configurable===!1||v.enumerable===!1||v.writable===!1)&&xi();var m=r.get(p);return m===void 0?m=u(()=>{var h=Tt(v.value);return r.set(p,h),h}):ft(m,v.value,!0),!0},deleteProperty(g,p){var v=r.get(p);if(v===void 0){if(p in g){const b=u(()=>Tt(Nt));r.set(p,b),hr(l)}}else{if(c&&typeof p=="string"){var m=r.get("length"),h=Number(p);Number.isInteger(h)&&h<m.v&&ft(m,h)}ft(v,Nt),hr(l)}return!0},get(g,p,v){if(p===_e)return a;var m=r.get(p),h=p in g;if(m===void 0&&(!h||Ie(g,p)?.writable)&&(m=u(()=>{var t=jt(h?g[p]:Nt),n=Tt(t);return n}),r.set(p,m)),m!==void 0){var b=I(m);return b===Nt?void 0:b}return Reflect.get(g,p,v)},getOwnPropertyDescriptor(g,p){var v=Reflect.getOwnPropertyDescriptor(g,p);if(v&&"value"in v){var m=r.get(p);m&&(v.value=I(m))}else if(v===void 0){var h=r.get(p),b=h?.v;if(h!==void 0&&b!==Nt)return{enumerable:!0,configurable:!0,value:b,writable:!0}}return v},has(g,p){if(p===_e)return!0;var v=r.get(p),m=v!==void 0&&v.v!==Nt||Reflect.has(g,p);if(v!==void 0||St!==null&&(!m||Ie(g,p)?.writable)){v===void 0&&(v=u(()=>{var b=m?jt(g[p]):Nt,t=Tt(b);return t}),r.set(p,v));var h=I(v);if(h===Nt)return!1}return m},set(g,p,v,m){var h=r.get(p),b=p in g;if(c&&p==="length")for(var t=v;t<h.v;t+=1){var n=r.get(t+"");n!==void 0?ft(n,Nt):t in g&&(n=u(()=>Tt(Nt)),r.set(t+"",n))}if(h===void 0)(!b||Ie(g,p)?.writable)&&(h=u(()=>Tt(void 0)),ft(h,jt(v)),r.set(p,h));else{b=h.v!==Nt;var s=u(()=>jt(v));ft(h,s)}var f=Reflect.getOwnPropertyDescriptor(g,p);if(f?.set&&f.set.call(m,v),!b){if(c&&typeof p=="string"){var d=r.get("length"),w=Number(p);Number.isInteger(w)&&w>=d.v&&ft(d,w+1)}hr(l)}return!0},ownKeys(g){I(l);var p=Reflect.ownKeys(g).filter(h=>{var b=r.get(h);return b===void 0||b.v!==Nt});for(var[v,m]of r)m.v!==Nt&&!(v in g)&&p.push(v);return p},setPrototypeOf(){ki()}})}function hr(a,e=1){ft(a,a.v+e)}function ir(a){var e=Qt|ce,r=yt!==null&&(yt.f&Qt)!==0?yt:null;return St===null||r!==null&&(r.f&Wt)!==0?e|=Wt:St.f|=yn,{ctx:Zt,deps:null,effects:null,equals:xn,f:e,fn:a,reactions:null,rv:0,v:null,wv:0,parent:r??St}}function At(a){const e=ir(a);return Wn(e),e}function zi(a){const e=ir(a);return e.equals=Mr,e}function An(a){var e=a.effects;if(e!==null){a.effects=null;for(var r=0;r<e.length;r+=1)fe(e[r])}}function Di(a){for(var e=a.parent;e!==null;){if((e.f&Qt)===0)return e;e=e.parent}return null}function Sn(a){var e,r=St;me(Di(a));try{An(a),e=Vn(a)}finally{me(r)}return e}function Fn(a){var e=Sn(a);if(a.equals(e)||(a.v=e,a.wv=Yn()),!Ue){var r=(pe||(a.f&Wt)!==0)&&a.deps!==null?ke:Gt;re(a,r)}}const Me=new Map;function Ge(a,e){var r={f:0,v:a,reactions:null,equals:xn,rv:0,wv:0};return r}function Tt(a,e){const r=Ge(a);return Wn(r),r}function Cn(a,e=!1,r=!0){const c=Ge(a);return e||(c.equals=Mr),c}function ft(a,e,r=!1){yt!==null&&!te&&In()&&(yt.f&(Qt|Nr))!==0&&!(qt?.[1].includes(a)&&qt[0]===yt)&&Ei();let c=r?jt(e):e;return Sr(a,c)}function Sr(a,e){if(!a.equals(e)){var r=a.v;Ue?Me.set(a,e):Me.set(a,r),a.v=e,(a.f&Qt)!==0&&((a.f&ce)!==0&&Sn(a),re(a,(a.f&Wt)===0?Gt:ke)),a.wv=Yn(),Ln(a,ce),St!==null&&(St.f&Gt)!==0&&(St.f&(he|Re))===0&&(Ht===null?qi([a]):Ht.push(a))}return e}function Ni(a,e=1){var r=I(a),c=e===1?r++:r--;return ft(a,r),c}function Ln(a,e){var r=a.reactions;if(r!==null)for(var c=r.length,l=0;l<c;l++){var o=r[l],u=o.f;(u&ce)===0&&(re(o,e),(u&(Gt|Wt))!==0&&((u&Qt)!==0?Ln(o,ke):Vr(o)))}}let Bi=!1;var $r,Rn,On,Un;function Pi(){if($r===void 0){$r=window,Rn=/Firefox/.test(navigator.userAgent);var a=Element.prototype,e=Node.prototype,r=Text.prototype;On=Ie(e,"firstChild").get,Un=Ie(e,"nextSibling").get,Jr(a)&&(a.__click=void 0,a.__className=void 0,a.__attributes=null,a.__style=void 0,a.__e=void 0),Jr(r)&&(r.__t=void 0)}}function ar(a=""){return document.createTextNode(a)}function se(a){return On.call(a)}function or(a){return Un.call(a)}function Z(a,e){return se(a)}function ge(a,e){{var r=se(a);return r instanceof Comment&&r.data===""?or(r):r}}function X(a,e=1,r=!1){let c=a;for(;e--;)c=or(c);return c}function Mi(a){a.textContent=""}function ji(a){St===null&&yt===null&&_i(),yt!==null&&(yt.f&Wt)!==0&&St===null&&bi(),Ue&&mi()}function Wi(a,e){var r=e.last;r===null?e.last=e.first=a:(r.next=a,a.prev=r,e.last=a)}function Oe(a,e,r,c=!0){var l=St,o={ctx:Zt,deps:null,nodes_start:null,nodes_end:null,f:a|ce,first:null,fn:e,last:null,next:null,parent:l,prev:null,teardown:null,transitions:null,wv:0};if(r)try{Hr(o),o.f|=wn}catch(p){throw fe(o),p}else e!==null&&Vr(o);var u=r&&o.deps===null&&o.first===null&&o.nodes_start===null&&o.teardown===null&&(o.f&(yn|Br))===0;if(!u&&c&&(l!==null&&Wi(o,l),yt!==null&&(yt.f&Qt)!==0)){var g=yt;(g.effects??=[]).push(o)}return o}function zn(a){const e=Oe(rr,null,!1);return re(e,Gt),e.teardown=a,e}function Fe(a){ji();var e=St!==null&&(St.f&he)!==0&&Zt!==null&&!Zt.m;if(e){var r=Zt;(r.e??=[]).push({fn:a,effect:St,reaction:yt})}else{var c=sr(a);return c}}function Zi(a){const e=Oe(Re,a,!0);return(r={})=>new Promise(c=>{r.outro?Ke(e,()=>{fe(e),c(void 0)}):(fe(e),c(void 0))})}function sr(a){return Oe(_n,a,!1)}function lr(a){return Oe(rr,a,!0)}function bt(a,e=[],r=ir){const c=e.map(r);return ur(()=>a(...c.map(I)))}function ur(a,e=0){return Oe(rr|Nr|e,a,!0)}function Ce(a,e=!0){return Oe(rr|he,a,!0,e)}function Dn(a){var e=a.teardown;if(e!==null){const r=Ue,c=yt;tn(!0),ee(null);try{e.call(null)}finally{tn(r),ee(c)}}}function Nn(a,e=!1){var r=a.first;for(a.first=a.last=null;r!==null;){var c=r.next;(r.f&Re)!==0?r.parent=null:fe(r,e),r=c}}function Yi(a){for(var e=a.first;e!==null;){var r=e.next;(e.f&he)===0&&fe(e),e=r}}function fe(a,e=!0){var r=!1;(e||(a.f&gi)!==0)&&a.nodes_start!==null&&a.nodes_end!==null&&(Hi(a.nodes_start,a.nodes_end),r=!0),Nn(a,e&&!r),er(a,0),re(a,Pr);var c=a.transitions;if(c!==null)for(const o of c)o.stop();Dn(a);var l=a.parent;l!==null&&l.first!==null&&Bn(a),a.next=a.prev=a.teardown=a.ctx=a.deps=a.fn=a.nodes_start=a.nodes_end=null}function Hi(a,e){for(;a!==null;){var r=a===e?null:or(a);a.remove(),a=r}}function Bn(a){var e=a.parent,r=a.prev,c=a.next;r!==null&&(r.next=c),c!==null&&(c.prev=r),e!==null&&(e.first===a&&(e.first=c),e.last===a&&(e.last=r))}function Ke(a,e){var r=[];Zr(a,r,!0),Pn(r,()=>{fe(a),e&&e()})}function Pn(a,e){var r=a.length;if(r>0){var c=()=>--r||e();for(var l of a)l.out(c)}else e()}function Zr(a,e,r){if((a.f&le)===0){if(a.f^=le,a.transitions!==null)for(const u of a.transitions)(u.is_global||r)&&e.push(u);for(var c=a.first;c!==null;){var l=c.next,o=(c.f&nr)!==0||(c.f&he)!==0;Zr(c,e,o?r:!1),c=l}}}function Je(a){Mn(a,!0)}function Mn(a,e){if((a.f&le)!==0){a.f^=le;for(var r=a.first;r!==null;){var c=r.next,l=(r.f&nr)!==0||(r.f&he)!==0;Mn(r,l?e:!1),r=c}if(a.transitions!==null)for(const o of a.transitions)(o.is_global||e)&&o.in()}}let Qe=[];function Vi(){var a=Qe;Qe=[],hi(a)}function Yr(a){Qe.length===0&&queueMicrotask(Vi),Qe.push(a)}function Xi(a){var e=St;if((e.f&wn)===0){if((e.f&Br)===0)throw a;e.fn(a)}else jn(a,e)}function jn(a,e){for(;e!==null;){if((e.f&Br)!==0)try{e.fn(a);return}catch{}e=e.parent}throw a}let Fr=!1,$e=null,we=!1,Ue=!1;function tn(a){Ue=a}let Ve=[];let yt=null,te=!1;function ee(a){yt=a}let St=null;function me(a){St=a}let qt=null;function Wn(a){yt!==null&&yt.f&Ar&&(qt===null?qt=[yt,[a]]:qt[1].push(a))}let Dt=null,Pt=0,Ht=null;function qi(a){Ht=a}let Zn=1,tr=0,pe=!1;function Yn(){return++Zn}function cr(a){var e=a.f;if((e&ce)!==0)return!0;if((e&ke)!==0){var r=a.deps,c=(e&Wt)!==0;if(r!==null){var l,o,u=(e&qe)!==0,g=c&&St!==null&&!pe,p=r.length;if(u||g){var v=a,m=v.parent;for(l=0;l<p;l++)o=r[l],(u||!o?.reactions?.includes(v))&&(o.reactions??=[]).push(v);u&&(v.f^=qe),g&&m!==null&&(m.f&Wt)===0&&(v.f^=Wt)}for(l=0;l<p;l++)if(o=r[l],cr(o)&&Fn(o),o.wv>a.wv)return!0}(!c||St!==null&&!pe)&&re(a,Gt)}return!1}function Hn(a,e,r=!0){var c=a.reactions;if(c!==null)for(var l=0;l<c.length;l++){var o=c[l];qt?.[1].includes(a)&&qt[0]===yt||((o.f&Qt)!==0?Hn(o,e,!1):e===o&&(r?re(o,ce):(o.f&Gt)!==0&&re(o,ke),Vr(o)))}}function Vn(a){var e=Dt,r=Pt,c=Ht,l=yt,o=pe,u=qt,g=Zt,p=te,v=a.f;Dt=null,Pt=0,Ht=null,pe=(v&Wt)!==0&&(te||!we||yt===null),yt=(v&(he|Re))===0?a:null,qt=null,Qr(a.ctx),te=!1,tr++,a.f|=Ar;try{var m=(0,a.fn)(),h=a.deps;if(Dt!==null){var b;if(er(a,Pt),h!==null&&Pt>0)for(h.length=Pt+Dt.length,b=0;b<Dt.length;b++)h[Pt+b]=Dt[b];else a.deps=h=Dt;if(!pe)for(b=Pt;b<h.length;b++)(h[b].reactions??=[]).push(a)}else h!==null&&Pt<h.length&&(er(a,Pt),h.length=Pt);if(In()&&Ht!==null&&!te&&h!==null&&(a.f&(Qt|ke|ce))===0)for(b=0;b<Ht.length;b++)Hn(Ht[b],a);return l!==null&&l!==a&&(tr++,Ht!==null&&(c===null?c=Ht:c.push(...Ht))),m}catch(t){Xi(t)}finally{Dt=e,Pt=r,Ht=c,yt=l,pe=o,qt=u,Qr(g),te=p,a.f^=Ar}}function Gi(a,e){let r=e.reactions;if(r!==null){var c=si.call(r,a);if(c!==-1){var l=r.length-1;l===0?r=e.reactions=null:(r[c]=r[l],r.pop())}}r===null&&(e.f&Qt)!==0&&(Dt===null||!Dt.includes(e))&&(re(e,ke),(e.f&(Wt|qe))===0&&(e.f^=qe),An(e),er(e,0))}function er(a,e){var r=a.deps;if(r!==null)for(var c=e;c<r.length;c++)Gi(a,r[c])}function Hr(a){var e=a.f;if((e&Pr)===0){re(a,Gt);var r=St,c=we;St=a,we=!0;try{(e&Nr)!==0?Yi(a):Nn(a),Dn(a);var l=Vn(a);a.teardown=typeof l=="function"?l:null,a.wv=Zn;var o;Kr&&Ti&&(a.f&ce)!==0&&a.deps}finally{we=c,St=r}}}function Ki(){try{wi()}catch(a){if($e!==null)jn(a,$e);else throw a}}function Ji(){var a=we;try{var e=0;for(we=!0;Ve.length>0;){e++>1e3&&Ki();var r=Ve,c=r.length;Ve=[];for(var l=0;l<c;l++){var o=$i(r[l]);Qi(o)}Me.clear()}}finally{Fr=!1,we=a,$e=null}}function Qi(a){var e=a.length;if(e!==0)for(var r=0;r<e;r++){var c=a[r];(c.f&(Pr|le))===0&&cr(c)&&(Hr(c),c.deps===null&&c.first===null&&c.nodes_start===null&&(c.teardown===null?Bn(c):c.fn=null))}}function Vr(a){Fr||(Fr=!0,queueMicrotask(Ji));for(var e=$e=a;e.parent!==null;){e=e.parent;var r=e.f;if((r&(Re|he))!==0){if((r&Gt)===0)return;e.f^=Gt}}Ve.push(e)}function $i(a){for(var e=[],r=a;r!==null;){var c=r.f,l=(c&(he|Re))!==0,o=l&&(c&Gt)!==0;if(!o&&(c&le)===0){(c&_n)!==0?e.push(r):l?r.f^=Gt:cr(r)&&Hr(r);var u=r.first;if(u!==null){r=u;continue}}var g=r.parent;for(r=r.next;r===null&&g!==null;)r=g.next,g=g.parent}return e}function I(a){var e=a.f,r=(e&Qt)!==0;if(yt!==null&&!te){if(!qt?.[1].includes(a)||qt[0]!==yt){var c=yt.deps;a.rv<tr&&(a.rv=tr,Dt===null&&c!==null&&c[Pt]===a?Pt++:Dt===null?Dt=[a]:(!pe||!Dt.includes(a))&&Dt.push(a))}}else if(r&&a.deps===null&&a.effects===null){var l=a,o=l.parent;o!==null&&(o.f&Wt)===0&&(l.f^=Wt)}return r&&(l=a,cr(l)&&Fn(l)),Ue&&Me.has(a)?Me.get(a):a.v}function xe(a){var e=te;try{return te=!0,a()}finally{te=e}}const ta=-7169;function re(a,e){a.f=a.f&ta|e}function ea(a){if(!(typeof a!="object"||!a||a instanceof EventTarget)){if(_e in a)Cr(a);else if(!Array.isArray(a))for(let e in a){const r=a[e];typeof r=="object"&&r&&_e in r&&Cr(r)}}}function Cr(a,e=new Set){if(typeof a=="object"&&a!==null&&!(a instanceof EventTarget)&&!e.has(a)){e.add(a),a instanceof Date&&a.getTime();for(let c in a)try{Cr(a[c],e)}catch{}const r=Dr(a);if(r!==Object.prototype&&r!==Array.prototype&&r!==Map.prototype&&r!==Set.prototype&&r!==Date.prototype){const c=bn(r);for(let l in c){const o=c[l].get;if(o)try{o.call(a)}catch{}}}}}const ra=["touchstart","touchmove"];function na(a){return ra.includes(a)}let en=!1;function ia(){en||(en=!0,document.addEventListener("reset",a=>{Promise.resolve().then(()=>{if(!a.defaultPrevented)for(const e of a.target.elements)e.__on_r?.()})},{capture:!0}))}function Xn(a){var e=yt,r=St;ee(null),me(null);try{return a()}finally{ee(e),me(r)}}function qn(a,e,r,c=r){a.addEventListener(e,()=>Xn(r));const l=a.__on_r;l?a.__on_r=()=>{l(),c(!0)}:a.__on_r=()=>c(!0),ia()}const Gn=new Set,Lr=new Set;function aa(a,e,r,c={}){function l(o){if(c.capture||Be.call(e,o),!o.cancelBubble)return Xn(()=>r?.call(this,o))}return a.startsWith("pointer")||a.startsWith("touch")||a==="wheel"?Yr(()=>{e.addEventListener(a,l,c)}):e.addEventListener(a,l,c),l}function dt(a,e,r,c,l){var o={capture:c,passive:l},u=aa(a,e,r,o);(e===document.body||e===window||e===document||e instanceof HTMLMediaElement)&&zn(()=>{e.removeEventListener(a,u,o)})}function ne(a){for(var e=0;e<a.length;e++)Gn.add(a[e]);for(var r of Lr)r(a)}function Be(a){var e=this,r=e.ownerDocument,c=a.type,l=a.composedPath?.()||[],o=l[0]||a.target,u=0,g=a.__root;if(g){var p=l.indexOf(g);if(p!==-1&&(e===document||e===window)){a.__root=e;return}var v=l.indexOf(e);if(v===-1)return;p<=v&&(u=p)}if(o=l[u]||a.target,o!==e){li(a,"currentTarget",{configurable:!0,get(){return o||r}});var m=yt,h=St;ee(null),me(null);try{for(var b,t=[];o!==null;){var n=o.assignedSlot||o.parentNode||o.host||null;try{var s=o["__"+c];if(s!=null&&(!o.disabled||a.target===o))if(Ur(s)){var[f,...d]=s;f.apply(o,[a,...d])}else s.call(o,a)}catch(w){b?t.push(w):b=w}if(a.cancelBubble||n===e||n===null)break;o=n}if(b){for(let w of t)queueMicrotask(()=>{throw w});throw b}}finally{a.__root=e,delete a.currentTarget,ee(m),me(h)}}}function Kn(a){var e=document.createElement("template");return e.innerHTML=a.replaceAll("<!>","<!---->"),e.content}function Le(a,e){var r=St;r.nodes_start===null&&(r.nodes_start=a,r.nodes_end=e)}function ht(a,e){var r=(e&Tn)!==0,c=(e&Ri)!==0,l,o=!a.startsWith("<!>");return()=>{l===void 0&&(l=Kn(o?a:"<!>"+a),r||(l=se(l)));var u=c||Rn?document.importNode(l,!0):l.cloneNode(!0);if(r){var g=se(u),p=u.lastChild;Le(g,p)}else Le(u,u);return u}}function oa(a,e,r="svg"){var c=!a.startsWith("<!>"),l=(e&Tn)!==0,o=`<${r}>${c?a:"<!>"+a}</${r}>`,u;return()=>{if(!u){var g=Kn(o),p=se(g);if(l)for(u=document.createDocumentFragment();se(p);)u.appendChild(se(p));else u=se(p)}var v=u.cloneNode(!0);if(l){var m=se(v),h=v.lastChild;Le(m,h)}else Le(v,v);return v}}function ie(a,e){return oa(a,e,"svg")}function sa(a=""){{var e=ar(a+"");return Le(e,e),e}}function Rr(){var a=document.createDocumentFragment(),e=document.createComment(""),r=ar();return a.append(e,r),Le(e,r),a}function st(a,e){a!==null&&a.before(e)}function wt(a,e){var r=e==null?"":typeof e=="object"?e+"":e;r!==(a.__t??=a.nodeValue)&&(a.__t=r,a.nodeValue=r+"")}function la(a,e){return ua(a,e)}const Ee=new Map;function ua(a,{target:e,anchor:r,props:c={},events:l,context:o,intro:u=!0}){Pi();var g=new Set,p=h=>{for(var b=0;b<h.length;b++){var t=h[b];if(!g.has(t)){g.add(t);var n=na(t);e.addEventListener(t,Be,{passive:n});var s=Ee.get(t);s===void 0?(document.addEventListener(t,Be,{passive:n}),Ee.set(t,1)):Ee.set(t,s+1)}}};p(zr(Gn)),Lr.add(p);var v=void 0,m=Zi(()=>{var h=r??e.appendChild(ar());return Ce(()=>{if(o){Rt({});var b=Zt;b.c=o}l&&(c.$$events=l),v=a(h,c)||{},o&&Ot()}),()=>{for(var b of g){e.removeEventListener(b,Be);var t=Ee.get(b);--t===0?(document.removeEventListener(b,Be),Ee.delete(b)):Ee.set(b,t)}Lr.delete(p),h!==r&&h.parentNode?.removeChild(h)}});return ca.set(v,m),v}let ca=new WeakMap;function Ft(a,e,[r,c]=[0,0]){var l=a,o=null,u=null,g=Nt,p=r>0?nr:0,v=!1;const m=(b,t=!0)=>{v=!0,h(t,b)},h=(b,t)=>{g!==(g=b)&&(g?(o?Je(o):t&&(o=Ce(()=>t(l))),u&&Ke(u,()=>{u=null})):(u?Je(u):t&&(u=Ce(()=>t(l,[r+1,c]))),o&&Ke(o,()=>{o=null})))};ur(()=>{v=!1,e(m),v||h(null,null)},p)}function Or(a,e){return e}function fa(a,e,r,c){for(var l=[],o=e.length,u=0;u<o;u++)Zr(e[u].e,l,!0);var g=o>0&&l.length===0&&r!==null;if(g){var p=r.parentNode;Mi(p),p.append(r),c.clear(),de(a,e[0].prev,e[o-1].next)}Pn(l,()=>{for(var v=0;v<o;v++){var m=e[v];g||(c.delete(m.k),de(a,m.prev,m.next)),fe(m.e,!g)}})}function Lt(a,e,r,c,l,o=null){var u=a,g={flags:e,items:new Map,first:null},p=(e&En)!==0;if(p){var v=a;u=v.appendChild(ar())}var m=null,h=!1,b=zi(()=>{var t=r();return Ur(t)?t:t==null?[]:zr(t)});ur(()=>{var t=I(b),n=t.length;h&&n===0||(h=n===0,ha(t,g,u,l,e,c,r),o!==null&&(n===0?m?Je(m):m=Ce(()=>o(u)):m!==null&&Ke(m,()=>{m=null})),I(b))})}function ha(a,e,r,c,l,o,u){var g=(l&Ii)!==0,p=(l&(jr|Wr))!==0,v=a.length,m=e.items,h=e.first,b=h,t,n=null,s,f=[],d=[],w,x,k,E;if(g)for(E=0;E<v;E+=1)w=a[E],x=o(w,E),k=m.get(x),k!==void 0&&(k.a?.measure(),(s??=new Set).add(k));for(E=0;E<v;E+=1){if(w=a[E],x=o(w,E),k=m.get(x),k===void 0){var F=b?b.e.nodes_start:r;n=ga(F,e,n,n===null?e.first:n.next,w,x,E,c,l,u),m.set(x,n),f=[],d=[],b=n.next;continue}if(p&&da(k,w,E,l),(k.e.f&le)!==0&&(Je(k.e),g&&(k.a?.unfix(),(s??=new Set).delete(k))),k!==b){if(t!==void 0&&t.has(k)){if(f.length<d.length){var C=d[0],D;n=C.prev;var O=f[0],V=f[f.length-1];for(D=0;D<f.length;D+=1)rn(f[D],C,r);for(D=0;D<d.length;D+=1)t.delete(d[D]);de(e,O.prev,V.next),de(e,n,O),de(e,V,C),b=C,n=V,E-=1,f=[],d=[]}else t.delete(k),rn(k,b,r),de(e,k.prev,k.next),de(e,k,n===null?e.first:n.next),de(e,n,k),n=k;continue}for(f=[],d=[];b!==null&&b.k!==x;)(b.e.f&le)===0&&(t??=new Set).add(b),d.push(b),b=b.next;if(b===null)continue;k=b}f.push(k),n=k,b=k.next}if(b!==null||t!==void 0){for(var J=t===void 0?[]:zr(t);b!==null;)(b.e.f&le)===0&&J.push(b),b=b.next;var S=J.length;if(S>0){var j=(l&En)!==0&&v===0?r:null;if(g){for(E=0;E<S;E+=1)J[E].a?.measure();for(E=0;E<S;E+=1)J[E].a?.fix()}fa(e,J,j,m)}}g&&Yr(()=>{if(s!==void 0)for(k of s)k.a?.apply()}),St.first=e.first&&e.first.e,St.last=n&&n.e}function da(a,e,r,c){(c&jr)!==0&&Sr(a.v,e),(c&Wr)!==0?Sr(a.i,r):a.i=r}function ga(a,e,r,c,l,o,u,g,p,v){var m=(p&jr)!==0,h=(p&Ai)===0,b=m?h?Cn(l,!1,!1):Ge(l):l,t=(p&Wr)===0?u:Ge(u),n={i:t,v:b,k:o,a:null,e:null,prev:r,next:c};try{return n.e=Ce(()=>g(a,b,t,v),Bi),n.e.prev=r&&r.e,n.e.next=c&&c.e,r===null?e.first=n:(r.next=n,r.e.next=n.e),c!==null&&(c.prev=n,c.e.prev=n.e),n}finally{}}function rn(a,e,r){for(var c=a.next?a.next.e.nodes_start:r,l=e?e.e.nodes_start:r,o=a.e.nodes_start;o!==c;){var u=or(o);l.before(o),o=u}}function de(a,e,r){e===null?a.first=r:(e.next=r,e.e.next=r&&r.e),r!==null&&(r.prev=e,r.e.prev=e&&e.e)}function dr(a,e,...r){var c=a,l=fi,o;ur(()=>{l!==(l=e())&&(o&&(fe(o),o=null),o=Ce(()=>l(c,...r)))},nr)}function Mt(a,e,r){sr(()=>{var c=xe(()=>e(a,r?.())||{});if(r&&c?.update){var l=!1,o={};lr(()=>{var u=r();ea(u),l&&kn(o,u)&&(o=u,c.update(u))}),l=!0}if(c?.destroy)return()=>c.destroy()})}function Jn(a){var e,r,c="";if(typeof a=="string"||typeof a=="number")c+=a;else if(typeof a=="object")if(Array.isArray(a)){var l=a.length;for(e=0;e<l;e++)a[e]&&(r=Jn(a[e]))&&(c&&(c+=" "),c+=r)}else for(r in a)a[r]&&(c&&(c+=" "),c+=r);return c}function pa(){for(var a,e,r=0,c="",l=arguments.length;r<l;r++)(a=arguments[r])&&(e=Jn(a))&&(c&&(c+=" "),c+=e);return c}function va(a){return typeof a=="object"?pa(a):a??""}const nn=[...` 	
\r\f \v\uFEFF`];function ma(a,e,r){var c=a==null?"":""+a;if(e&&(c=c?c+" "+e:e),r){for(var l in r)if(r[l])c=c?c+" "+l:l;else if(c.length)for(var o=l.length,u=0;(u=c.indexOf(l,u))>=0;){var g=u+o;(u===0||nn.includes(c[u-1]))&&(g===c.length||nn.includes(c[g]))?c=(u===0?"":c.substring(0,u))+c.substring(g+1):u=g}}return c===""?null:c}function an(a,e=!1){var r=e?" !important;":";",c="";for(var l in a){var o=a[l];o!=null&&o!==""&&(c+=" "+l+": "+o+r)}return c}function gr(a){return a[0]!=="-"||a[1]!=="-"?a.toLowerCase():a}function ba(a,e){if(e){var r="",c,l;if(Array.isArray(e)?(c=e[0],l=e[1]):c=e,a){a=String(a).replaceAll(/\s*\/\*.*?\*\/\s*/g,"").trim();var o=!1,u=0,g=!1,p=[];c&&p.push(...Object.keys(c).map(gr)),l&&p.push(...Object.keys(l).map(gr));var v=0,m=-1;const s=a.length;for(var h=0;h<s;h++){var b=a[h];if(g?b==="/"&&a[h-1]==="*"&&(g=!1):o?o===b&&(o=!1):b==="/"&&a[h+1]==="*"?g=!0:b==='"'||b==="'"?o=b:b==="("?u++:b===")"&&u--,!g&&o===!1&&u===0){if(b===":"&&m===-1)m=h;else if(b===";"||h===s-1){if(m!==-1){var t=gr(a.substring(v,m).trim());if(!p.includes(t)){b!==";"&&h++;var n=a.substring(v,h).trim();r+=" "+n+";"}}v=h+1,m=-1}}}}return c&&(r+=an(c)),l&&(r+=an(l,!0)),r=r.trim(),r===""?null:r}return a==null?null:String(a)}function zt(a,e,r,c,l,o){var u=a.__className;if(u!==r||u===void 0){var g=ma(r,c,o);g==null?a.removeAttribute("class"):a.className=g,a.__className=r}else if(o&&l!==o)for(var p in o){var v=!!o[p];(l==null||v!==!!l[p])&&a.classList.toggle(p,v)}return o}function pr(a,e={},r,c){for(var l in r){var o=r[l];e[l]!==o&&(r[l]==null?a.style.removeProperty(l):a.style.setProperty(l,o,c))}}function Bt(a,e,r,c){var l=a.__style;if(l!==e){var o=ba(e,c);o==null?a.removeAttribute("style"):a.style.cssText=o,a.__style=e}else c&&(Array.isArray(c)?(pr(a,r?.[0],c[0]),pr(a,r?.[1],c[1],"important")):pr(a,r,c));return c}const _a=Symbol("is custom element"),wa=Symbol("is html");function ya(a,e){var r=Xr(a);r.value===(r.value=e??void 0)||a.value===e&&(e!==0||a.nodeName!=="PROGRESS")||(a.value=e??"")}function Qn(a,e){var r=Xr(a);r.checked!==(r.checked=e??void 0)&&(a.checked=e)}function gt(a,e,r,c){var l=Xr(a);l[e]!==(l[e]=r)&&(e==="loading"&&(a[vi]=r),r==null?a.removeAttribute(e):typeof r!="string"&&xa(a).includes(e)?a[e]=r:a.setAttribute(e,r))}function Xr(a){return a.__attributes??={[_a]:a.nodeName.includes("-"),[wa]:a.namespaceURI===Oi}}var on=new Map;function xa(a){var e=on.get(a.nodeName);if(e)return e;on.set(a.nodeName,e=[]);for(var r,c=a,l=Element.prototype;l!==c;){r=bn(c);for(var o in r)r[o].set&&e.push(o);c=Dr(c)}return e}function Kt(a,e,r=e){qn(a,"input",c=>{var l=c?a.defaultValue:a.value;if(l=vr(a)?mr(l):l,r(l),l!==(l=e())){var o=a.selectionStart,u=a.selectionEnd;a.value=l??"",u!==null&&(a.selectionStart=o,a.selectionEnd=Math.min(u,a.value.length))}}),xe(e)==null&&a.value&&r(vr(a)?mr(a.value):a.value),lr(()=>{var c=e();vr(a)&&c===mr(a.value)||a.type==="date"&&!c&&!a.value||c!==a.value&&(a.value=c??"")})}function $n(a,e,r=e){qn(a,"change",c=>{var l=c?a.defaultChecked:a.checked;r(l)}),xe(e)==null&&r(a.checked),lr(()=>{var c=e();a.checked=!!c})}function vr(a){var e=a.type;return e==="number"||e==="range"}function mr(a){return a===""?null:+a}function sn(a,e){return a===e||a?.[_e]===e}function ye(a={},e,r,c){return sr(()=>{var l,o;return lr(()=>{l=o,o=[],xe(()=>{a!==r(...o)&&(e(a,...o),l&&sn(r(...l),a)&&e(null,...l))})}),()=>{Yr(()=>{o&&sn(r(...o),a)&&e(null,...o)})}}),a}let Ye=!1;function ka(a){var e=Ye;try{return Ye=!1,[a(),Ye]}finally{Ye=e}}function ln(a){return a.ctx?.d??!1}function Jt(a,e,r,c){var l=(r&Si)!==0,o=!0,u=(r&Ci)!==0,g=(r&Li)!==0,p=!1,v;u?[v,p]=ka(()=>a[e]):v=a[e];var m=_e in a||pi in a,h=u&&(Ie(a,e)?.set??(m&&e in a&&(E=>a[e]=E)))||void 0,b=c,t=!0,n=!1,s=()=>(n=!0,t&&(t=!1,g?b=xe(c):b=c),b);v===void 0&&c!==void 0&&(h&&o&&yi(),v=s(),h&&h(v));var f;if(f=()=>{var E=a[e];return E===void 0?s():(t=!0,n=!1,E)},(r&Fi)===0&&o)return f;if(h){var d=a.$$legacy;return function(E,F){return arguments.length>0?((!F||d||p)&&h(F?f():E),E):f()}}var w=!1,x=Cn(v),k=ir(()=>{var E=f(),F=I(x);return w?(w=!1,F):x.v=E});return u&&I(k),l||(k.equals=Mr),function(E,F){if(arguments.length>0){const C=F?I(k):u?jt(E):E;if(!k.equals(C)){if(w=!0,ft(x,C),n&&b!==void 0&&(b=C),ln(k))return E;xe(()=>I(k))}return E}return ln(k)?k.v:I(k)}}function Ea(a){Zt===null&&Ui(),Fe(()=>{const e=xe(a);if(typeof e=="function")return e})}const Ta="5";typeof window<"u"&&((window.__svelte??={}).v??=new Set).add(Ta);var Ia=ie('<svg version="1.1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 511.999 511.999" class="scale-50 p-1 opacity-0 transition-all duration-300 group-has-[input:checked]:scale-100 group-has-[input:checked]:opacity-100" aria-hidden="true"><path fill="#FFFFFF" d="M506.231,75.508c-7.689-7.69-20.158-7.69-27.849,0l-319.21,319.211L33.617,269.163c-7.689-7.691-20.158-7.691-27.849,0 c-7.69,7.69-7.69,20.158,0,27.849l139.481,139.481c7.687,7.687,20.16,7.689,27.849,0l333.133-333.136 C513.921,95.666,513.921,83.198,506.231,75.508z"></path></svg>'),Aa=ie('<svg class="text-white h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor" aria-hidden="true"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"></path></svg>'),Sa=ie('<svg class="text-font-dark h-5 w-5" viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg" aria-hidden="true"><g id="_x33_-Padlock" fill="#444545"><path d="m23.71 15.29-14-14c-.39-.39-1.02-.39-1.41 0s-.39 1.02 0 1.41l13.29 13.3-13.3 13.29c-.39.39-.39 1.02 0 1.41.2.2.45.3.71.3s.51-.1.71-.29l14-14c.39-.39.39-1.03 0-1.42z"></path></g></svg>'),Fa=ie('<svg class="text-font-dark h-5 w-5" viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg" aria-hidden="true"><g id="_x33_-Padlock" fill="#444545"><path d="m10.41 16 13.3-13.29c.39-.39.39-1.02 0-1.41s-1.02-.39-1.41 0l-14 14c-.39.39-.39 1.02 0 1.41l14 14c.19.19.44.3.7.3s.51-.1.71-.29c.39-.39.39-1.02 0-1.41z"></path></g></svg>'),Ca=ie('<svg class="text-font-dark h-5 w-5" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 513.552 513.552" style="enable-background:new 0 0 513.552 513.552;" xml:space="preserve" aria-hidden="true"><g fill="currentColor"><g><path d="M510.132,489.755c-0.476-0.556-0.995-1.075-1.552-1.552L276.9,256.382l231.822-231.68c5.577-5.577,5.577-14.619,0-20.196 c-5.577-5.577-14.619-5.577-20.196,0l-231.68,231.822L25.167,4.506c-5.577-5.577-14.619-5.577-20.196,0s-5.577,14.619,0,20.196 l231.822,231.68L4.972,488.062c-5.966,5.109-6.661,14.087-1.552,20.053c5.109,5.966,14.087,6.661,20.053,1.552 c0.556-0.476,1.075-0.995,1.552-1.552l231.822-231.68l231.68,231.822c5.109,5.966,14.087,6.661,20.053,1.552 C514.546,504.699,515.241,495.721,510.132,489.755z"></path></g></g></svg>'),La=ie('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32" aria-hidden="true" class="p-3"><g><path d="M29.69,16A3.19,3.19,0,0,1,28,18.89L6.39,29.68A3.12,3.12,0,0,1,5,30a3,3,0,0,1-1.59-.46A3,3,0,0,1,2,27V9.42a1,1,0,0,1,2,0V27a1,1,0,0,0,.49.88,1,1,0,0,0,1,.05L27.07,17.1a1.29,1.29,0,0,0,0-2.2L5.5,4.11a1,1,0,0,0-1,0A1,1,0,0,0,4,5,1,1,0,0,1,2,5,3,3,0,0,1,6.39,2.32L28,13.11A3.19,3.19,0,0,1,29.69,16Z"></path></g></svg>'),Ra=ie('<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 512 512" style="enable-background:new 0 0 512 512; width: 16px; height: 16px; fill: #444545" xml:space="preserve"><g><g><path d="M501.974,41.949c-8.237-7.547-19.944-10.062-30.555-6.565L21.231,183.785c-12.269,4.044-20.589,14.996-21.196,27.899 c-0.606,12.904,6.649,24.589,18.483,29.768l111.335,48.712c0.543,2.52,32.504,150.756,33.591,155.795 c1.395,6.472,4.68,12.237,11.639,14.01c7.039,1.793,12.012-2.054,17.264-5.986c2.923-2.188,82.62-61.865,82.62-61.865 l96.589,79.039c5.626,4.606,12.502,7.008,19.513,7.008c3.338-0.001,6.708-0.545,9.986-1.657 c10.166-3.447,17.702-11.744,20.159-22.193L511.18,71.813C513.737,60.938,510.211,49.496,501.974,41.949z M199.544,318.077 c-0.055,0.13-0.109,0.277-0.16,0.453l-18.624,65.068l-20.784-96.395l142.917-79.405l-99.921,104.478 C201.398,313.922,200.24,315.912,199.544,318.077z M205.455,406.602l8.459-29.555l8.091-28.269l28.991,23.724L205.455,406.602z M481.908,64.927l-89.965,382.502c-0.045,0.19-0.105,0.452-0.545,0.601c-0.436,0.148-0.648-0.021-0.798-0.145l-105.691-86.488 c-0.003-0.002-0.005-0.005-0.008-0.007l-48.969-40.072L393.255,156.82c5.138-5.373,5.578-13.694,1.035-19.579 c-4.545-5.886-12.707-7.567-19.204-3.955L142.135,262.715L30.572,213.902c-0.34-0.148-0.527-0.231-0.5-0.806 c0.027-0.573,0.221-0.638,0.573-0.754l450.188-148.4c0.218-0.071,0.464-0.153,0.826,0.177 C482.021,64.451,481.961,64.703,481.908,64.927z"></path></g></g></svg>'),Oa=ie('<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 512 512" style="enable-background:new 0 0 512 512; width: 16px; height: 16px; fill: #444545" xml:space="preserve"><g><g><path d="M496.671,87.373H15.329C6.864,87.373,0,94.236,0,102.702v306.595c0,8.466,6.864,15.329,15.329,15.329h0.002 c0.002,0,0.004,0,0.006,0c0.004,0,0.008,0,0.011,0h481.302c0.004,0,0.008,0,0.011,0c0.001,0,0.002,0,0.004,0h0.004 c8.466,0,15.329-6.863,15.329-15.329V102.702C512,94.236,505.137,87.373,496.671,87.373z M452.716,118.032l-196.713,156.21 L59.285,118.032H452.716z M30.659,134.451l147.534,117.153L30.659,376.275V134.451z M57.221,393.968L202.682,271.05l43.789,34.771 c2.791,2.216,6.162,3.324,9.533,3.324c3.37,0,6.742-1.108,9.533-3.324l43.787-34.771l145.458,122.918H57.221z M481.341,376.274 l-147.53-124.67l147.53-117.153V376.274z"></path></g></g></svg>'),Ua=ie("<!><!><!><!><!><!><!><!>",1);function be(a,e){var r=Ua(),c=ge(r);{var l=x=>{var k=Ia();st(x,k)};Ft(c,x=>{e.name==="check"&&x(l)})}var o=X(c);{var u=x=>{var k=Aa();st(x,k)};Ft(o,x=>{e.name==="edit"&&x(u)})}var g=X(o);{var p=x=>{var k=Sa();st(x,k)};Ft(g,x=>{e.name==="arrow-right"&&x(p)})}var v=X(g);{var m=x=>{var k=Fa();st(x,k)};Ft(v,x=>{e.name==="arrow-left"&&x(m)})}var h=X(v);{var b=x=>{var k=Ca();st(x,k)};Ft(h,x=>{e.name==="close"&&x(b)})}var t=X(h);{var n=x=>{var k=La();st(x,k)};Ft(t,x=>{e.name==="play"&&x(n)})}var s=X(t);{var f=x=>{var k=Ra();st(x,k)};Ft(s,x=>{e.name==="telegram"&&x(f)})}var d=X(s);{var w=x=>{var k=Oa();st(x,k)};Ft(d,x=>{e.name==="email"&&x(w)})}st(a,r)}function Vt(a,e={}){let{enabled:r=!0,preventWheel:c=!0,doubleTapTime:l=300,holdTime:o=500,moveThreshold:u=5,swipeTime:g=250,swipeMinDistance:p=30,transformPoint:v=L=>L,throttleTime:m=16,capture:h=!0,recognizeDoubleTap:b=!0}=e;const t=new Map,n={isPressed:!1,isHolding:!1,isPanning:!1,isPinching:!1,isRotating:!1,startTime:0,lastTime:0,startX:0,startY:0,lastX:0,lastY:0,initialDistance:0,initialAngle:0},s={...n};let f=null,d=null;function w(L,Y){return Math.sqrt(Math.pow(L.clientX-Y.clientX,2)+Math.pow(L.clientY-Y.clientY,2))}function x(L,Y){return Math.atan2(Y.clientY-L.clientY,Y.clientX-L.clientX)*180/Math.PI}function k(L,Y){return Math.abs(L)>Math.abs(Y)?L>0?"right":"left":Y>0?"down":"up"}function E(L,Y={}){a.dispatchEvent(new CustomEvent(L,{detail:Y}))}function F(L){Object.assign(s,L),E("statechange",{...s})}function C(){t.clear(),F({...n})}function D(){clearTimeout(d),d=null}function O(L,Y={}){const ot=v({x:L.offsetX,y:L.offsetY});return{...Y,shiftKey:L.shiftKey,ctrlKey:L.ctrlKey,altKey:L.altKey,metaKey:L.metaKey,originalEvent:L,x:L.clientX,y:L.clientY,offsetX:L.offsetX,offsetY:L.offsetY,worldX:ot.x,worldY:ot.y,pressure:L.pressure,tiltX:L.tiltX,tiltY:L.tiltY}}function V(L,Y){let ot=null,pt=null;const ct=()=>{pt?(L(...pt),pt=null,ot=setTimeout(ct,Y)):ot=null},vt=(...xt)=>{pt=xt,ot||(L(...xt),ot=setTimeout(ct,Y))};return vt.cancel=()=>{clearTimeout(ot),ot=null,pt=null},vt}let J,S,j,y;function W(L){if(J&&J.cancel(),S&&S.cancel(),j&&j.cancel(),y&&y.cancel(),L>0){const Y=ot=>V(pt=>E(ot,pt),L);J=Y("pan"),S=Y("move"),j=Y("pinch"),y=Y("rotate")}else{const Y=ot=>{const pt=ct=>E(ot,ct);return pt.cancel=()=>{},pt};J=Y("pan"),S=Y("move"),j=Y("pinch"),y=Y("rotate")}}W(m);function rt(L){if(r)if(L.preventDefault(),h&&a.setPointerCapture(L.pointerId),t.set(L.pointerId,{clientX:L.clientX,clientY:L.clientY}),t.size===2){D();const[Y,ot]=Array.from(t.values()),pt=w(Y,ot),ct=x(Y,ot);F({isPinching:!0,isRotating:!0,isPanning:!1,initialDistance:pt,initialAngle:ct}),E("pinchstart",O(L,{distance:pt})),E("rotatestart",O(L,{angle:ct}))}else t.size===1&&(F({isPressed:!0,startTime:Date.now(),startX:L.clientX,startY:L.clientY,lastX:L.clientX,lastY:L.clientY}),E("down",O(L,{button:L.button})),L.button===0&&(d=setTimeout(()=>{E("hold",O(L)),F({isHolding:!0}),D()},o)))}function U(L){if(r)if(L.preventDefault(),t.has(L.pointerId)&&t.set(L.pointerId,{clientX:L.clientX,clientY:L.clientY}),t.size===2){const[Y,ot]=Array.from(t.values()),pt=w(Y,ot),ct=x(Y,ot),vt=pt/s.initialDistance,xt=ct-s.initialAngle;s.isPinching&&j(O(L,{scale:vt})),s.isRotating&&y(O(L,{rotation:xt}))}else t.size===1&&(s.isPressed&&F({lastX:L.clientX,lastY:L.clientY,lastTime:Date.now()}),Math.sqrt((L.clientX-s.startX)**2+(L.clientY-s.startY)**2)>u&&(!s.isPanning&&s.isPressed&&(F({isPanning:!0}),D(),E("panstart",O(L))),s.isPanning?J(O(L)):S(O(L))))}function tt(L){if(!r)return;L.preventDefault(),h&&a.releasePointerCapture(L.pointerId);const Y=t.size===2;if(t.delete(L.pointerId),Y&&(j.cancel(),y.cancel(),s.isPinching&&E("pinchend",O(L)),s.isRotating&&E("rotateend",O(L)),F({isPinching:!1,isRotating:!1,initialDistance:0,initialAngle:0})),t.size===0){if(F({isPressed:!1}),D(),E("up",O(L,{button:L.button})),s.isPanning){J.cancel(),S.cancel();const ot=s.lastTime-s.startTime,pt=Math.sqrt((s.lastX-s.startX)**2+(s.lastY-s.startY)**2);if(ot<g&&pt>p){const ct=s.lastX-s.startX,vt=s.lastY-s.startY,xt=k(ct,vt),It=O(L,{deltaX:ct,deltaY:vt,direction:xt,button:L.button});E("swipe",It),E(`swipe${xt}`,It)}else E("panend",O(L))}switch(L.button){case 0:if(!s.isHolding&&!s.isPanning&&!Y)if(b)if(f)E("double",O(L)),clearTimeout(f),f=null;else{const ot=document.elementFromPoint(L.clientX,L.clientY),pt=O(L,{trueTarget:ot});E("tap",pt),f=setTimeout(()=>{clearTimeout(f),f=null},l)}else{const ot=document.elementFromPoint(L.clientX,L.clientY),pt=O(L,{trueTarget:ot});E("tap",pt)}break;case 1:E("middle",O(L));break}C()}}function q(L){r&&(L.preventDefault(),L.pointerType!=="touch"&&E("context",O(L)))}function at(L){r&&(c&&L.preventDefault(),E("zoom",O(L,{deltaX:L.deltaX,deltaY:L.deltaY,deltaZ:L.deltaZ})))}function M(L){J.cancel(),S.cancel(),j.cancel(),y.cancel(),t.has(L.pointerId)&&t.delete(L.pointerId),(s.isPinching||s.isRotating)&&(s.isPinching&&E("pinchend",O(L)),s.isRotating&&E("rotateend",O(L))),clearTimeout(d),clearTimeout(f),d=null,f=null,t.size===0&&C()}function z(L){r&&(L.preventDefault(),E("hoverstart",O(L)))}function $(L){r&&(L.preventDefault(),E("hoverend",O(L)))}return a.addEventListener("pointerdown",rt),a.addEventListener("contextmenu",q),a.addEventListener("pointermove",U),a.addEventListener("pointerup",tt),a.addEventListener("wheel",at),a.addEventListener("pointerenter",z),a.addEventListener("pointerleave",$),a.addEventListener("pointercancel",M),{update(L){const Y=m;e={...e,...L},{enabled:r,doubleTapTime:l,holdTime:o,moveThreshold:u,swipeTime:g,swipeMinDistance:p,transformPoint:v,throttleTime:m,capture:h,recognizeDoubleTap:b,preventWheel:c}=e,m!==Y&&W(m)},destroy(){a.removeEventListener("pointerdown",rt),a.removeEventListener("contextmenu",q),a.removeEventListener("pointermove",U),a.removeEventListener("pointerup",tt),a.removeEventListener("wheel",at),a.removeEventListener("pointerenter",z),a.removeEventListener("pointerleave",$),a.removeEventListener("pointercancel",M),clearTimeout(d),clearTimeout(f),J.cancel(),S.cancel(),j.cancel(),y.cancel(),d=null,f=null,t.clear()}}}var za=ht('<div class="relative touch-none"><canvas class="h-full w-full border border-dashed border-black/20"></canvas> <rect width="100%" height="100%" fill="transparent" class="absolute inset-0" style="pointer-events: auto;"></rect> <div class="bg-accent absolute -top-1 left-1/2 h-2 w-16 -translate-x-1/2 cursor-ns-resize rounded-full"></div> <div class="bg-accent absolute -right-1 top-1/2 h-16 w-2 -translate-y-1/2 cursor-ew-resize rounded-full"></div> <div class="bg-accent absolute -bottom-1 left-1/2 h-2 w-16 -translate-x-1/2 cursor-ns-resize rounded-full"></div> <div class="bg-accent absolute -left-1 top-1/2 h-16 w-2 -translate-y-1/2 cursor-ew-resize rounded-full"></div></div>');function Da(a,e){Rt(e,!0);let r=Jt(e,"editor",15),c=Tt(null),l=Tt(null),o=Tt(null);const u=At(()=>({width:r().canvasWidth,height:r().canvasHeight,logoX:r().logoX,logoY:r().logoY,scale:r().logoScale,rotate:r().logoRotate}));let g,p,v=null;const m=window.devicePixelRatio||1,h=.001,b=At(()=>e.logo&&e.logo.height>0?e.logo.width/e.logo.height:1);function t(){!p||!v||(g.width=r().canvasWidth*m,g.height=r().canvasHeight*m,p.setTransform(m,0,0,m,0,0),p.clearRect(0,0,r().canvasWidth,r().canvasHeight),p.save(),p.translate(r().logoX,r().logoY),p.rotate(r().logoRotate*Math.PI/180),p.scale(r().logoScale,r().logoScale),p.drawImage(v,-v.width/2,-v.height/2,v.width,v.height),p.restore())}Fe(()=>{if(g&&e.logo&&["png","jpg"].includes(e.logo.extension)){p=g.getContext("2d");const U=new Image;U.onload=()=>{v=U,(r().canvasWidth===0||r().canvasHeight===0||r().canvasWidth===512&&r().canvasHeight===384)&&(r(r().canvasWidth=U.width,!0),r(r().canvasHeight=U.height,!0),r(r().logoX=U.width/2,!0),r(r().logoY=U.height/2,!0),r(r().logoScale=1,!0),r(r().logoRotate=0,!0)),t()},U.onerror=tt=>{console.error("Не удалось загрузить растровое изображение:",e.logo.url,tt),v=null,r(r().canvasWidth=e.logo.width||400,!0),r(r().canvasHeight=e.logo.height||300,!0),t()},U.src=e.logo.url}}),Fe(()=>{I(u),t()});function n(U){ft(c,{initialLogoX:r().logoX,initialLogoY:r().logoY,initialPointerX:U.detail.x,initialPointerY:U.detail.y,axisLock:null},!0)}function s(U){if(!I(c))return;const tt=U.detail.x-I(c).initialPointerX,q=U.detail.y-I(c).initialPointerY;let at=I(c).initialLogoX+tt,M=I(c).initialLogoY+q;U.detail.shiftKey?(I(c).axisLock||(Math.abs(tt)>5||Math.abs(q)>5)&&(Math.abs(tt)>Math.abs(q)?I(c).axisLock={axis:"y",position:M}:I(c).axisLock={axis:"x",position:at}),I(c).axisLock&&(I(c).axisLock.axis==="x"?at=I(c).axisLock.position:M=I(c).axisLock.position)):I(c).axisLock=null,r(r().logoX=at,!0),r(r().logoY=M,!0)}function f(){ft(c,null)}function d(U){ft(o,{initialCanvasWidth:r().canvasWidth,initialCanvasHeight:r().canvasHeight,initialLogoX:r().logoX,initialLogoY:r().logoY,initialPointerX:U.detail.x,initialPointerY:U.detail.y},!0)}function w(U,tt){if(!I(o))return;const q=U.detail.x-I(o).initialPointerX,at=U.detail.y-I(o).initialPointerY;let M=I(o).initialCanvasWidth,z=I(o).initialCanvasHeight,$=0,L=0;switch(tt){case"right":case"left":{const Y=(tt==="right"?q:-q)*2;M=I(o).initialCanvasWidth+Y,r().keepAspectRatio&&I(b)>0&&(z=M/I(b)),tt==="left"&&($=-q*2);break}case"bottom":case"top":{const Y=(tt==="bottom"?at:-at)*2;z=I(o).initialCanvasHeight+Y,r().keepAspectRatio&&I(b)>0&&(M=z*I(b)),tt==="top"&&(L=-at*2);break}}r(r().canvasWidth=Math.max(50,M),!0),r(r().canvasHeight=Math.max(50,z),!0),r(r().logoX=I(o).initialLogoX+$,!0),r(r().logoY=I(o).initialLogoY+L,!0)}function x(){ft(o,null)}function k(U){if(U.preventDefault(),U.detail.shiftKey){const tt=U.detail.deltaY*.1;let q=r().logoRotate+tt;r(r().logoRotate=((q+180)%360+360)%360-180,!0)}else{const tt=1-U.detail.deltaY*h;let q=r().logoScale*tt;r(r().logoScale=Math.max(.1,Math.min(q,5)),!0)}}function E(U){U.preventDefault();let tt=r().logoScale*(1+(U.detail.scale-1)*.5);r(r().logoScale=Math.max(.1,Math.min(tt,5)),!0)}function F(){ft(l,{initialLogoRotate:r().logoRotate},!0)}function C(U){I(l)&&r(r().logoRotate=I(l).initialLogoRotate+U.detail.rotation,!0)}function D(){r(r().logoRotate=((r().logoRotate+180)%360+360)%360-180,!0),ft(l,null)}function O(){return g?{dataUrl:g.toDataURL(`image/${e.logo.extension==="jpg"?"jpeg":"png"}`,1),extension:e.logo.extension}:(console.error("Элемент canvas не доступен для экспорта."),null)}var V=za(),J=Z(V);ye(J,U=>g=U,()=>g);var S=X(J,2);Mt(S,U=>Vt?.(U));var j=X(S,2);Mt(j,U=>Vt?.(U));var y=X(j,2);Mt(y,U=>Vt?.(U));var W=X(y,2);Mt(W,U=>Vt?.(U));var rt=X(W,2);return Mt(rt,U=>Vt?.(U)),bt(()=>{Bt(V,`width: ${r().canvasWidth??""}px; height: ${r().canvasHeight??""}px; max-width: 100%; max-height: 100%;`),Bt(J,`background-color: ${e.logo?.background??""};`),gt(J,"width",r().canvasWidth*m),gt(J,"height",r().canvasHeight*m)}),dt("panstart",S,n),dt("pan",S,s),dt("panend",S,f),dt("zoom",S,k),dt("pinch",S,E),dt("rotatestart",S,F),dt("rotate",S,C),dt("rotateend",S,D),dt("panstart",j,d),dt("pan",j,U=>w(U,"top")),dt("panend",j,x),dt("panstart",y,d),dt("pan",y,U=>w(U,"right")),dt("panend",y,x),dt("panstart",W,d),dt("pan",W,U=>w(U,"bottom")),dt("panend",W,x),dt("panstart",rt,d),dt("pan",rt,U=>w(U,"left")),dt("panend",rt,x),st(a,V),Ot({getExportData:O})}var Na=ht('<div class="relative touch-none"><svg class="h-full w-full border border-dashed border-black/20"><rect fill="transparent"></rect><g class="pointer-events-none"><image x="0" y="0"></image></g></svg> <div class="bg-accent absolute -top-1 left-1/2 h-2 w-16 -translate-x-1/2 cursor-ns-resize rounded-full"></div> <div class="bg-accent absolute -right-1 top-1/2 h-16 w-2 -translate-y-1/2 cursor-ew-resize rounded-full"></div> <div class="bg-accent absolute -bottom-1 left-1/2 h-2 w-16 -translate-x-1/2 cursor-ns-resize rounded-full"></div> <div class="bg-accent absolute -left-1 top-1/2 h-16 w-2 -translate-y-1/2 cursor-ew-resize rounded-full"></div></div>');function Ba(a,e){Rt(e,!0);let r=Jt(e,"editor",15),c=Tt(null),l=Tt(null),o=Tt(null),u=At(()=>r().canvasHeight>0?r().canvasWidth/r().canvasHeight:1);function g(y){ft(c,{initialLogoX:r().logoX,initialLogoY:r().logoY,initialPointerX:y.detail.x,initialPointerY:y.detail.y,axisLock:null},!0)}function p(y){if(!I(c))return;const W=y.detail.x-I(c).initialPointerX,rt=y.detail.y-I(c).initialPointerY;let U=I(c).initialLogoX+W,tt=I(c).initialLogoY+rt;y.detail.shiftKey?(I(c).axisLock||(Math.abs(W)>5||Math.abs(rt)>5)&&(Math.abs(W)>Math.abs(rt)?I(c).axisLock={axis:"y",position:tt}:I(c).axisLock={axis:"x",position:U}),I(c).axisLock&&(I(c).axisLock.axis==="x"?U=I(c).axisLock.position:tt=I(c).axisLock.position)):I(c).axisLock=null,r(r().logoX=U,!0),r(r().logoY=tt,!0)}function v(){ft(c,null)}function m(y){ft(o,{initialCanvasWidth:r().canvasWidth,initialCanvasHeight:r().canvasHeight,initialLogoX:r().logoX,initialLogoY:r().logoY,initialPointerX:y.detail.x,initialPointerY:y.detail.y},!0)}function h(y,W){if(!I(o))return;const rt=y.detail.x-I(o).initialPointerX,U=y.detail.y-I(o).initialPointerY;let tt=I(o).initialCanvasWidth,q=I(o).initialCanvasHeight,at=0,M=0;switch(W){case"right":case"left":{const z=(W==="right"?rt:-rt)*2;tt=I(o).initialCanvasWidth+z,r().keepAspectRatio&&I(u)>0&&(q=tt/I(u)),W==="left"&&(at=-rt*2);break}case"bottom":case"top":{const z=(W==="bottom"?U:-U)*2;q=I(o).initialCanvasHeight+z,r().keepAspectRatio&&I(u)>0&&(tt=q*I(u)),W==="top"&&(M=-U*2);break}}r(r().canvasWidth=Math.max(50,tt),!0),r(r().canvasHeight=Math.max(50,q),!0),r(r().logoX=I(o).initialLogoX+at,!0),r(r().logoY=I(o).initialLogoY+M,!0)}function b(){ft(o,null)}function t(y){return((y+180)%360+360)%360-180}function n(y){if(y.preventDefault(),y.detail.shiftKey){const W=y.detail.deltaY*.1;let rt=r().logoRotate+W;r(r().logoRotate=t(rt),!0)}else{const W=1-y.detail.deltaY*.001;let rt=r().logoScale*W;r(r().logoScale=Math.max(.1,Math.min(rt,5)),!0)}}const s=At(()=>`translate(${r().logoX}, ${r().logoY}) rotate(${r().logoRotate}) scale(${r().logoScale}) translate(-${e.logo.width/2}, -${e.logo.height/2})`);function f(y){y.preventDefault();let W=r().logoScale*(1+(y.detail.scale-1)*.5);r(r().logoScale=Math.max(.1,Math.min(W,5)),!0)}function d(){ft(l,{initialLogoRotate:r().logoRotate},!0)}function w(y){I(l)&&r(r().logoRotate=I(l).initialLogoRotate+y.detail.rotation,!0)}function x(){r(r().logoRotate=t(r().logoRotate),!0),ft(l,null)}function k(){return{originalSvgDimensions:{width:e.logo.width,height:e.logo.height},extension:"svg"}}var E=Na(),F=Z(E),C=Z(F);Mt(C,y=>Vt?.(y));var D=X(C),O=Z(D),V=X(F,2);Mt(V,y=>Vt?.(y));var J=X(V,2);Mt(J,y=>Vt?.(y));var S=X(J,2);Mt(S,y=>Vt?.(y));var j=X(S,2);return Mt(j,y=>Vt?.(y)),bt(()=>{Bt(E,`width: ${r().canvasWidth??""}px; height: ${r().canvasHeight??""}px; max-width: 100%; max-height: 100%;`),Bt(F,`background-color: ${e.logo?.background??""};`),gt(F,"viewBox",`0 0 ${r().canvasWidth??""} ${r().canvasHeight??""}`),gt(C,"width",r().canvasWidth),gt(C,"height",r().canvasHeight),gt(D,"transform",I(s)),gt(O,"href",e.logo?.url),gt(O,"width",e.logo?.width),gt(O,"height",e.logo?.height)}),dt("panstart",C,g),dt("pan",C,p),dt("panend",C,v),dt("zoom",C,n),dt("pinch",C,f),dt("rotatestart",C,d),dt("rotate",C,w),dt("rotateend",C,x),dt("panstart",V,m),dt("pan",V,y=>h(y,"top")),dt("panend",V,b),dt("panstart",J,m),dt("pan",J,y=>h(y,"right")),dt("panend",J,b),dt("panstart",S,m),dt("pan",S,y=>h(y,"bottom")),dt("panend",S,b),dt("panstart",j,m),dt("pan",j,y=>h(y,"left")),dt("panend",j,b),st(a,E),Ot({getExportData:k})}var Pa=ht('<div class="text-font-dark/60 flex h-full w-full items-center justify-center"> </div>'),Ma=(a,e)=>{I(e).logoX=I(e).canvasWidth/2,I(e).logoY=I(e).canvasHeight/2,I(e).logoScale=1,I(e).logoRotate=0},ja=ht(`<dialog class="text-font-dark mx-auto my-auto w-full max-w-5xl bg-transparent p-0"><div class="flex h-[90vh] flex-col rounded-lg bg-background shadow-2xl"><header class="flex shrink-0 items-center justify-between border-b border-black/10 p-4"><h3 class="text-lg font-semibold"> </h3> <button class="outline-accent rounded-full p-2 outline-offset-2 transition-all duration-300 hover:bg-white/10
focus-visible:outline-2"><!></button></header> <main class="grid flex-1 grid-cols-1 gap-4 overflow-hidden p-4 md:grid-cols-[1fr_300px]"><div class="grid select-none place-items-center overflow-auto rounded-md bg-white"><!></div> <aside class="flex flex-col gap-5 pr-2 text-sm"><div><h4 class="mb-2 font-bold">Холст</h4> <div class="space-y-1.5 text-xs"><div class="mb-2 grid grid-cols-[1fr_80px] place-content-center items-center"><span class="text-font-dark/60">Ширина:</span> <div class="grid grid-cols-[1fr_14px] items-center gap-1"><input type="number" name="canvas-width" id="canvas-width" class="outline-accent text-font-dark w-full rounded border border-black/20 bg-transparent px-2 py-1 outline-offset-2 transition-all duration-300
focus-visible:outline-2"/> <span class="text-font-dark/60">px</span></div></div> <div class="mb-2 grid grid-cols-[1fr_80px] place-content-center items-center"><span class="text-font-dark/60">Высота:</span> <div class="grid grid-cols-[1fr_14px] items-center gap-1"><input type="number" name="canvas-height" id="canvas-height" class="outline-accent text-font-dark w-full rounded border border-black/20 bg-transparent px-2 py-1 outline-offset-2 transition-all duration-300
focus-visible:outline-2"/> <span class="text-font-dark/60">px</span></div></div> <div class="mt-2 flex items-center justify-between"><label for="aspect-ratio-lock" class="text-font-dark/60">Сохранять пропорции</label> <input id="aspect-ratio-lock" type="checkbox" class="outline-accent h-4 w-4 outline-offset-2 transition-all duration-300
focus-visible:outline-2"/></div></div></div> <hr class="border-black/10"/> <div><h4 class="mb-2 font-bold">Логотип</h4> <div class="flex flex-col gap-4"><div><div class="mb-2 grid grid-cols-[1fr_80px] place-content-center items-center"><label for="scale-slider" class="text-xs">Масштаб</label> <div class="flex items-center justify-between"><input id="scale-slider" type="number" min="0.1" max="5" step="0.1" class="outline-accent text-font-dark w-full rounded border border-black/20 bg-transparent px-2 py-0.5 text-right outline-offset-2 transition-all duration-300
focus-visible:outline-2"/></div></div> <input id="scale-slider" type="range" min="0.1" max="5" step="0.1" class="outline-accent w-full outline-offset-2 transition-all duration-300
focus-visible:outline-2"/></div> <div><div class="mb-2 grid grid-cols-[1fr_80px] place-content-center items-center"><label for="rotate-slider" class="text-xs">Поворот</label> <div class="flex items-center justify-between"><input id="rotate-slider" type="number" min="-180" max="180" class="outline-accent text-font-dark w-full rounded border border-black/20 bg-transparent px-2 py-1 text-right outline-offset-2 transition-all duration-300
focus-visible:outline-2"/></div></div> <input id="rotate-slider" type="range" min="-180" max="180" step="1" class="outline-accent w-full outline-offset-2 transition-all duration-300
focus-visible:outline-2"/></div> <div class="space-y-1.5 text-xs"><div class="mb-2 grid grid-cols-[1fr_80px] place-content-center items-center"><label for="logo-x" class="text-font-dark/60">X:</label> <input step="1" name="logo-x" id="logo-x" type="number" class="outline-accent text-font-dark w-full rounded border border-black/20 bg-transparent px-2 py-1 text-right outline-offset-2 transition-all duration-300
focus-visible:outline-2"/></div> <div class="mb-2 grid grid-cols-[1fr_80px] place-content-center items-center"><label for="logo-y" class="text-font-dark/60">Y:</label> <input step="1" name="logo-y" id="logo-y" type="number" class="outline-accent text-font-dark w-full rounded border border-black/20 bg-transparent px-2 py-1 text-right outline-offset-2 transition-all duration-300
focus-visible:outline-2"/></div></div> <button class="outline-accent w-full rounded-md bg-white/10 py-2 text-center text-xs outline-offset-2 transition-all duration-300 hover:bg-white/20
focus-visible:outline-2">Сбросить трансформации</button></div></div></aside></main> <footer class="flex shrink-0 justify-end gap-4 border-t border-black/10 p-4"><button class="outline-accent rounded-lg bg-white/10 px-4 py-2 outline-offset-2 transition-all duration-300 hover:bg-white/20
focus-visible:outline-2">Отмена</button> <button class="bg-accent outline-accent rounded-lg px-4 py-2 outline-offset-2 transition-all duration-300 hover:bg-[#e09c78]
focus-visible:outline-2">Сохранить и добавить</button></footer></div></dialog>`);function Wa(a,e){Rt(e,!0);let r,c=Tt(null),l=Tt(jt({canvasWidth:512,canvasHeight:384,logoX:0,logoY:0,logoScale:1,logoRotate:0,keepAspectRatio:!1}));Fe(()=>(e.logo&&r&&(document.body.classList.add("modal-open"),r.open||(async()=>(I(l).canvasWidth=e.logo.width,I(l).canvasHeight=e.logo.height,I(l).logoX=I(l).canvasWidth/2,I(l).logoY=I(l).canvasHeight/2,I(l).logoScale=1,I(l).logoRotate=0,I(l).keepAspectRatio=!1,r.showModal()))()),()=>{document.body.classList.remove("modal-open")}));async function o(){if(!I(c)||typeof I(c).getExportData!="function"){console.error("Активный редактор не предоставляет метод getExportData()");return}const N=await I(c).getExportData();if(!N){console.error("Не удалось получить данные для экспорта из редактора.");return}const B={originalId:e.logo.id,canvasWidth:I(l).canvasWidth,canvasHeight:I(l).canvasHeight,logoX:I(l).logoX,logoY:I(l).logoY,logoScale:I(l).logoScale,logoRotate:I(l).logoRotate,...N};e.onSave(B),r.close()}function u(){e.onClose(),r.close()}var g=ja(),p=Z(g),v=Z(p),m=Z(v),h=Z(m),b=X(m,2);b.__click=u;var t=Z(b);be(t,{name:"close"});var n=X(v,2),s=Z(n),f=Z(s);{var d=N=>{ye(Ba(N,{get logo(){return e.logo},get editor(){return I(l)},set editor(B){ft(l,B,!0)}}),B=>ft(c,B,!0),()=>I(c))},w=(N,B)=>{{var A=R=>{ye(Da(R,{get logo(){return e.logo},get editor(){return I(l)},set editor(H){ft(l,H,!0)}}),H=>ft(c,H,!0),()=>I(c))},T=R=>{var H=Pa(),G=Z(H);bt(()=>wt(G,`Логотип в формате ${e.logo.extension??""} не поддерживается для редактирования.`)),st(R,H)};Ft(N,R=>{e.logo.extension==="png"||e.logo.extension==="jpg"?R(A):R(T,!1)},B)}};Ft(f,N=>{e.logo.extension==="svg"?N(d):N(w,!1)})}var x=X(s,2),k=Z(x),E=X(Z(k),2),F=Z(E),C=X(Z(F),2),D=Z(C),O=X(F,2),V=X(Z(O),2),J=Z(V),S=X(O,2),j=X(Z(S),2),y=X(k,4),W=X(Z(y),2),rt=Z(W),U=Z(rt),tt=X(Z(U),2),q=Z(tt),at=X(U,2),M=X(rt,2),z=Z(M),$=X(Z(z),2),L=Z($),Y=X(z,2),ot=X(M,2),pt=Z(ot),ct=X(Z(pt),2),vt=X(pt,2),xt=X(Z(vt),2),It=X(ot,2);It.__click=[Ma,l];var nt=X(n,2),ut=Z(nt);ut.__click=u;var _=X(ut,2);_.__click=o,ye(g,N=>r=N,()=>r),bt(()=>wt(h,`Настройка: ${e.logo?.name??""}`)),dt("close",g,function(...N){e.onClose?.apply(this,N)}),Kt(D,()=>I(l).canvasWidth,N=>I(l).canvasWidth=N),Kt(J,()=>I(l).canvasHeight,N=>I(l).canvasHeight=N),$n(j,()=>I(l).keepAspectRatio,N=>I(l).keepAspectRatio=N),Kt(q,()=>I(l).logoScale,N=>I(l).logoScale=N),Kt(at,()=>I(l).logoScale,N=>I(l).logoScale=N),Kt(L,()=>I(l).logoRotate,N=>I(l).logoRotate=N),Kt(Y,()=>I(l).logoRotate,N=>I(l).logoRotate=N),Kt(ct,()=>I(l).logoX,N=>I(l).logoX=N),Kt(xt,()=>I(l).logoY,N=>I(l).logoY=N),st(a,g),Ot()}ne(["click"]);const je={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},ti={};for(const a of Object.keys(je))ti[je[a]]=a;const et={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},oklab:{channels:3,labels:["okl","oka","okb"]},lch:{channels:3,labels:"lch"},oklch:{channels:3,labels:["okl","okc","okh"]},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}},ue=(6/29)**3;function Ae(a){const e=a>.0031308?1.055*a**.4166666666666667-.055:a*12.92;return Math.min(Math.max(0,e),1)}function Se(a){return a>.04045?((a+.055)/1.055)**2.4:a/12.92}for(const a of Object.keys(et)){if(!("channels"in et[a]))throw new Error("missing channels property: "+a);if(!("labels"in et[a]))throw new Error("missing channel labels property: "+a);if(et[a].labels.length!==et[a].channels)throw new Error("channel and label counts mismatch: "+a);const{channels:e,labels:r}=et[a];delete et[a].channels,delete et[a].labels,Object.defineProperty(et[a],"channels",{value:e}),Object.defineProperty(et[a],"labels",{value:r})}et.rgb.hsl=function(a){const e=a[0]/255,r=a[1]/255,c=a[2]/255,l=Math.min(e,r,c),o=Math.max(e,r,c),u=o-l;let g,p;switch(o){case l:{g=0;break}case e:{g=(r-c)/u;break}case r:{g=2+(c-e)/u;break}case c:{g=4+(e-r)/u;break}}g=Math.min(g*60,360),g<0&&(g+=360);const v=(l+o)/2;return o===l?p=0:v<=.5?p=u/(o+l):p=u/(2-o-l),[g,p*100,v*100]};et.rgb.hsv=function(a){let e,r,c,l,o;const u=a[0]/255,g=a[1]/255,p=a[2]/255,v=Math.max(u,g,p),m=v-Math.min(u,g,p),h=function(b){return(v-b)/6/m+1/2};if(m===0)l=0,o=0;else{switch(o=m/v,e=h(u),r=h(g),c=h(p),v){case u:{l=c-r;break}case g:{l=1/3+e-c;break}case p:{l=2/3+r-e;break}}l<0?l+=1:l>1&&(l-=1)}return[l*360,o*100,v*100]};et.rgb.hwb=function(a){const e=a[0],r=a[1];let c=a[2];const l=et.rgb.hsl(a)[0],o=1/255*Math.min(e,Math.min(r,c));return c=1-1/255*Math.max(e,Math.max(r,c)),[l,o*100,c*100]};et.rgb.oklab=function(a){const e=Se(a[0]/255),r=Se(a[1]/255),c=Se(a[2]/255),l=Math.cbrt(.4122214708*e+.5363325363*r+.0514459929*c),o=Math.cbrt(.2119034982*e+.6806995451*r+.1073969566*c),u=Math.cbrt(.0883024619*e+.2817188376*r+.6299787005*c),g=.2104542553*l+.793617785*o-.0040720468*u,p=1.9779984951*l-2.428592205*o+.4505937099*u,v=.0259040371*l+.7827717662*o-.808675766*u;return[g*100,p*100,v*100]};et.rgb.cmyk=function(a){const e=a[0]/255,r=a[1]/255,c=a[2]/255,l=Math.min(1-e,1-r,1-c),o=(1-e-l)/(1-l)||0,u=(1-r-l)/(1-l)||0,g=(1-c-l)/(1-l)||0;return[o*100,u*100,g*100,l*100]};function Za(a,e){return(a[0]-e[0])**2+(a[1]-e[1])**2+(a[2]-e[2])**2}et.rgb.keyword=function(a){const e=ti[a];if(e)return e;let r=Number.POSITIVE_INFINITY,c;for(const l of Object.keys(je)){const o=je[l],u=Za(a,o);u<r&&(r=u,c=l)}return c};et.keyword.rgb=function(a){return je[a]};et.rgb.xyz=function(a){const e=Se(a[0]/255),r=Se(a[1]/255),c=Se(a[2]/255),l=e*.4124564+r*.3575761+c*.1804375,o=e*.2126729+r*.7151522+c*.072175,u=e*.0193339+r*.119192+c*.9503041;return[l*100,o*100,u*100]};et.rgb.lab=function(a){const e=et.rgb.xyz(a);let r=e[0],c=e[1],l=e[2];r/=95.047,c/=100,l/=108.883,r=r>ue?r**(1/3):7.787*r+16/116,c=c>ue?c**(1/3):7.787*c+16/116,l=l>ue?l**(1/3):7.787*l+16/116;const o=116*c-16,u=500*(r-c),g=200*(c-l);return[o,u,g]};et.hsl.rgb=function(a){const e=a[0]/360,r=a[1]/100,c=a[2]/100;let l,o;if(r===0)return o=c*255,[o,o,o];const u=c<.5?c*(1+r):c+r-c*r,g=2*c-u,p=[0,0,0];for(let v=0;v<3;v++)l=e+1/3*-(v-1),l<0&&l++,l>1&&l--,6*l<1?o=g+(u-g)*6*l:2*l<1?o=u:3*l<2?o=g+(u-g)*(2/3-l)*6:o=g,p[v]=o*255;return p};et.hsl.hsv=function(a){const e=a[0];let r=a[1]/100,c=a[2]/100,l=r;const o=Math.max(c,.01);c*=2,r*=c<=1?c:2-c,l*=o<=1?o:2-o;const u=(c+r)/2,g=c===0?2*l/(o+l):2*r/(c+r);return[e,g*100,u*100]};et.hsv.rgb=function(a){const e=a[0]/60,r=a[1]/100;let c=a[2]/100;const l=Math.floor(e)%6,o=e-Math.floor(e),u=255*c*(1-r),g=255*c*(1-r*o),p=255*c*(1-r*(1-o));switch(c*=255,l){case 0:return[c,p,u];case 1:return[g,c,u];case 2:return[u,c,p];case 3:return[u,g,c];case 4:return[p,u,c];case 5:return[c,u,g]}};et.hsv.hsl=function(a){const e=a[0],r=a[1]/100,c=a[2]/100,l=Math.max(c,.01);let o,u;u=(2-r)*c;const g=(2-r)*l;return o=r*l,o/=g<=1?g:2-g,o=o||0,u/=2,[e,o*100,u*100]};et.hwb.rgb=function(a){const e=a[0]/360;let r=a[1]/100,c=a[2]/100;const l=r+c;let o;l>1&&(r/=l,c/=l);const u=Math.floor(6*e),g=1-c;o=6*e-u,(u&1)!==0&&(o=1-o);const p=r+o*(g-r);let v,m,h;switch(u){default:case 6:case 0:{v=g,m=p,h=r;break}case 1:{v=p,m=g,h=r;break}case 2:{v=r,m=g,h=p;break}case 3:{v=r,m=p,h=g;break}case 4:{v=p,m=r,h=g;break}case 5:{v=g,m=r,h=p;break}}return[v*255,m*255,h*255]};et.cmyk.rgb=function(a){const e=a[0]/100,r=a[1]/100,c=a[2]/100,l=a[3]/100,o=1-Math.min(1,e*(1-l)+l),u=1-Math.min(1,r*(1-l)+l),g=1-Math.min(1,c*(1-l)+l);return[o*255,u*255,g*255]};et.xyz.rgb=function(a){const e=a[0]/100,r=a[1]/100,c=a[2]/100;let l,o,u;return l=e*3.2404542+r*-1.5371385+c*-.4985314,o=e*-.969266+r*1.8760108+c*.041556,u=e*.0556434+r*-.2040259+c*1.0572252,l=Ae(l),o=Ae(o),u=Ae(u),[l*255,o*255,u*255]};et.xyz.lab=function(a){let e=a[0],r=a[1],c=a[2];e/=95.047,r/=100,c/=108.883,e=e>ue?e**(1/3):7.787*e+16/116,r=r>ue?r**(1/3):7.787*r+16/116,c=c>ue?c**(1/3):7.787*c+16/116;const l=116*r-16,o=500*(e-r),u=200*(r-c);return[l,o,u]};et.xyz.oklab=function(a){const e=a[0]/100,r=a[1]/100,c=a[2]/100,l=Math.cbrt(.8189330101*e+.3618667424*r-.1288597137*c),o=Math.cbrt(.0329845436*e+.9293118715*r+.0361456387*c),u=Math.cbrt(.0482003018*e+.2643662691*r+.633851707*c),g=.2104542553*l+.793617785*o-.0040720468*u,p=1.9779984951*l-2.428592205*o+.4505937099*u,v=.0259040371*l+.7827717662*o-.808675766*u;return[g*100,p*100,v*100]};et.oklab.oklch=function(a){return et.lab.lch(a)};et.oklab.xyz=function(a){const e=a[0]/100,r=a[1]/100,c=a[2]/100,l=(.999999998*e+.396337792*r+.215803758*c)**3,o=(1.000000008*e-.105561342*r-.063854175*c)**3,u=(1.000000055*e-.089484182*r-1.291485538*c)**3,g=1.227013851*l-.55779998*o+.281256149*u,p=-.040580178*l+1.11225687*o-.071676679*u,v=-.076381285*l-.421481978*o+1.58616322*u;return[g*100,p*100,v*100]};et.oklab.rgb=function(a){const e=a[0]/100,r=a[1]/100,c=a[2]/100,l=(e+.3963377774*r+.2158037573*c)**3,o=(e-.1055613458*r-.0638541728*c)**3,u=(e-.0894841775*r-1.291485548*c)**3,g=Ae(4.0767416621*l-3.3077115913*o+.2309699292*u),p=Ae(-1.2684380046*l+2.6097574011*o-.3413193965*u),v=Ae(-.0041960863*l-.7034186147*o+1.707614701*u);return[g*255,p*255,v*255]};et.oklch.oklab=function(a){return et.lch.lab(a)};et.lab.xyz=function(a){const e=a[0],r=a[1],c=a[2];let l,o,u;o=(e+16)/116,l=r/500+o,u=o-c/200;const g=o**3,p=l**3,v=u**3;return o=g>ue?g:(o-16/116)/7.787,l=p>ue?p:(l-16/116)/7.787,u=v>ue?v:(u-16/116)/7.787,l*=95.047,o*=100,u*=108.883,[l,o,u]};et.lab.lch=function(a){const e=a[0],r=a[1],c=a[2];let l;l=Math.atan2(c,r)*360/2/Math.PI,l<0&&(l+=360);const u=Math.sqrt(r*r+c*c);return[e,u,l]};et.lch.lab=function(a){const e=a[0],r=a[1],l=a[2]/360*2*Math.PI,o=r*Math.cos(l),u=r*Math.sin(l);return[e,o,u]};et.rgb.ansi16=function(a,e=null){const[r,c,l]=a;let o=e===null?et.rgb.hsv(a)[2]:e;if(o=Math.round(o/50),o===0)return 30;let u=30+(Math.round(l/255)<<2|Math.round(c/255)<<1|Math.round(r/255));return o===2&&(u+=60),u};et.hsv.ansi16=function(a){return et.rgb.ansi16(et.hsv.rgb(a),a[2])};et.rgb.ansi256=function(a){const e=a[0],r=a[1],c=a[2];return e>>4===r>>4&&r>>4===c>>4?e<8?16:e>248?231:Math.round((e-8)/247*24)+232:16+36*Math.round(e/255*5)+6*Math.round(r/255*5)+Math.round(c/255*5)};et.ansi16.rgb=function(a){a=a[0];let e=a%10;if(e===0||e===7)return a>50&&(e+=3.5),e=e/10.5*255,[e,e,e];const r=(Math.trunc(a>50)+1)*.5,c=(e&1)*r*255,l=(e>>1&1)*r*255,o=(e>>2&1)*r*255;return[c,l,o]};et.ansi256.rgb=function(a){if(a=a[0],a>=232){const o=(a-232)*10+8;return[o,o,o]}a-=16;let e;const r=Math.floor(a/36)/5*255,c=Math.floor((e=a%36)/6)/5*255,l=e%6/5*255;return[r,c,l]};et.rgb.hex=function(a){const r=(((Math.round(a[0])&255)<<16)+((Math.round(a[1])&255)<<8)+(Math.round(a[2])&255)).toString(16).toUpperCase();return"000000".slice(r.length)+r};et.hex.rgb=function(a){const e=a.toString(16).match(/[a-f\d]{6}|[a-f\d]{3}/i);if(!e)return[0,0,0];let r=e[0];e[0].length===3&&(r=[...r].map(g=>g+g).join(""));const c=Number.parseInt(r,16),l=c>>16&255,o=c>>8&255,u=c&255;return[l,o,u]};et.rgb.hcg=function(a){const e=a[0]/255,r=a[1]/255,c=a[2]/255,l=Math.max(Math.max(e,r),c),o=Math.min(Math.min(e,r),c),u=l-o;let g;const p=u<1?o/(1-u):0;return u<=0?g=0:l===e?g=(r-c)/u%6:l===r?g=2+(c-e)/u:g=4+(e-r)/u,g/=6,g%=1,[g*360,u*100,p*100]};et.hsl.hcg=function(a){const e=a[1]/100,r=a[2]/100,c=r<.5?2*e*r:2*e*(1-r);let l=0;return c<1&&(l=(r-.5*c)/(1-c)),[a[0],c*100,l*100]};et.hsv.hcg=function(a){const e=a[1]/100,r=a[2]/100,c=e*r;let l=0;return c<1&&(l=(r-c)/(1-c)),[a[0],c*100,l*100]};et.hcg.rgb=function(a){const e=a[0]/360,r=a[1]/100,c=a[2]/100;if(r===0)return[c*255,c*255,c*255];const l=[0,0,0],o=e%1*6,u=o%1,g=1-u;let p=0;switch(Math.floor(o)){case 0:{l[0]=1,l[1]=u,l[2]=0;break}case 1:{l[0]=g,l[1]=1,l[2]=0;break}case 2:{l[0]=0,l[1]=1,l[2]=u;break}case 3:{l[0]=0,l[1]=g,l[2]=1;break}case 4:{l[0]=u,l[1]=0,l[2]=1;break}default:l[0]=1,l[1]=0,l[2]=g}return p=(1-r)*c,[(r*l[0]+p)*255,(r*l[1]+p)*255,(r*l[2]+p)*255]};et.hcg.hsv=function(a){const e=a[1]/100,r=a[2]/100,c=e+r*(1-e);let l=0;return c>0&&(l=e/c),[a[0],l*100,c*100]};et.hcg.hsl=function(a){const e=a[1]/100,c=a[2]/100*(1-e)+.5*e;let l=0;return c>0&&c<.5?l=e/(2*c):c>=.5&&c<1&&(l=e/(2*(1-c))),[a[0],l*100,c*100]};et.hcg.hwb=function(a){const e=a[1]/100,r=a[2]/100,c=e+r*(1-e);return[a[0],(c-e)*100,(1-c)*100]};et.hwb.hcg=function(a){const e=a[1]/100,c=1-a[2]/100,l=c-e;let o=0;return l<1&&(o=(c-l)/(1-l)),[a[0],l*100,o*100]};et.apple.rgb=function(a){return[a[0]/65535*255,a[1]/65535*255,a[2]/65535*255]};et.rgb.apple=function(a){return[a[0]/255*65535,a[1]/255*65535,a[2]/255*65535]};et.gray.rgb=function(a){return[a[0]/100*255,a[0]/100*255,a[0]/100*255]};et.gray.hsl=function(a){return[0,0,a[0]]};et.gray.hsv=et.gray.hsl;et.gray.hwb=function(a){return[0,100,a[0]]};et.gray.cmyk=function(a){return[0,0,0,a[0]]};et.gray.lab=function(a){return[a[0],0,0]};et.gray.hex=function(a){const e=Math.round(a[0]/100*255)&255,c=((e<<16)+(e<<8)+e).toString(16).toUpperCase();return"000000".slice(c.length)+c};et.rgb.gray=function(a){return[(a[0]+a[1]+a[2])/3/255*100]};function Ya(){const a={},e=Object.keys(et);for(let{length:r}=e,c=0;c<r;c++)a[e[c]]={distance:-1,parent:null};return a}function Ha(a){const e=Ya(),r=[a];for(e[a].distance=0;r.length>0;){const c=r.pop(),l=Object.keys(et[c]);for(let{length:o}=l,u=0;u<o;u++){const g=l[u],p=e[g];p.distance===-1&&(p.distance=e[c].distance+1,p.parent=c,r.unshift(g))}}return e}function Va(a,e){return function(r){return e(a(r))}}function Xa(a,e){const r=[e[a].parent,a];let c=et[e[a].parent][a],l=e[a].parent;for(;e[l].parent;)r.unshift(e[l].parent),c=Va(et[e[l].parent][l],c),l=e[l].parent;return c.conversion=r,c}function qa(a){const e=Ha(a),r={},c=Object.keys(e);for(let{length:l}=c,o=0;o<l;o++){const u=c[o];e[u].parent!==null&&(r[u]=Xa(u,e))}return r}const Xt={},Ga=Object.keys(et);function Ka(a){const e=function(...r){const c=r[0];return c==null?c:(c.length>1&&(r=c),a(r))};return"conversion"in a&&(e.conversion=a.conversion),e}function Ja(a){const e=function(...r){const c=r[0];if(c==null)return c;c.length>1&&(r=c);const l=a(r);if(typeof l=="object")for(let{length:o}=l,u=0;u<o;u++)l[u]=Math.round(l[u]);return l};return"conversion"in a&&(e.conversion=a.conversion),e}for(const a of Ga){Xt[a]={},Object.defineProperty(Xt[a],"channels",{value:et[a].channels}),Object.defineProperty(Xt[a],"labels",{value:et[a].labels});const e=qa(a),r=Object.keys(e);for(const c of r){const l=e[c];Xt[a][c]=Ja(l),Xt[a][c].raw=Ka(l)}}function un(a){const e=document.createElement("textarea");e.value=a,e.style.position="fixed",e.style.top="-9999px",e.style.left="-9999px",document.body.appendChild(e),e.focus(),e.select();let r=!1;try{r=document.execCommand("copy")}catch(c){console.error("Fallback-копирование не удалось:",c)}return document.body.removeChild(e),r}async function ei(a){if(navigator.clipboard&&window.isSecureContext)try{await navigator.clipboard.writeText(a)}catch(e){if(console.warn("Clipboard API не сработал, используется fallback-метод.",e),!un(a))throw new Error("Fallback-копирование также не удалось.")}else if(!un(a))throw new Error("Fallback-копирование не удалось.")}function ve(a,e,r){if(!a)return r;const c=a.replace("#","");if(c.length===3){const[p,v,m]=c.split(""),h=parseInt(p+p,16),b=parseInt(v+v,16),t=parseInt(m+m,16);return(.299*h+.587*b+.114*t)/255>.5?e:r}const l=parseInt(c.substring(0,2),16),o=parseInt(c.substring(2,4),16),u=parseInt(c.substring(4,6),16);return isNaN(l)||isNaN(o)||isNaN(u)?r:(.299*l+.587*o+.114*u)/255>.5?e:r}function Qa(a,e,r,c,l){I(e)||I(r)||(["Enter"," "].includes(a.key)?(a.preventDefault(),c()):a.key==="ArrowLeft"?(a.preventDefault(),l("prev")):a.key==="ArrowRight"&&(a.preventDefault(),l("next")))}var $a=(a,e)=>{(a.key==="Enter"||a.key===" ")&&(a.preventDefault(),a.stopPropagation(),e("prev"))},to=(a,e)=>{(a.key==="Enter"||a.key===" ")&&(a.preventDefault(),a.stopPropagation(),e("next"))},eo=ht("<div></div>"),ro=ht('<div class="absolute inset-0 z-10 grid place-items-center rounded-lg bg-black/70 backdrop-blur-sm svelte-15hmx44" aria-live="polite"><span class="text-font-dark font-bold svelte-15hmx44">Скопировано!</span></div>'),no=ht('<div class="animation-explode absolute inset-0 z-30 grid place-items-center rounded-lg bg-red-800/70 backdrop-blur-sm svelte-15hmx44"><span class="text-font-dark animate-pulse text-2xl font-bold svelte-15hmx44">BOOM!</span></div>'),io=ht('<div title="Нажмите, чтобы скопировать. Свайпните, чтобы изменить формат." role="button" tabindex="0"><div class="pointer-events-none svelte-15hmx44"><header class="text-lg font-semibold svelte-15hmx44"> </header> <footer class="absolute bottom-4 left-4 max-w-[calc(100%-4rem)] svelte-15hmx44"><div class="text-xs opacity-70 svelte-15hmx44"> </div> <div class="truncate font-mono font-semibold svelte-15hmx44"> </div></footer></div> <div class="pointer-fine:group-hover:visible invisible absolute inset-0 flex items-center justify-between px-2 group-focus-within:visible group-focus:visible svelte-15hmx44"><button type="button" aria-label="Предыдущий формат" data-arrow="prev" tabindex="-1"><!></button> <button type="button" aria-label="Следующий формат" data-arrow="next" tabindex="-1"><!></button></div> <div class="pointer-events-none absolute bottom-4 right-4 flex gap-1.5 svelte-15hmx44"></div> <!> <!></div>');function ao(a,e){Rt(e,!0);let r=Tt(!1),c=Tt(0),l=null,o=Tt(0),u=0;const g=10,p=1e3;let v=Tt(!1),m=null;const h=[{key:"hex",label:"HEX"},{key:"rgb",label:"RGB"},{key:"hsl",label:"HSL"},{key:"cmyk",label:"CMYK"}],b=At(()=>{const $=e.color.hex.replace("#",""),L=Xt.hex.rgb($),Y=Xt.hex.hsl($),ot=Xt.hex.cmyk($);return{hex:`#${$.toUpperCase()}`,rgb:`rgb(${L.join(", ")})`,hsl:`hsl(${Y[0]}, ${Y[1]}%, ${Y[2]}%)`,cmyk:`cmyk(${ot[0]}%, ${ot[1]}%, ${ot[2]}%, ${ot[3]}%)`}}),t=At(()=>I(b)[h[I(c)].key]);async function n(){if(!(I(v)||I(r)))try{await ei(I(t)),s()}catch($){console.error("Не удалось скопировать текст цвета:",$),alert("Не удалось скопировать. Пожалуйста, попробуйте вручную.")}}function s(){I(r)||(ft(r,!0),clearTimeout(l),l=setTimeout(()=>{ft(r,!1)},2e3))}function f($){if(I(v)||I(r))return;const L=$==="next"?1:-1,Y=(I(c)+L+h.length)%h.length;ft(c,Y)}function d($){if(I(v))return;const L=Date.now();if(L-u<p?Ni(o):ft(o,1),u=L,I(o)>=g){ft(v,!0),clearTimeout(m),m=setTimeout(()=>{ft(v,!1),ft(o,0)},500);return}if(I(r))return;const ot=$.detail.trueTarget?.closest("[data-arrow]");ot?f(ot.dataset.arrow):n()}var w=io();w.__keydown=[Qa,v,r,n,f];let x,k;var E=Z(w),F=Z(E),C=Z(F),D=X(F,2),O=Z(D),V=Z(O),J=X(O,2),S=Z(J),j=X(E,2),y=Z(j);y.__keydown=[$a,f];var W=Z(y);be(W,{name:"arrow-left"});var rt=X(y,2);rt.__keydown=[to,f];var U=Z(rt);be(U,{name:"arrow-right"});var tt=X(j,2);Lt(tt,21,()=>h,Or,($,L,Y)=>{var ot=eo();bt(()=>zt(ot,1,`h-1.5 w-1.5 rounded-full transition-all ${I(c)===Y?"bg-current":"bg-current/30"}`,"svelte-15hmx44")),st($,ot)});var q=X(tt,2);{var at=$=>{var L=ro();st($,L)};Ft(q,$=>{I(r)&&$(at)})}var M=X(q,2);{var z=$=>{var L=no();st($,L)};Ft(M,$=>{I(v)&&$(z)})}Mt(w,($,L)=>Vt?.($,L),()=>({preventWheel:!1,recognizeDoubleTap:!1})),bt(($,L,Y,ot)=>{x=zt(w,1,`${$??""} focus-visible:outline-accent group relative flex aspect-square w-full cursor-pointer touch-pan-y select-none flex-col justify-between rounded-lg border border-black/10 p-4 text-left outline-offset-2
  transition-all duration-300 hover:-translate-y-1 focus-visible:outline-2 active:scale-95 active:duration-75`,"svelte-15hmx44",x,L),k=Bt(w,"",k,{"background-color":e.color.hex}),wt(C,e.color.name),wt(V,h[I(c)].label),wt(S,I(t)),zt(y,1,`${Y??""} cursor-pointer rounded-full bg-black/20 p-2 transition-colors hover:bg-black/40 focus-visible:outline-2`,"svelte-15hmx44"),zt(rt,1,`${ot??""} cursor-pointer rounded-full bg-black/20 p-2 transition-colors hover:bg-black/40 focus-visible:outline-2`,"svelte-15hmx44")},[()=>ve(e.color.hex,"text-font-dark","text-font-dark"),()=>({exploded:I(v)}),()=>ve(e.color.hex,"outline-black","outline-white"),()=>ve(e.color.hex,"outline-black","outline-white")]),dt("tap",w,d),dt("swipeleft",w,()=>f("next")),dt("swiperight",w,()=>f("prev")),st(a,w),Ot()}ne(["keydown"]);var oo=ht('<div class="flex items-start"><span class="text-font-dark/50 w-28 shrink-0 font-mono"> </span> <span class="text-font-dark/90 flex-grow break-words font-mono"> </span></div>'),so=(a,e,r)=>e(I(r)),lo=ht('<div class="flex flex-col gap-4 rounded-lg ring-1 ring-black/50 p-6"><h3 class="text-font-dark/80 text-lg font-semibold"> </h3> <div class="max-w-full overflow-hidden rounded-md py-4 sm:px-4"><p> </p></div> <details class="text-xs"><summary class="text-font-dark/80 hover:text-font-dark cursor-pointer font-medium">Показать CSS Свойства</summary> <div class="mt-4 flex flex-col gap-4 rounded-md border border-white/10 p-4"><div class="space-y-1.5"><div class="flex flex-col gap-1.5"></div></div> <button class="text-font-dark/80 mt-2 flex w-full max-w-xs items-center justify-center gap-2 rounded-md bg-white/10 px-3 py-2 text-center transition-colors hover:bg-white/20"> </button></div></details></div>'),uo=ht('<div class="flex flex-col gap-8"><textarea class="focus:ring-accent text-font-dark min-h-32 w-full resize-y rounded-lg ring-1 ring-black/50 p-4 text-base focus:outline-none focus:ring-2" placeholder="Введите текст для предпросмотра типографики..." aria-label="Текст для предпросмотра типографики" id="typography-input"></textarea> <!></div>');function co(a,e){Rt(e,!0);let r=Tt("Каждая буква имеет смысл."),c=jt({});function l(v){const m=Object.entries(v.properties).map(([h,b])=>`  ${h}: ${b.css};`).join(`
`);return`.${v.id} {
${m}
}`}async function o(v){const m=l(v);try{await ei(m),c[v.id]=!0,setTimeout(()=>{c[v.id]=!1},2e3)}catch(h){console.error("Не удалось скопировать CSS:",h),alert("Не удалось скопировать CSS. Пожалуйста, попробуйте вручную.")}}var u=uo(),g=Z(u),p=X(g,2);Lt(p,17,()=>e.styles,v=>v.id,(v,m)=>{var h=lo(),b=Z(h),t=Z(b),n=X(b,2),s=Z(n),f=Z(s),d=X(n,2),w=X(Z(d),2),x=Z(w),k=Z(x);Lt(k,21,()=>Object.entries(I(m).properties),([C,D])=>C,(C,D)=>{var O=At(()=>di(I(D),2));let V=()=>I(O)[0],J=()=>I(O)[1];var S=oo(),j=Z(S),y=Z(j),W=X(j,2),rt=Z(W);bt(()=>{wt(y,`${V()??""}:`),wt(rt,`${J().display??""};`)}),st(C,S)});var E=X(x,2);E.__click=[so,o,m];var F=Z(E);bt(()=>{wt(t,I(m).name),zt(s,1,va(I(m).className)),Bt(s,`font-family: ${I(m).properties["font-family"].css??""}`),wt(f,I(r)||"Пустой текст для предпросмотра."),wt(F,c[I(m).id]?"Скопировано!":"Копировать CSS")}),st(v,h)}),Kt(g,()=>I(r),v=>ft(r,v)),st(a,u),Ot()}ne(["click"]);var fo=ht('<p class="text-font-dark/60 mt-1 max-w-2xl text-sm"> </p>'),ho=ht(`<div class="flex flex-col gap-3"><div><h3 class="text-xl font-semibold"> </h3> <!></div> <div class="relative aspect-video w-full touch-pan-y select-none overflow-hidden rounded-lg"><img alt="Неправильное использование" class="pointer-events-none absolute inset-0 h-full w-full object-cover"/> <div class="absolute inset-0 h-full w-full overflow-hidden"><img alt="Правильное использование" class="pointer-events-none absolute inset-0 h-full w-full object-cover"/></div> <div class="focus-visible:outline-offset-14 focus-visible:outline-accent absolute bottom-0 top-0 flex
           w-1 cursor-ew-resize items-center
           justify-center bg-white focus-visible:outline-2" role="slider" aria-valuemin="0" aria-valuemax="100" aria-label="Сравнение до и после" tabindex="0"><div class="flex min-h-8 min-w-8 items-center justify-center rounded-full border-2 border-black/50 bg-white"><svg class="text-font-dark h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 9l4-4 4 4m0 6l-4 4-4-4"></path></svg></div></div></div></div>`);function go(a,e){let r=Tt(50),c;function l(d){if(!c)return;const w=c.getBoundingClientRect(),k=(d.detail.x-w.left)/w.width*100;ft(r,Math.max(0,Math.min(100,k)),!0)}function o(d){let w=I(r);d.key==="ArrowLeft"?(d.preventDefault(),w-=1):d.key==="ArrowRight"&&(d.preventDefault(),w+=1),ft(r,Math.max(0,Math.min(100,w)),!0)}var u=ho(),g=Z(u),p=Z(g),v=Z(p),m=X(p,2);{var h=d=>{var w=fo(),x=Z(w);bt(()=>wt(x,e.description)),st(d,w)};Ft(m,d=>{e.description&&d(h)})}var b=X(g,2),t=Z(b),n=X(t,2),s=Z(n),f=X(n,2);f.__keydown=o,ye(b,d=>c=d,()=>c),Mt(b,(d,w)=>Vt?.(d,w),()=>({preventWheel:!1})),bt(d=>{wt(v,e.title),gt(t,"src",e.imageDont),Bt(n,`clip-path: inset(0 ${100-I(r)}% 0 0);`),gt(s,"src",e.imageDo),Bt(f,`left: ${I(r)??""}%;`),gt(f,"aria-valuenow",d)},[()=>Math.round(I(r))]),dt("pan",b,l),st(a,u)}ne(["keydown"]);function po(a,e){ft(e,!0)}var vo=ht(`<div class="h-full w-full"><img class="h-full w-full object-cover"/> <button class="absolute inset-0 flex items-center justify-center bg-black/70 transition-colors duration-300 hover:bg-black/50" aria-label="Воспроизвести видео"><div class="flex h-16 w-16 items-center justify-center rounded-full bg-white/20 backdrop-blur-sm transition-all duration-300 hover:scale-[1.02] hover:bg-white/30
            active:scale-[1.05]"><!></div></button></div>`),mo=ht('<video class="h-full w-full object-contain" controls autoplay loop><source type="video/webp"/> <source type="video/mp4"/> Ваш браузер не поддерживает это видео.</video>',2),bo=(a,e,r,c)=>e(I(r).ratio,c,a.currentTarget.checked),_o=ht('<div class="group"><input type="checkbox" class="sr-only"/> <label> </label></div>'),wo=ht('<div class="flex flex-col justify-between gap-1 rounded-md bg-white/10 p-2"><div class="text-center font-semibold"> </div> <div class="text-font-dark/50 text-center"> </div> <div class="mt-1 grid grid-cols-2 gap-1"></div></div>'),yo=ht('<div class="flex flex-col gap-4 rounded-lg shadow-2xl p-4 bg-white"><h3 class="text-font-dark/80 text-lg font-semibold"> </h3> <div class="outline-accent relative aspect-video w-full overflow-hidden rounded-md bg-black transition-all duration-300 has-[:focus-visible]:outline-2"><!></div> <div class="flex flex-col gap-2"><h4 class="text-font-dark/70 text-sm font-medium">Выбрать форматы для скачивания:</h4> <div class="grid grid-cols-2 gap-2 text-xs sm:grid-cols-4"></div></div></div>');function xo(a,e){Rt(e,!0);let r=Jt(e,"selectedFormats",19,()=>[]),c=Tt(!1),l=Tt(null);Fe(()=>{I(c)&&I(l)&&I(l).play().catch(s=>{console.error("Ошибка автовоспроизведения видео:",s)})});function o(s,f,d){e.onToggle({id:e.video.id,format:{ratio:s,type:f},checked:d,assetType:"video"})}var u=yo(),g=Z(u),p=Z(g),v=X(g,2),m=Z(v);{var h=s=>{var f=vo(),d=Z(f),w=X(d,2);w.__click=[po,c];var x=Z(w),k=Z(x);be(k,{name:"play"}),bt(()=>{gt(d,"src",e.video.thumbnailUrl),gt(d,"alt",`Превью для ${e.video.title??""}`)}),st(s,f)},b=s=>{var f=mo();f.muted=!0;var d=Z(f),w=X(d,2);ye(f,x=>ft(l,x),()=>I(l)),bt(()=>{gt(d,"src",e.video.formats[0].urls.webp),gt(w,"src",e.video.formats[0].urls.mp4)}),st(s,f)};Ft(m,s=>{I(c)?s(b,!1):s(h)})}var t=X(v,2),n=X(Z(t),2);Lt(n,21,()=>e.video.formats,s=>s.ratio,(s,f)=>{var d=wo(),w=Z(d),x=Z(w),k=X(w,2),E=Z(k),F=X(k,2);Lt(F,20,()=>Object.keys(I(f).urls),C=>C,(C,D)=>{var O=_o();const V=At(()=>`${e.video.id}-${I(f).ratio}-${D}`),J=At(()=>r().some(W=>W.ratio===I(f).ratio&&W.type===D));var S=Z(O);S.__change=[bo,o,f,D];var j=X(S,2),y=Z(j);bt(W=>{gt(S,"id",I(V)),Qn(S,I(J)),gt(j,"for",I(V)),zt(j,1,`outline-accent flex h-full cursor-pointer items-center justify-center rounded-sm p-1 text-center outline-offset-2 transition-all duration-300 group-has-[:focus-visible]:outline-2 ${I(J)?"bg-accent":"bg-white/10 hover:bg-white/20"}`),wt(y,W)},[()=>D.toUpperCase()]),st(C,O)}),bt(()=>{wt(x,I(f).name),wt(E,I(f).resolution)}),st(s,d)}),bt(()=>wt(p,e.video.title)),st(a,u),Ot()}ne(["click","change"]);function ko(a,e,r,c,l){e.onSave({baseId:I(r).id,basePatternUrl:I(r).url,patternColor:I(c),backgroundColor:I(l)})}var Eo=(a,e,r)=>ft(e,I(r),!0),To=ht("<button> </button>"),Io=(a,e,r)=>ft(e,I(r).hex,!0),Ao=ht("<button></button>"),So=(a,e)=>ft(e,"transparent"),Fo=(a,e,r)=>ft(e,I(r).hex,!0),Co=ht("<button></button>"),Lo=ht('<div class="flex flex-col items-start gap-8 md:flex-row"><div class="flex w-full shrink-0 flex-col gap-6 md:w-72"><div><h4 class="mb-2 font-semibold">Шаблон</h4> <div class="flex flex-wrap gap-2"></div></div> <div><h4 class="mb-2 font-semibold">Цвет элементов</h4> <div class="flex flex-wrap items-center gap-2"><!> <input type="color" class="outline-accent h-9 w-10 cursor-pointer appearance-none rounded-md border-none bg-transparent p-0 outline-offset-2 transition-all duration-300 focus-visible:outline-2" aria-label="Выбрать свой цвет для элементов"/></div></div> <div><h4 class="mb-2 font-semibold">Цвет фона</h4> <div class="flex flex-wrap items-center gap-2"><button style="background: repeating-conic-gradient(#808080 0% 25%, transparent 0% 50%) 50% / 10px 10px;" aria-label="Выбрать прозрачный фон" title="Прозрачный фон"><div class="absolute -inset-px bg-white/20"></div></button> <!> <input type="color" class="outline-accent h-9 w-10 cursor-pointer appearance-none rounded-md border-none bg-transparent p-0 outline-offset-2 transition-all duration-300 focus-visible:outline-2" aria-label="Выбрать свой цвет для фона"/></div></div> <button class="outline-accent mt-2 w-full rounded-md ring-1 ring-black/50 bg-white/10 py-2 text-center font-semibold outline-offset-2 transition-all duration-300 hover:bg-white/20 focus-visible:outline-2 active:scale-95 active:duration-75">Добавить в загрузку</button></div> <div class="flex aspect-video w-full justify-center rounded-lg bg-black/15 p-4 shadow-inner" aria-label="Превью сгенерированного паттерна"><img alt="Превью одиночного тайла" class="max-h-full max-w-full object-contain"/></div></div>');function Ro(a,e){Rt(e,!0);let r=Tt(jt(e.patterns[0])),c=Tt(jt(e.brandColors[0].items[0].hex)),l=Tt(jt(e.brandColors[0].items[1].hex));const o=At(()=>{if(!I(r).svgContent)return"";const C=(I(r).svgContent.match(/<svg[^>]*>([\s\S]*)<\/svg>/)?.[1]||"").replace(/currentColor/g,I(c)),D=I(r).svgContent.match(/viewBox="0 0 ([\d.]+) ([\d.]+)"/),O=D?parseFloat(D[1]):50,V=D?parseFloat(D[2]):50,J=`
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 ${O} ${V}">
        <rect width="100%" height="100%" fill="${I(l)}" />
        ${C}
      </svg>`;return"data:image/svg+xml;base64,"+btoa(unescape(encodeURIComponent(J)))});Fe(()=>{const F=I(r);fetch(F.url).then(C=>C.text()).then(C=>{F.id===I(r).id&&(F.svgContent=C)})});var u=Lo(),g=Z(u),p=Z(g),v=X(Z(p),2);Lt(v,21,()=>e.patterns,F=>F.id,(F,C)=>{var D=To();D.__click=[Eo,r,C];var O=Z(D);bt(()=>{zt(D,1,`outline-accent text-font-dark/80 h-10 max-w-sm grow rounded-md border-2 bg-white/10 px-3 outline-offset-2 transition-all hover:bg-white/20 focus-visible:outline-2 active:scale-95 ${I(r)===I(C)?"border-accent":""}`),wt(O,I(C).name)}),st(F,D)});var m=X(p,2),h=X(Z(m),2),b=Z(h);Lt(b,17,()=>e.brandColors.flatMap(F=>F.items),F=>F.hex,(F,C)=>{var D=Ao();D.__click=[Io,c,C],bt(()=>{zt(D,1,`outline-accent h-8 w-8 rounded-full border-2 outline-offset-2 transition-all duration-300 hover:scale-110 focus-visible:outline-2 active:scale-95 ${I(c)===I(C).hex?"border-accent":""}`),Bt(D,`background-color: ${I(C).hex??""};`),gt(D,"aria-label",`Выбрать цвет ${(I(C).name||I(C).hex)??""}`)}),st(F,D)});var t=X(b,2),n=X(m,2),s=X(Z(n),2),f=Z(s);f.__click=[So,l];var d=X(f,2);Lt(d,17,()=>e.brandColors.flatMap(F=>F.items),F=>F.hex,(F,C)=>{var D=Co();D.__click=[Fo,l,C],bt(()=>{zt(D,1,`outline-accent h-8 w-8 rounded-full border-2 outline-offset-2 transition-all duration-300 hover:scale-110 focus-visible:outline-2 active:scale-95 ${I(l)===I(C).hex?"border-accent":""}`),Bt(D,`background-color: ${I(C).hex??""};`),gt(D,"aria-label",`Выбрать цвет фона ${(I(C).name||I(C).hex)??""}`)}),st(F,D)});var w=X(d,2),x=X(n,2);x.__click=[ko,e,r,c,l];var k=X(g,2),E=Z(k);bt(()=>{zt(f,1,`outline-accent relative h-8 w-8 overflow-hidden rounded-full border-2 outline-offset-2 transition-all duration-300 hover:scale-110 focus-visible:outline-2 active:scale-95 ${I(l)==="transparent"?"border-accent":""}`),gt(E,"src",I(o))}),Kt(t,()=>I(c),F=>ft(c,F)),Kt(w,()=>I(l),F=>ft(l,F)),st(a,u),Ot()}ne(["click"]);const Et="/Assets-demo",Ut=jt({logos:[{id:"adscompass-logo-light",name:"Adscompass светлый логотип",url:`$${Et}/logos/adscompass-logo-light.svg`,background:"#5e6ad2",color:"#ffffff",extension:"svg"},{id:"adscompass-logo-dark",name:"Adscompass тёмный логотип",url:`$${Et}/logos/adscompass-logo-dark.svg`,background:"#f4f2f4",color:"#000000",extension:"svg"},{id:"adscompass-logo-red",name:"Adscompass красный логотип",url:`$${Et}/logos/adscompass-logo-red.png`,background:"#f4f2f4",color:"#ffffff",extension:"png"}],colors:[{groupName:"Основные",items:[{name:"Красный",hex:"#FF1847"},{name:"Белый",hex:"#FFF8F9"},{name:"Чёрный",hex:"#190000"}]},{groupName:"Вспомогательные",items:[{name:"",hex:"#F13194"},{name:"",hex:"#F6598D"}]}],typography:[{id:"heading-1",name:"H1 - Заголовок",className:"text-5xl md:text-6xl font-bold leading-tight tracking-tighter",properties:{"font-family":{css:"Montserrat",display:"Montserrat"},"font-size":{css:"3rem",display:"3rem (48px)"},"font-weight":{css:"700",display:"700 (Bold)"},"line-height":{css:"1.1",display:"1.1"},"letter-spacing":{css:"-0.05em",display:"-0.05em"}}},{id:"heading-2",name:"H2 - Подзаголовок",className:"text-4xl md:text-5xl font-semibold leading-tight tracking-tight",properties:{"font-family":{css:"Montserrat",display:"Montserrat"},"font-size":{css:"2.25rem",display:"2.25rem (36px)"},"font-weight":{css:"600",display:"600 (Semibold)"},"line-height":{css:"1.2",display:"1.2"}}},{id:"body-text",name:"Body - Основной текст",className:"text-base md:text-lg font-normal leading-relaxed",properties:{"font-family":{css:"Inter",display:"Inter"},"font-size":{css:"1rem",display:"1rem (16px)"},"font-weight":{css:"400",display:"400 (Normal)"},"line-height":{css:"1.6",display:"1.6"}}},{id:"caption",name:"Caption - Подпись",className:"text-xs md:text-sm font-light text-font-dark/70",font:"main",properties:{"font-family":{css:"Inter",display:"Inter"},"font-size":{css:"0.75rem",display:"0.75rem (12px)"},"font-weight":{css:"300",display:"300 (Light)"},"line-height":{css:"1.4",display:"1.4"}}}],guidelines:[{id:"backgrounds",title:"Использование на фонах",description:"Для обеспечения максимальной читаемости и контраста, используйте светлую версию логотипа на темных и цветных фонах, а темную версию — на светлых. Избегайте использования логотипа на сложных, пестрых фонах, которые мешают его восприятию.",imageDo:`${Et}/guidelines/backgrounds-do.png`,imageDont:`${Et}/guidelines/backgrounds-dont.png`},{id:"stretch",title:"Не искажайте пропорции",description:"Растягивание или сжатие логотипа нарушает его целостность и узнаваемость. Всегда масштабируйте его пропорционально.",imageDo:`${Et}/guidelines/stretch-do.png`,imageDont:`${Et}/guidelines/stretch-dont.png`}],videos:[{id:"sample-video",title:"Тестовый образец",thumbnailUrl:`${Et}/videos/sample-video-thumbnail.png`,formats:[{name:"Горизонтальное (16:9)",ratio:"16x9",resolution:"1080×566",urls:{mp4:`${Et}/videos/sample-video-16x9.mp4`,webp:`${Et}/videos/sample-video-16x9.webp`}},{name:"Stories (9:16)",ratio:"9x16",resolution:"1080×1920",urls:{mp4:`${Et}/videos/sample-video-9x16.mp4`,webp:`${Et}/videos/sample-video-9x16.webp`}},{name:"Квадрат (1:1)",ratio:"1x1",resolution:"1080×1080",urls:{mp4:`${Et}/videos/sample-video-1x1.mp4`,webp:`${Et}/videos/sample-video-1x1.webp`}},{name:"Портретное (4:5)",ratio:"4x5",resolution:"1080×1350",urls:{mp4:`${Et}/videos/sample-video-4x5.mp4`,webp:`${Et}/videos/sample-video-4x5.webp`}}]},{id:"sample-video-2",title:"Тестовый образец",thumbnailUrl:`${Et}/videos/sample-video-2-thumbnail.png`,formats:[{name:"Горизонтальное (16:9)",ratio:"16x9",resolution:"1080×566",urls:{mp4:`${Et}/videos/sample-video-2-16x9.mp4`,webp:`${Et}/videos/sample-video-2-16x9.webp`}},{name:"Портретное (4:5)",ratio:"4x5",resolution:"1080×1350",urls:{mp4:`${Et}videos/sample-video-2-4x5.mp4`,webp:`${Et}videos/sample-video-2-4x5.webp`}}]}],patterns:[{id:"mesh",name:"Сетка из ромбов",url:`${Et}/patterns/diamond.svg`},{id:"square",name:"Сетка из квадратов",url:`${Et}/patterns/square.svg`}],contacts:[{id:"alex",name:"Алекс",role:"Team Lead",email:"partners@adscompass.com",telegram:"ads_compass",photoUrl:`${Et}/team/alex.jpg`},{id:"alexander",name:"Александр",role:"Traffic Manager",email:"traffic@adscompass.com",telegram:"traffic_adscompass",photoUrl:`${Et}/team/alexander.jpg`},{id:"marina",name:"Марина",role:"Account Manager",email:"corp@adscompass.com",telegram:"corp_adscompass",photoUrl:`${Et}/team/marina.jpg`},{id:"stasya",name:"Стася",role:"Business Development",email:"advertising@adscompass.com",telegram:"adv_adscompass",photoUrl:`${Et}/team/support.jpg`},{id:"katerina",name:"Катерина",role:"Account Manager",email:"web@adscompass.com",telegram:"web_adscompass",photoUrl:`${Et}/team/ support.jpg`},{id:"support",name:"Служба поддержки",role:"Dubai, UAE",email:"support@adscompass.com",telegram:null,photoUrl:`${Et}/team/support.jpg`}],aboutCompany:{heading:"Международная рекламная сеть для покупки и продажи трафика",paragraphs:["С 2013 года AdsCompass является экспертом в мире интернет-рекламы, предлагая выгодные условия для вебмастеров, рекламодателей, медиабайеров и рекламных сетей.","Мы работаем по моделям CPC/CPM и предоставляем доступ к трафику из более чем 200 стран мира в различных форматах: от Push-уведомлений и In-Page Push до нативной рекламы и Popunder. Наша Self-Serve платформа дает полный контроль над кампаниями, а интеграция по RTB открывает доступ к аукциону в реальном времени."],stats:[{value:"9000+",label:"Активных рекламодателей"},{value:"5000+",label:"Активных вебмастеров"},{value:"30 млрд.",label:"Запросов в день"},{value:"10+",label:"Лет на рынке"}]}}),Oo={companyName:"AdsCompass",companyUrl:"https://adscompass.com",copyrightYear:new Date().getFullYear(),developer:{name:"Sudorgin Daniil",url:"https://github.com/Zilusion"},socials:[{name:"instagram",url:"https://www.instagram.com/adscompass/"},{name:"twitter",url:"https://x.com/ads_compass"},{name:"youtube",url:"https://www.youtube.com/channel/UCZVbg0wWOLZcHrH-RIRe9XQ"},{name:"facebook",url:"https://www.facebook.com/adscompass"},{name:"linkedin",url:"https://www.linkedin.com/company/adscompass/"}]};async function Uo(a){const e=a.extension||a.url.split(".").pop()||"svg";if(e==="svg")try{let r=await fetch(a.url);if(!r.ok)throw new Error(`HTTP error! status: ${r.status}`);const l=(await r.text()).match(/viewBox="0 0 ([\d.]+) ([\d.]+)"/);if(l){const o=parseFloat(l[1]),u=parseFloat(l[2]);return{width:o,height:u}}else return console.warn(`SVG ${a.url} не имеет viewBox. Возвращаются стандартные размеры.`),{width:400,height:300}}catch(r){return console.error("Ошибка загрузки размеров SVG или viewBox:",r),{width:400,height:300}}else return["png","jpg"].includes(e)?new Promise(r=>{const c=new Image;c.onload=()=>{r({width:c.width,height:c.height})},c.onerror=l=>{console.error(`Ошибка загрузки растрового изображения: ${a.url}`,l),r({width:400,height:300})},c.src=a.url}):(console.warn(`Неподдерживаемое расширение логотипа: ${e}. Возвращаем размеры по умолчанию.`),{width:400,height:300})}function ri(a){const e=/<svg[^>]*>([\s\S]*)<\/svg>/,r=a.match(e);return r?r[1].trim():""}function oe(a,e,r,c){return new Promise((l,o)=>{const u=document.createElement("canvas"),g=u.getContext("2d"),p=window.devicePixelRatio||1;u.width=r*p,u.height=c*p,g.scale(p,p);const v=new Image;v.onload=()=>{g.clearRect(0,0,r,c),e==="jpeg"&&(g.fillStyle="#FFFFFF",g.fillRect(0,0,r,c)),g.drawImage(v,0,0,r,c),u.toBlob(m=>{l(m)},`image/${e}`,e==="jpeg"?.9:1)},v.onerror=m=>{console.error("Не удалось загрузить изображение в конвертер:",m),o(new Error("Image conversion failed"))},typeof a=="string"?v.src="data:image/svg+xml;base64,"+btoa(unescape(encodeURIComponent(a))):a instanceof HTMLImageElement&&(v.crossOrigin="anonymous",v.src=a.src)})}function zo(a,e){const r=["ArrowUp","ArrowUp","ArrowDown","ArrowDown","ArrowLeft","ArrowRight","ArrowLeft","ArrowRight","b","a"];let c=0;function l(o){const u=r[c];o.key.toLowerCase()===u.toLowerCase()?(c++,c===r.length&&(c=0,e())):c=0}return document.addEventListener("keydown",l),{destroy(){document.removeEventListener("keydown",l)}}}var He=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Do(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}function No(a){if(Object.prototype.hasOwnProperty.call(a,"__esModule"))return a;var e=a.default;if(typeof e=="function"){var r=function c(){var l=!1;try{l=this instanceof c}catch{}return l?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(a).forEach(function(c){var l=Object.getOwnPropertyDescriptor(a,c);Object.defineProperty(r,c,l.get?l:{enumerable:!0,get:function(){return a[c]}})}),r}function Te(a){throw new Error('Could not dynamically require "'+a+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var br={exports:{}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/var cn;function Bo(){return cn||(cn=1,function(a,e){(function(r){a.exports=r()})(function(){return function r(c,l,o){function u(v,m){if(!l[v]){if(!c[v]){var h=typeof Te=="function"&&Te;if(!m&&h)return h(v,!0);if(g)return g(v,!0);var b=new Error("Cannot find module '"+v+"'");throw b.code="MODULE_NOT_FOUND",b}var t=l[v]={exports:{}};c[v][0].call(t.exports,function(n){var s=c[v][1][n];return u(s||n)},t,t.exports,r,c,l,o)}return l[v].exports}for(var g=typeof Te=="function"&&Te,p=0;p<o.length;p++)u(o[p]);return u}({1:[function(r,c,l){var o=r("./utils"),u=r("./support"),g="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";l.encode=function(p){for(var v,m,h,b,t,n,s,f=[],d=0,w=p.length,x=w,k=o.getTypeOf(p)!=="string";d<p.length;)x=w-d,h=k?(v=p[d++],m=d<w?p[d++]:0,d<w?p[d++]:0):(v=p.charCodeAt(d++),m=d<w?p.charCodeAt(d++):0,d<w?p.charCodeAt(d++):0),b=v>>2,t=(3&v)<<4|m>>4,n=1<x?(15&m)<<2|h>>6:64,s=2<x?63&h:64,f.push(g.charAt(b)+g.charAt(t)+g.charAt(n)+g.charAt(s));return f.join("")},l.decode=function(p){var v,m,h,b,t,n,s=0,f=0,d="data:";if(p.substr(0,d.length)===d)throw new Error("Invalid base64 input, it looks like a data url.");var w,x=3*(p=p.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(p.charAt(p.length-1)===g.charAt(64)&&x--,p.charAt(p.length-2)===g.charAt(64)&&x--,x%1!=0)throw new Error("Invalid base64 input, bad content length.");for(w=u.uint8array?new Uint8Array(0|x):new Array(0|x);s<p.length;)v=g.indexOf(p.charAt(s++))<<2|(b=g.indexOf(p.charAt(s++)))>>4,m=(15&b)<<4|(t=g.indexOf(p.charAt(s++)))>>2,h=(3&t)<<6|(n=g.indexOf(p.charAt(s++))),w[f++]=v,t!==64&&(w[f++]=m),n!==64&&(w[f++]=h);return w}},{"./support":30,"./utils":32}],2:[function(r,c,l){var o=r("./external"),u=r("./stream/DataWorker"),g=r("./stream/Crc32Probe"),p=r("./stream/DataLengthProbe");function v(m,h,b,t,n){this.compressedSize=m,this.uncompressedSize=h,this.crc32=b,this.compression=t,this.compressedContent=n}v.prototype={getContentWorker:function(){var m=new u(o.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new p("data_length")),h=this;return m.on("end",function(){if(this.streamInfo.data_length!==h.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),m},getCompressedWorker:function(){return new u(o.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},v.createWorkerFrom=function(m,h,b){return m.pipe(new g).pipe(new p("uncompressedSize")).pipe(h.compressWorker(b)).pipe(new p("compressedSize")).withStreamInfo("compression",h)},c.exports=v},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(r,c,l){var o=r("./stream/GenericWorker");l.STORE={magic:"\0\0",compressWorker:function(){return new o("STORE compression")},uncompressWorker:function(){return new o("STORE decompression")}},l.DEFLATE=r("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(r,c,l){var o=r("./utils"),u=function(){for(var g,p=[],v=0;v<256;v++){g=v;for(var m=0;m<8;m++)g=1&g?3988292384^g>>>1:g>>>1;p[v]=g}return p}();c.exports=function(g,p){return g!==void 0&&g.length?o.getTypeOf(g)!=="string"?function(v,m,h,b){var t=u,n=b+h;v^=-1;for(var s=b;s<n;s++)v=v>>>8^t[255&(v^m[s])];return-1^v}(0|p,g,g.length,0):function(v,m,h,b){var t=u,n=b+h;v^=-1;for(var s=b;s<n;s++)v=v>>>8^t[255&(v^m.charCodeAt(s))];return-1^v}(0|p,g,g.length,0):0}},{"./utils":32}],5:[function(r,c,l){l.base64=!1,l.binary=!1,l.dir=!1,l.createFolders=!0,l.date=null,l.compression=null,l.compressionOptions=null,l.comment=null,l.unixPermissions=null,l.dosPermissions=null},{}],6:[function(r,c,l){var o=null;o=typeof Promise<"u"?Promise:r("lie"),c.exports={Promise:o}},{lie:37}],7:[function(r,c,l){var o=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",u=r("pako"),g=r("./utils"),p=r("./stream/GenericWorker"),v=o?"uint8array":"array";function m(h,b){p.call(this,"FlateWorker/"+h),this._pako=null,this._pakoAction=h,this._pakoOptions=b,this.meta={}}l.magic="\b\0",g.inherits(m,p),m.prototype.processChunk=function(h){this.meta=h.meta,this._pako===null&&this._createPako(),this._pako.push(g.transformTo(v,h.data),!1)},m.prototype.flush=function(){p.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},m.prototype.cleanUp=function(){p.prototype.cleanUp.call(this),this._pako=null},m.prototype._createPako=function(){this._pako=new u[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var h=this;this._pako.onData=function(b){h.push({data:b,meta:h.meta})}},l.compressWorker=function(h){return new m("Deflate",h)},l.uncompressWorker=function(){return new m("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(r,c,l){function o(t,n){var s,f="";for(s=0;s<n;s++)f+=String.fromCharCode(255&t),t>>>=8;return f}function u(t,n,s,f,d,w){var x,k,E=t.file,F=t.compression,C=w!==v.utf8encode,D=g.transformTo("string",w(E.name)),O=g.transformTo("string",v.utf8encode(E.name)),V=E.comment,J=g.transformTo("string",w(V)),S=g.transformTo("string",v.utf8encode(V)),j=O.length!==E.name.length,y=S.length!==V.length,W="",rt="",U="",tt=E.dir,q=E.date,at={crc32:0,compressedSize:0,uncompressedSize:0};n&&!s||(at.crc32=t.crc32,at.compressedSize=t.compressedSize,at.uncompressedSize=t.uncompressedSize);var M=0;n&&(M|=8),C||!j&&!y||(M|=2048);var z=0,$=0;tt&&(z|=16),d==="UNIX"?($=798,z|=function(Y,ot){var pt=Y;return Y||(pt=ot?16893:33204),(65535&pt)<<16}(E.unixPermissions,tt)):($=20,z|=function(Y){return 63&(Y||0)}(E.dosPermissions)),x=q.getUTCHours(),x<<=6,x|=q.getUTCMinutes(),x<<=5,x|=q.getUTCSeconds()/2,k=q.getUTCFullYear()-1980,k<<=4,k|=q.getUTCMonth()+1,k<<=5,k|=q.getUTCDate(),j&&(rt=o(1,1)+o(m(D),4)+O,W+="up"+o(rt.length,2)+rt),y&&(U=o(1,1)+o(m(J),4)+S,W+="uc"+o(U.length,2)+U);var L="";return L+=`
\0`,L+=o(M,2),L+=F.magic,L+=o(x,2),L+=o(k,2),L+=o(at.crc32,4),L+=o(at.compressedSize,4),L+=o(at.uncompressedSize,4),L+=o(D.length,2),L+=o(W.length,2),{fileRecord:h.LOCAL_FILE_HEADER+L+D+W,dirRecord:h.CENTRAL_FILE_HEADER+o($,2)+L+o(J.length,2)+"\0\0\0\0"+o(z,4)+o(f,4)+D+W+J}}var g=r("../utils"),p=r("../stream/GenericWorker"),v=r("../utf8"),m=r("../crc32"),h=r("../signature");function b(t,n,s,f){p.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=n,this.zipPlatform=s,this.encodeFileName=f,this.streamFiles=t,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}g.inherits(b,p),b.prototype.push=function(t){var n=t.meta.percent||0,s=this.entriesCount,f=this._sources.length;this.accumulate?this.contentBuffer.push(t):(this.bytesWritten+=t.data.length,p.prototype.push.call(this,{data:t.data,meta:{currentFile:this.currentFile,percent:s?(n+100*(s-f-1))/s:100}}))},b.prototype.openedSource=function(t){this.currentSourceOffset=this.bytesWritten,this.currentFile=t.file.name;var n=this.streamFiles&&!t.file.dir;if(n){var s=u(t,n,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:s.fileRecord,meta:{percent:0}})}else this.accumulate=!0},b.prototype.closedSource=function(t){this.accumulate=!1;var n=this.streamFiles&&!t.file.dir,s=u(t,n,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(s.dirRecord),n)this.push({data:function(f){return h.DATA_DESCRIPTOR+o(f.crc32,4)+o(f.compressedSize,4)+o(f.uncompressedSize,4)}(t),meta:{percent:100}});else for(this.push({data:s.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},b.prototype.flush=function(){for(var t=this.bytesWritten,n=0;n<this.dirRecords.length;n++)this.push({data:this.dirRecords[n],meta:{percent:100}});var s=this.bytesWritten-t,f=function(d,w,x,k,E){var F=g.transformTo("string",E(k));return h.CENTRAL_DIRECTORY_END+"\0\0\0\0"+o(d,2)+o(d,2)+o(w,4)+o(x,4)+o(F.length,2)+F}(this.dirRecords.length,s,t,this.zipComment,this.encodeFileName);this.push({data:f,meta:{percent:100}})},b.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},b.prototype.registerPrevious=function(t){this._sources.push(t);var n=this;return t.on("data",function(s){n.processChunk(s)}),t.on("end",function(){n.closedSource(n.previous.streamInfo),n._sources.length?n.prepareNextSource():n.end()}),t.on("error",function(s){n.error(s)}),this},b.prototype.resume=function(){return!!p.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},b.prototype.error=function(t){var n=this._sources;if(!p.prototype.error.call(this,t))return!1;for(var s=0;s<n.length;s++)try{n[s].error(t)}catch{}return!0},b.prototype.lock=function(){p.prototype.lock.call(this);for(var t=this._sources,n=0;n<t.length;n++)t[n].lock()},c.exports=b},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(r,c,l){var o=r("../compressions"),u=r("./ZipFileWorker");l.generateWorker=function(g,p,v){var m=new u(p.streamFiles,v,p.platform,p.encodeFileName),h=0;try{g.forEach(function(b,t){h++;var n=function(w,x){var k=w||x,E=o[k];if(!E)throw new Error(k+" is not a valid compression method !");return E}(t.options.compression,p.compression),s=t.options.compressionOptions||p.compressionOptions||{},f=t.dir,d=t.date;t._compressWorker(n,s).withStreamInfo("file",{name:b,dir:f,date:d,comment:t.comment||"",unixPermissions:t.unixPermissions,dosPermissions:t.dosPermissions}).pipe(m)}),m.entriesCount=h}catch(b){m.error(b)}return m}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(r,c,l){function o(){if(!(this instanceof o))return new o;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var u=new o;for(var g in this)typeof this[g]!="function"&&(u[g]=this[g]);return u}}(o.prototype=r("./object")).loadAsync=r("./load"),o.support=r("./support"),o.defaults=r("./defaults"),o.version="3.10.1",o.loadAsync=function(u,g){return new o().loadAsync(u,g)},o.external=r("./external"),c.exports=o},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(r,c,l){var o=r("./utils"),u=r("./external"),g=r("./utf8"),p=r("./zipEntries"),v=r("./stream/Crc32Probe"),m=r("./nodejsUtils");function h(b){return new u.Promise(function(t,n){var s=b.decompressed.getContentWorker().pipe(new v);s.on("error",function(f){n(f)}).on("end",function(){s.streamInfo.crc32!==b.decompressed.crc32?n(new Error("Corrupted zip : CRC32 mismatch")):t()}).resume()})}c.exports=function(b,t){var n=this;return t=o.extend(t||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:g.utf8decode}),m.isNode&&m.isStream(b)?u.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):o.prepareContent("the loaded zip file",b,!0,t.optimizedBinaryString,t.base64).then(function(s){var f=new p(t);return f.load(s),f}).then(function(s){var f=[u.Promise.resolve(s)],d=s.files;if(t.checkCRC32)for(var w=0;w<d.length;w++)f.push(h(d[w]));return u.Promise.all(f)}).then(function(s){for(var f=s.shift(),d=f.files,w=0;w<d.length;w++){var x=d[w],k=x.fileNameStr,E=o.resolve(x.fileNameStr);n.file(E,x.decompressed,{binary:!0,optimizedBinaryString:!0,date:x.date,dir:x.dir,comment:x.fileCommentStr.length?x.fileCommentStr:null,unixPermissions:x.unixPermissions,dosPermissions:x.dosPermissions,createFolders:t.createFolders}),x.dir||(n.file(E).unsafeOriginalName=k)}return f.zipComment.length&&(n.comment=f.zipComment),n})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(r,c,l){var o=r("../utils"),u=r("../stream/GenericWorker");function g(p,v){u.call(this,"Nodejs stream input adapter for "+p),this._upstreamEnded=!1,this._bindStream(v)}o.inherits(g,u),g.prototype._bindStream=function(p){var v=this;(this._stream=p).pause(),p.on("data",function(m){v.push({data:m,meta:{percent:0}})}).on("error",function(m){v.isPaused?this.generatedError=m:v.error(m)}).on("end",function(){v.isPaused?v._upstreamEnded=!0:v.end()})},g.prototype.pause=function(){return!!u.prototype.pause.call(this)&&(this._stream.pause(),!0)},g.prototype.resume=function(){return!!u.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},c.exports=g},{"../stream/GenericWorker":28,"../utils":32}],13:[function(r,c,l){var o=r("readable-stream").Readable;function u(g,p,v){o.call(this,p),this._helper=g;var m=this;g.on("data",function(h,b){m.push(h)||m._helper.pause(),v&&v(b)}).on("error",function(h){m.emit("error",h)}).on("end",function(){m.push(null)})}r("../utils").inherits(u,o),u.prototype._read=function(){this._helper.resume()},c.exports=u},{"../utils":32,"readable-stream":16}],14:[function(r,c,l){c.exports={isNode:typeof Buffer<"u",newBufferFrom:function(o,u){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(o,u);if(typeof o=="number")throw new Error('The "data" argument must not be a number');return new Buffer(o,u)},allocBuffer:function(o){if(Buffer.alloc)return Buffer.alloc(o);var u=new Buffer(o);return u.fill(0),u},isBuffer:function(o){return Buffer.isBuffer(o)},isStream:function(o){return o&&typeof o.on=="function"&&typeof o.pause=="function"&&typeof o.resume=="function"}}},{}],15:[function(r,c,l){function o(E,F,C){var D,O=g.getTypeOf(F),V=g.extend(C||{},m);V.date=V.date||new Date,V.compression!==null&&(V.compression=V.compression.toUpperCase()),typeof V.unixPermissions=="string"&&(V.unixPermissions=parseInt(V.unixPermissions,8)),V.unixPermissions&&16384&V.unixPermissions&&(V.dir=!0),V.dosPermissions&&16&V.dosPermissions&&(V.dir=!0),V.dir&&(E=d(E)),V.createFolders&&(D=f(E))&&w.call(this,D,!0);var J=O==="string"&&V.binary===!1&&V.base64===!1;C&&C.binary!==void 0||(V.binary=!J),(F instanceof h&&F.uncompressedSize===0||V.dir||!F||F.length===0)&&(V.base64=!1,V.binary=!0,F="",V.compression="STORE",O="string");var S=null;S=F instanceof h||F instanceof p?F:n.isNode&&n.isStream(F)?new s(E,F):g.prepareContent(E,F,V.binary,V.optimizedBinaryString,V.base64);var j=new b(E,S,V);this.files[E]=j}var u=r("./utf8"),g=r("./utils"),p=r("./stream/GenericWorker"),v=r("./stream/StreamHelper"),m=r("./defaults"),h=r("./compressedObject"),b=r("./zipObject"),t=r("./generate"),n=r("./nodejsUtils"),s=r("./nodejs/NodejsStreamInputAdapter"),f=function(E){E.slice(-1)==="/"&&(E=E.substring(0,E.length-1));var F=E.lastIndexOf("/");return 0<F?E.substring(0,F):""},d=function(E){return E.slice(-1)!=="/"&&(E+="/"),E},w=function(E,F){return F=F!==void 0?F:m.createFolders,E=d(E),this.files[E]||o.call(this,E,null,{dir:!0,createFolders:F}),this.files[E]};function x(E){return Object.prototype.toString.call(E)==="[object RegExp]"}var k={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(E){var F,C,D;for(F in this.files)D=this.files[F],(C=F.slice(this.root.length,F.length))&&F.slice(0,this.root.length)===this.root&&E(C,D)},filter:function(E){var F=[];return this.forEach(function(C,D){E(C,D)&&F.push(D)}),F},file:function(E,F,C){if(arguments.length!==1)return E=this.root+E,o.call(this,E,F,C),this;if(x(E)){var D=E;return this.filter(function(V,J){return!J.dir&&D.test(V)})}var O=this.files[this.root+E];return O&&!O.dir?O:null},folder:function(E){if(!E)return this;if(x(E))return this.filter(function(O,V){return V.dir&&E.test(O)});var F=this.root+E,C=w.call(this,F),D=this.clone();return D.root=C.name,D},remove:function(E){E=this.root+E;var F=this.files[E];if(F||(E.slice(-1)!=="/"&&(E+="/"),F=this.files[E]),F&&!F.dir)delete this.files[E];else for(var C=this.filter(function(O,V){return V.name.slice(0,E.length)===E}),D=0;D<C.length;D++)delete this.files[C[D].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(E){var F,C={};try{if((C=g.extend(E||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:u.utf8encode})).type=C.type.toLowerCase(),C.compression=C.compression.toUpperCase(),C.type==="binarystring"&&(C.type="string"),!C.type)throw new Error("No output type specified.");g.checkSupport(C.type),C.platform!=="darwin"&&C.platform!=="freebsd"&&C.platform!=="linux"&&C.platform!=="sunos"||(C.platform="UNIX"),C.platform==="win32"&&(C.platform="DOS");var D=C.comment||this.comment||"";F=t.generateWorker(this,C,D)}catch(O){(F=new p("error")).error(O)}return new v(F,C.type||"string",C.mimeType)},generateAsync:function(E,F){return this.generateInternalStream(E).accumulate(F)},generateNodeStream:function(E,F){return(E=E||{}).type||(E.type="nodebuffer"),this.generateInternalStream(E).toNodejsStream(F)}};c.exports=k},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(r,c,l){c.exports=r("stream")},{stream:void 0}],17:[function(r,c,l){var o=r("./DataReader");function u(g){o.call(this,g);for(var p=0;p<this.data.length;p++)g[p]=255&g[p]}r("../utils").inherits(u,o),u.prototype.byteAt=function(g){return this.data[this.zero+g]},u.prototype.lastIndexOfSignature=function(g){for(var p=g.charCodeAt(0),v=g.charCodeAt(1),m=g.charCodeAt(2),h=g.charCodeAt(3),b=this.length-4;0<=b;--b)if(this.data[b]===p&&this.data[b+1]===v&&this.data[b+2]===m&&this.data[b+3]===h)return b-this.zero;return-1},u.prototype.readAndCheckSignature=function(g){var p=g.charCodeAt(0),v=g.charCodeAt(1),m=g.charCodeAt(2),h=g.charCodeAt(3),b=this.readData(4);return p===b[0]&&v===b[1]&&m===b[2]&&h===b[3]},u.prototype.readData=function(g){if(this.checkOffset(g),g===0)return[];var p=this.data.slice(this.zero+this.index,this.zero+this.index+g);return this.index+=g,p},c.exports=u},{"../utils":32,"./DataReader":18}],18:[function(r,c,l){var o=r("../utils");function u(g){this.data=g,this.length=g.length,this.index=0,this.zero=0}u.prototype={checkOffset:function(g){this.checkIndex(this.index+g)},checkIndex:function(g){if(this.length<this.zero+g||g<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+g+"). Corrupted zip ?")},setIndex:function(g){this.checkIndex(g),this.index=g},skip:function(g){this.setIndex(this.index+g)},byteAt:function(){},readInt:function(g){var p,v=0;for(this.checkOffset(g),p=this.index+g-1;p>=this.index;p--)v=(v<<8)+this.byteAt(p);return this.index+=g,v},readString:function(g){return o.transformTo("string",this.readData(g))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var g=this.readInt(4);return new Date(Date.UTC(1980+(g>>25&127),(g>>21&15)-1,g>>16&31,g>>11&31,g>>5&63,(31&g)<<1))}},c.exports=u},{"../utils":32}],19:[function(r,c,l){var o=r("./Uint8ArrayReader");function u(g){o.call(this,g)}r("../utils").inherits(u,o),u.prototype.readData=function(g){this.checkOffset(g);var p=this.data.slice(this.zero+this.index,this.zero+this.index+g);return this.index+=g,p},c.exports=u},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(r,c,l){var o=r("./DataReader");function u(g){o.call(this,g)}r("../utils").inherits(u,o),u.prototype.byteAt=function(g){return this.data.charCodeAt(this.zero+g)},u.prototype.lastIndexOfSignature=function(g){return this.data.lastIndexOf(g)-this.zero},u.prototype.readAndCheckSignature=function(g){return g===this.readData(4)},u.prototype.readData=function(g){this.checkOffset(g);var p=this.data.slice(this.zero+this.index,this.zero+this.index+g);return this.index+=g,p},c.exports=u},{"../utils":32,"./DataReader":18}],21:[function(r,c,l){var o=r("./ArrayReader");function u(g){o.call(this,g)}r("../utils").inherits(u,o),u.prototype.readData=function(g){if(this.checkOffset(g),g===0)return new Uint8Array(0);var p=this.data.subarray(this.zero+this.index,this.zero+this.index+g);return this.index+=g,p},c.exports=u},{"../utils":32,"./ArrayReader":17}],22:[function(r,c,l){var o=r("../utils"),u=r("../support"),g=r("./ArrayReader"),p=r("./StringReader"),v=r("./NodeBufferReader"),m=r("./Uint8ArrayReader");c.exports=function(h){var b=o.getTypeOf(h);return o.checkSupport(b),b!=="string"||u.uint8array?b==="nodebuffer"?new v(h):u.uint8array?new m(o.transformTo("uint8array",h)):new g(o.transformTo("array",h)):new p(h)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(r,c,l){l.LOCAL_FILE_HEADER="PK",l.CENTRAL_FILE_HEADER="PK",l.CENTRAL_DIRECTORY_END="PK",l.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",l.ZIP64_CENTRAL_DIRECTORY_END="PK",l.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(r,c,l){var o=r("./GenericWorker"),u=r("../utils");function g(p){o.call(this,"ConvertWorker to "+p),this.destType=p}u.inherits(g,o),g.prototype.processChunk=function(p){this.push({data:u.transformTo(this.destType,p.data),meta:p.meta})},c.exports=g},{"../utils":32,"./GenericWorker":28}],25:[function(r,c,l){var o=r("./GenericWorker"),u=r("../crc32");function g(){o.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}r("../utils").inherits(g,o),g.prototype.processChunk=function(p){this.streamInfo.crc32=u(p.data,this.streamInfo.crc32||0),this.push(p)},c.exports=g},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(r,c,l){var o=r("../utils"),u=r("./GenericWorker");function g(p){u.call(this,"DataLengthProbe for "+p),this.propName=p,this.withStreamInfo(p,0)}o.inherits(g,u),g.prototype.processChunk=function(p){if(p){var v=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=v+p.data.length}u.prototype.processChunk.call(this,p)},c.exports=g},{"../utils":32,"./GenericWorker":28}],27:[function(r,c,l){var o=r("../utils"),u=r("./GenericWorker");function g(p){u.call(this,"DataWorker");var v=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,p.then(function(m){v.dataIsReady=!0,v.data=m,v.max=m&&m.length||0,v.type=o.getTypeOf(m),v.isPaused||v._tickAndRepeat()},function(m){v.error(m)})}o.inherits(g,u),g.prototype.cleanUp=function(){u.prototype.cleanUp.call(this),this.data=null},g.prototype.resume=function(){return!!u.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,o.delay(this._tickAndRepeat,[],this)),!0)},g.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(o.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},g.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var p=null,v=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":p=this.data.substring(this.index,v);break;case"uint8array":p=this.data.subarray(this.index,v);break;case"array":case"nodebuffer":p=this.data.slice(this.index,v)}return this.index=v,this.push({data:p,meta:{percent:this.max?this.index/this.max*100:0}})},c.exports=g},{"../utils":32,"./GenericWorker":28}],28:[function(r,c,l){function o(u){this.name=u||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}o.prototype={push:function(u){this.emit("data",u)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(u){this.emit("error",u)}return!0},error:function(u){return!this.isFinished&&(this.isPaused?this.generatedError=u:(this.isFinished=!0,this.emit("error",u),this.previous&&this.previous.error(u),this.cleanUp()),!0)},on:function(u,g){return this._listeners[u].push(g),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(u,g){if(this._listeners[u])for(var p=0;p<this._listeners[u].length;p++)this._listeners[u][p].call(this,g)},pipe:function(u){return u.registerPrevious(this)},registerPrevious:function(u){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=u.streamInfo,this.mergeStreamInfo(),this.previous=u;var g=this;return u.on("data",function(p){g.processChunk(p)}),u.on("end",function(){g.end()}),u.on("error",function(p){g.error(p)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var u=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),u=!0),this.previous&&this.previous.resume(),!u},flush:function(){},processChunk:function(u){this.push(u)},withStreamInfo:function(u,g){return this.extraStreamInfo[u]=g,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var u in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,u)&&(this.streamInfo[u]=this.extraStreamInfo[u])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var u="Worker "+this.name;return this.previous?this.previous+" -> "+u:u}},c.exports=o},{}],29:[function(r,c,l){var o=r("../utils"),u=r("./ConvertWorker"),g=r("./GenericWorker"),p=r("../base64"),v=r("../support"),m=r("../external"),h=null;if(v.nodestream)try{h=r("../nodejs/NodejsStreamOutputAdapter")}catch{}function b(n,s){return new m.Promise(function(f,d){var w=[],x=n._internalType,k=n._outputType,E=n._mimeType;n.on("data",function(F,C){w.push(F),s&&s(C)}).on("error",function(F){w=[],d(F)}).on("end",function(){try{var F=function(C,D,O){switch(C){case"blob":return o.newBlob(o.transformTo("arraybuffer",D),O);case"base64":return p.encode(D);default:return o.transformTo(C,D)}}(k,function(C,D){var O,V=0,J=null,S=0;for(O=0;O<D.length;O++)S+=D[O].length;switch(C){case"string":return D.join("");case"array":return Array.prototype.concat.apply([],D);case"uint8array":for(J=new Uint8Array(S),O=0;O<D.length;O++)J.set(D[O],V),V+=D[O].length;return J;case"nodebuffer":return Buffer.concat(D);default:throw new Error("concat : unsupported type '"+C+"'")}}(x,w),E);f(F)}catch(C){d(C)}w=[]}).resume()})}function t(n,s,f){var d=s;switch(s){case"blob":case"arraybuffer":d="uint8array";break;case"base64":d="string"}try{this._internalType=d,this._outputType=s,this._mimeType=f,o.checkSupport(d),this._worker=n.pipe(new u(d)),n.lock()}catch(w){this._worker=new g("error"),this._worker.error(w)}}t.prototype={accumulate:function(n){return b(this,n)},on:function(n,s){var f=this;return n==="data"?this._worker.on(n,function(d){s.call(f,d.data,d.meta)}):this._worker.on(n,function(){o.delay(s,arguments,f)}),this},resume:function(){return o.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(n){if(o.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new h(this,{objectMode:this._outputType!=="nodebuffer"},n)}},c.exports=t},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(r,c,l){if(l.base64=!0,l.array=!0,l.string=!0,l.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",l.nodebuffer=typeof Buffer<"u",l.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")l.blob=!1;else{var o=new ArrayBuffer(0);try{l.blob=new Blob([o],{type:"application/zip"}).size===0}catch{try{var u=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);u.append(o),l.blob=u.getBlob("application/zip").size===0}catch{l.blob=!1}}}try{l.nodestream=!!r("readable-stream").Readable}catch{l.nodestream=!1}},{"readable-stream":16}],31:[function(r,c,l){for(var o=r("./utils"),u=r("./support"),g=r("./nodejsUtils"),p=r("./stream/GenericWorker"),v=new Array(256),m=0;m<256;m++)v[m]=252<=m?6:248<=m?5:240<=m?4:224<=m?3:192<=m?2:1;v[254]=v[254]=1;function h(){p.call(this,"utf-8 decode"),this.leftOver=null}function b(){p.call(this,"utf-8 encode")}l.utf8encode=function(t){return u.nodebuffer?g.newBufferFrom(t,"utf-8"):function(n){var s,f,d,w,x,k=n.length,E=0;for(w=0;w<k;w++)(64512&(f=n.charCodeAt(w)))==55296&&w+1<k&&(64512&(d=n.charCodeAt(w+1)))==56320&&(f=65536+(f-55296<<10)+(d-56320),w++),E+=f<128?1:f<2048?2:f<65536?3:4;for(s=u.uint8array?new Uint8Array(E):new Array(E),w=x=0;x<E;w++)(64512&(f=n.charCodeAt(w)))==55296&&w+1<k&&(64512&(d=n.charCodeAt(w+1)))==56320&&(f=65536+(f-55296<<10)+(d-56320),w++),f<128?s[x++]=f:(f<2048?s[x++]=192|f>>>6:(f<65536?s[x++]=224|f>>>12:(s[x++]=240|f>>>18,s[x++]=128|f>>>12&63),s[x++]=128|f>>>6&63),s[x++]=128|63&f);return s}(t)},l.utf8decode=function(t){return u.nodebuffer?o.transformTo("nodebuffer",t).toString("utf-8"):function(n){var s,f,d,w,x=n.length,k=new Array(2*x);for(s=f=0;s<x;)if((d=n[s++])<128)k[f++]=d;else if(4<(w=v[d]))k[f++]=65533,s+=w-1;else{for(d&=w===2?31:w===3?15:7;1<w&&s<x;)d=d<<6|63&n[s++],w--;1<w?k[f++]=65533:d<65536?k[f++]=d:(d-=65536,k[f++]=55296|d>>10&1023,k[f++]=56320|1023&d)}return k.length!==f&&(k.subarray?k=k.subarray(0,f):k.length=f),o.applyFromCharCode(k)}(t=o.transformTo(u.uint8array?"uint8array":"array",t))},o.inherits(h,p),h.prototype.processChunk=function(t){var n=o.transformTo(u.uint8array?"uint8array":"array",t.data);if(this.leftOver&&this.leftOver.length){if(u.uint8array){var s=n;(n=new Uint8Array(s.length+this.leftOver.length)).set(this.leftOver,0),n.set(s,this.leftOver.length)}else n=this.leftOver.concat(n);this.leftOver=null}var f=function(w,x){var k;for((x=x||w.length)>w.length&&(x=w.length),k=x-1;0<=k&&(192&w[k])==128;)k--;return k<0||k===0?x:k+v[w[k]]>x?k:x}(n),d=n;f!==n.length&&(u.uint8array?(d=n.subarray(0,f),this.leftOver=n.subarray(f,n.length)):(d=n.slice(0,f),this.leftOver=n.slice(f,n.length))),this.push({data:l.utf8decode(d),meta:t.meta})},h.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:l.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},l.Utf8DecodeWorker=h,o.inherits(b,p),b.prototype.processChunk=function(t){this.push({data:l.utf8encode(t.data),meta:t.meta})},l.Utf8EncodeWorker=b},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(r,c,l){var o=r("./support"),u=r("./base64"),g=r("./nodejsUtils"),p=r("./external");function v(s){return s}function m(s,f){for(var d=0;d<s.length;++d)f[d]=255&s.charCodeAt(d);return f}r("setimmediate"),l.newBlob=function(s,f){l.checkSupport("blob");try{return new Blob([s],{type:f})}catch{try{var d=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return d.append(s),d.getBlob(f)}catch{throw new Error("Bug : can't construct the Blob.")}}};var h={stringifyByChunk:function(s,f,d){var w=[],x=0,k=s.length;if(k<=d)return String.fromCharCode.apply(null,s);for(;x<k;)f==="array"||f==="nodebuffer"?w.push(String.fromCharCode.apply(null,s.slice(x,Math.min(x+d,k)))):w.push(String.fromCharCode.apply(null,s.subarray(x,Math.min(x+d,k)))),x+=d;return w.join("")},stringifyByChar:function(s){for(var f="",d=0;d<s.length;d++)f+=String.fromCharCode(s[d]);return f},applyCanBeUsed:{uint8array:function(){try{return o.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return o.nodebuffer&&String.fromCharCode.apply(null,g.allocBuffer(1)).length===1}catch{return!1}}()}};function b(s){var f=65536,d=l.getTypeOf(s),w=!0;if(d==="uint8array"?w=h.applyCanBeUsed.uint8array:d==="nodebuffer"&&(w=h.applyCanBeUsed.nodebuffer),w)for(;1<f;)try{return h.stringifyByChunk(s,d,f)}catch{f=Math.floor(f/2)}return h.stringifyByChar(s)}function t(s,f){for(var d=0;d<s.length;d++)f[d]=s[d];return f}l.applyFromCharCode=b;var n={};n.string={string:v,array:function(s){return m(s,new Array(s.length))},arraybuffer:function(s){return n.string.uint8array(s).buffer},uint8array:function(s){return m(s,new Uint8Array(s.length))},nodebuffer:function(s){return m(s,g.allocBuffer(s.length))}},n.array={string:b,array:v,arraybuffer:function(s){return new Uint8Array(s).buffer},uint8array:function(s){return new Uint8Array(s)},nodebuffer:function(s){return g.newBufferFrom(s)}},n.arraybuffer={string:function(s){return b(new Uint8Array(s))},array:function(s){return t(new Uint8Array(s),new Array(s.byteLength))},arraybuffer:v,uint8array:function(s){return new Uint8Array(s)},nodebuffer:function(s){return g.newBufferFrom(new Uint8Array(s))}},n.uint8array={string:b,array:function(s){return t(s,new Array(s.length))},arraybuffer:function(s){return s.buffer},uint8array:v,nodebuffer:function(s){return g.newBufferFrom(s)}},n.nodebuffer={string:b,array:function(s){return t(s,new Array(s.length))},arraybuffer:function(s){return n.nodebuffer.uint8array(s).buffer},uint8array:function(s){return t(s,new Uint8Array(s.length))},nodebuffer:v},l.transformTo=function(s,f){if(f=f||"",!s)return f;l.checkSupport(s);var d=l.getTypeOf(f);return n[d][s](f)},l.resolve=function(s){for(var f=s.split("/"),d=[],w=0;w<f.length;w++){var x=f[w];x==="."||x===""&&w!==0&&w!==f.length-1||(x===".."?d.pop():d.push(x))}return d.join("/")},l.getTypeOf=function(s){return typeof s=="string"?"string":Object.prototype.toString.call(s)==="[object Array]"?"array":o.nodebuffer&&g.isBuffer(s)?"nodebuffer":o.uint8array&&s instanceof Uint8Array?"uint8array":o.arraybuffer&&s instanceof ArrayBuffer?"arraybuffer":void 0},l.checkSupport=function(s){if(!o[s.toLowerCase()])throw new Error(s+" is not supported by this platform")},l.MAX_VALUE_16BITS=65535,l.MAX_VALUE_32BITS=-1,l.pretty=function(s){var f,d,w="";for(d=0;d<(s||"").length;d++)w+="\\x"+((f=s.charCodeAt(d))<16?"0":"")+f.toString(16).toUpperCase();return w},l.delay=function(s,f,d){setImmediate(function(){s.apply(d||null,f||[])})},l.inherits=function(s,f){function d(){}d.prototype=f.prototype,s.prototype=new d},l.extend=function(){var s,f,d={};for(s=0;s<arguments.length;s++)for(f in arguments[s])Object.prototype.hasOwnProperty.call(arguments[s],f)&&d[f]===void 0&&(d[f]=arguments[s][f]);return d},l.prepareContent=function(s,f,d,w,x){return p.Promise.resolve(f).then(function(k){return o.blob&&(k instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(k))!==-1)&&typeof FileReader<"u"?new p.Promise(function(E,F){var C=new FileReader;C.onload=function(D){E(D.target.result)},C.onerror=function(D){F(D.target.error)},C.readAsArrayBuffer(k)}):k}).then(function(k){var E=l.getTypeOf(k);return E?(E==="arraybuffer"?k=l.transformTo("uint8array",k):E==="string"&&(x?k=u.decode(k):d&&w!==!0&&(k=function(F){return m(F,o.uint8array?new Uint8Array(F.length):new Array(F.length))}(k))),k):p.Promise.reject(new Error("Can't read the data of '"+s+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(r,c,l){var o=r("./reader/readerFor"),u=r("./utils"),g=r("./signature"),p=r("./zipEntry"),v=r("./support");function m(h){this.files=[],this.loadOptions=h}m.prototype={checkSignature:function(h){if(!this.reader.readAndCheckSignature(h)){this.reader.index-=4;var b=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+u.pretty(b)+", expected "+u.pretty(h)+")")}},isSignature:function(h,b){var t=this.reader.index;this.reader.setIndex(h);var n=this.reader.readString(4)===b;return this.reader.setIndex(t),n},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var h=this.reader.readData(this.zipCommentLength),b=v.uint8array?"uint8array":"array",t=u.transformTo(b,h);this.zipComment=this.loadOptions.decodeFileName(t)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var h,b,t,n=this.zip64EndOfCentralSize-44;0<n;)h=this.reader.readInt(2),b=this.reader.readInt(4),t=this.reader.readData(b),this.zip64ExtensibleData[h]={id:h,length:b,value:t}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var h,b;for(h=0;h<this.files.length;h++)b=this.files[h],this.reader.setIndex(b.localHeaderOffset),this.checkSignature(g.LOCAL_FILE_HEADER),b.readLocalPart(this.reader),b.handleUTF8(),b.processAttributes()},readCentralDir:function(){var h;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(g.CENTRAL_FILE_HEADER);)(h=new p({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(h);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var h=this.reader.lastIndexOfSignature(g.CENTRAL_DIRECTORY_END);if(h<0)throw this.isSignature(0,g.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(h);var b=h;if(this.checkSignature(g.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===u.MAX_VALUE_16BITS||this.diskWithCentralDirStart===u.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===u.MAX_VALUE_16BITS||this.centralDirRecords===u.MAX_VALUE_16BITS||this.centralDirSize===u.MAX_VALUE_32BITS||this.centralDirOffset===u.MAX_VALUE_32BITS){if(this.zip64=!0,(h=this.reader.lastIndexOfSignature(g.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(h),this.checkSignature(g.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,g.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(g.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(g.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var t=this.centralDirOffset+this.centralDirSize;this.zip64&&(t+=20,t+=12+this.zip64EndOfCentralSize);var n=b-t;if(0<n)this.isSignature(b,g.CENTRAL_FILE_HEADER)||(this.reader.zero=n);else if(n<0)throw new Error("Corrupted zip: missing "+Math.abs(n)+" bytes.")},prepareReader:function(h){this.reader=o(h)},load:function(h){this.prepareReader(h),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},c.exports=m},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(r,c,l){var o=r("./reader/readerFor"),u=r("./utils"),g=r("./compressedObject"),p=r("./crc32"),v=r("./utf8"),m=r("./compressions"),h=r("./support");function b(t,n){this.options=t,this.loadOptions=n}b.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(t){var n,s;if(t.skip(22),this.fileNameLength=t.readInt(2),s=t.readInt(2),this.fileName=t.readData(this.fileNameLength),t.skip(s),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((n=function(f){for(var d in m)if(Object.prototype.hasOwnProperty.call(m,d)&&m[d].magic===f)return m[d];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+u.pretty(this.compressionMethod)+" unknown (inner file : "+u.transformTo("string",this.fileName)+")");this.decompressed=new g(this.compressedSize,this.uncompressedSize,this.crc32,n,t.readData(this.compressedSize))},readCentralPart:function(t){this.versionMadeBy=t.readInt(2),t.skip(2),this.bitFlag=t.readInt(2),this.compressionMethod=t.readString(2),this.date=t.readDate(),this.crc32=t.readInt(4),this.compressedSize=t.readInt(4),this.uncompressedSize=t.readInt(4);var n=t.readInt(2);if(this.extraFieldsLength=t.readInt(2),this.fileCommentLength=t.readInt(2),this.diskNumberStart=t.readInt(2),this.internalFileAttributes=t.readInt(2),this.externalFileAttributes=t.readInt(4),this.localHeaderOffset=t.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");t.skip(n),this.readExtraFields(t),this.parseZIP64ExtraField(t),this.fileComment=t.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var t=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),t==0&&(this.dosPermissions=63&this.externalFileAttributes),t==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var t=o(this.extraFields[1].value);this.uncompressedSize===u.MAX_VALUE_32BITS&&(this.uncompressedSize=t.readInt(8)),this.compressedSize===u.MAX_VALUE_32BITS&&(this.compressedSize=t.readInt(8)),this.localHeaderOffset===u.MAX_VALUE_32BITS&&(this.localHeaderOffset=t.readInt(8)),this.diskNumberStart===u.MAX_VALUE_32BITS&&(this.diskNumberStart=t.readInt(4))}},readExtraFields:function(t){var n,s,f,d=t.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});t.index+4<d;)n=t.readInt(2),s=t.readInt(2),f=t.readData(s),this.extraFields[n]={id:n,length:s,value:f};t.setIndex(d)},handleUTF8:function(){var t=h.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=v.utf8decode(this.fileName),this.fileCommentStr=v.utf8decode(this.fileComment);else{var n=this.findExtraFieldUnicodePath();if(n!==null)this.fileNameStr=n;else{var s=u.transformTo(t,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(s)}var f=this.findExtraFieldUnicodeComment();if(f!==null)this.fileCommentStr=f;else{var d=u.transformTo(t,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(d)}}},findExtraFieldUnicodePath:function(){var t=this.extraFields[28789];if(t){var n=o(t.value);return n.readInt(1)!==1||p(this.fileName)!==n.readInt(4)?null:v.utf8decode(n.readData(t.length-5))}return null},findExtraFieldUnicodeComment:function(){var t=this.extraFields[25461];if(t){var n=o(t.value);return n.readInt(1)!==1||p(this.fileComment)!==n.readInt(4)?null:v.utf8decode(n.readData(t.length-5))}return null}},c.exports=b},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(r,c,l){function o(n,s,f){this.name=n,this.dir=f.dir,this.date=f.date,this.comment=f.comment,this.unixPermissions=f.unixPermissions,this.dosPermissions=f.dosPermissions,this._data=s,this._dataBinary=f.binary,this.options={compression:f.compression,compressionOptions:f.compressionOptions}}var u=r("./stream/StreamHelper"),g=r("./stream/DataWorker"),p=r("./utf8"),v=r("./compressedObject"),m=r("./stream/GenericWorker");o.prototype={internalStream:function(n){var s=null,f="string";try{if(!n)throw new Error("No output type specified.");var d=(f=n.toLowerCase())==="string"||f==="text";f!=="binarystring"&&f!=="text"||(f="string"),s=this._decompressWorker();var w=!this._dataBinary;w&&!d&&(s=s.pipe(new p.Utf8EncodeWorker)),!w&&d&&(s=s.pipe(new p.Utf8DecodeWorker))}catch(x){(s=new m("error")).error(x)}return new u(s,f,"")},async:function(n,s){return this.internalStream(n).accumulate(s)},nodeStream:function(n,s){return this.internalStream(n||"nodebuffer").toNodejsStream(s)},_compressWorker:function(n,s){if(this._data instanceof v&&this._data.compression.magic===n.magic)return this._data.getCompressedWorker();var f=this._decompressWorker();return this._dataBinary||(f=f.pipe(new p.Utf8EncodeWorker)),v.createWorkerFrom(f,n,s)},_decompressWorker:function(){return this._data instanceof v?this._data.getContentWorker():this._data instanceof m?this._data:new g(this._data)}};for(var h=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],b=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},t=0;t<h.length;t++)o.prototype[h[t]]=b;c.exports=o},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(r,c,l){(function(o){var u,g,p=o.MutationObserver||o.WebKitMutationObserver;if(p){var v=0,m=new p(n),h=o.document.createTextNode("");m.observe(h,{characterData:!0}),u=function(){h.data=v=++v%2}}else if(o.setImmediate||o.MessageChannel===void 0)u="document"in o&&"onreadystatechange"in o.document.createElement("script")?function(){var s=o.document.createElement("script");s.onreadystatechange=function(){n(),s.onreadystatechange=null,s.parentNode.removeChild(s),s=null},o.document.documentElement.appendChild(s)}:function(){setTimeout(n,0)};else{var b=new o.MessageChannel;b.port1.onmessage=n,u=function(){b.port2.postMessage(0)}}var t=[];function n(){var s,f;g=!0;for(var d=t.length;d;){for(f=t,t=[],s=-1;++s<d;)f[s]();d=t.length}g=!1}c.exports=function(s){t.push(s)!==1||g||u()}}).call(this,typeof He<"u"?He:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(r,c,l){var o=r("immediate");function u(){}var g={},p=["REJECTED"],v=["FULFILLED"],m=["PENDING"];function h(d){if(typeof d!="function")throw new TypeError("resolver must be a function");this.state=m,this.queue=[],this.outcome=void 0,d!==u&&s(this,d)}function b(d,w,x){this.promise=d,typeof w=="function"&&(this.onFulfilled=w,this.callFulfilled=this.otherCallFulfilled),typeof x=="function"&&(this.onRejected=x,this.callRejected=this.otherCallRejected)}function t(d,w,x){o(function(){var k;try{k=w(x)}catch(E){return g.reject(d,E)}k===d?g.reject(d,new TypeError("Cannot resolve promise with itself")):g.resolve(d,k)})}function n(d){var w=d&&d.then;if(d&&(typeof d=="object"||typeof d=="function")&&typeof w=="function")return function(){w.apply(d,arguments)}}function s(d,w){var x=!1;function k(C){x||(x=!0,g.reject(d,C))}function E(C){x||(x=!0,g.resolve(d,C))}var F=f(function(){w(E,k)});F.status==="error"&&k(F.value)}function f(d,w){var x={};try{x.value=d(w),x.status="success"}catch(k){x.status="error",x.value=k}return x}(c.exports=h).prototype.finally=function(d){if(typeof d!="function")return this;var w=this.constructor;return this.then(function(x){return w.resolve(d()).then(function(){return x})},function(x){return w.resolve(d()).then(function(){throw x})})},h.prototype.catch=function(d){return this.then(null,d)},h.prototype.then=function(d,w){if(typeof d!="function"&&this.state===v||typeof w!="function"&&this.state===p)return this;var x=new this.constructor(u);return this.state!==m?t(x,this.state===v?d:w,this.outcome):this.queue.push(new b(x,d,w)),x},b.prototype.callFulfilled=function(d){g.resolve(this.promise,d)},b.prototype.otherCallFulfilled=function(d){t(this.promise,this.onFulfilled,d)},b.prototype.callRejected=function(d){g.reject(this.promise,d)},b.prototype.otherCallRejected=function(d){t(this.promise,this.onRejected,d)},g.resolve=function(d,w){var x=f(n,w);if(x.status==="error")return g.reject(d,x.value);var k=x.value;if(k)s(d,k);else{d.state=v,d.outcome=w;for(var E=-1,F=d.queue.length;++E<F;)d.queue[E].callFulfilled(w)}return d},g.reject=function(d,w){d.state=p,d.outcome=w;for(var x=-1,k=d.queue.length;++x<k;)d.queue[x].callRejected(w);return d},h.resolve=function(d){return d instanceof this?d:g.resolve(new this(u),d)},h.reject=function(d){var w=new this(u);return g.reject(w,d)},h.all=function(d){var w=this;if(Object.prototype.toString.call(d)!=="[object Array]")return this.reject(new TypeError("must be an array"));var x=d.length,k=!1;if(!x)return this.resolve([]);for(var E=new Array(x),F=0,C=-1,D=new this(u);++C<x;)O(d[C],C);return D;function O(V,J){w.resolve(V).then(function(S){E[J]=S,++F!==x||k||(k=!0,g.resolve(D,E))},function(S){k||(k=!0,g.reject(D,S))})}},h.race=function(d){var w=this;if(Object.prototype.toString.call(d)!=="[object Array]")return this.reject(new TypeError("must be an array"));var x=d.length,k=!1;if(!x)return this.resolve([]);for(var E=-1,F=new this(u);++E<x;)C=d[E],w.resolve(C).then(function(D){k||(k=!0,g.resolve(F,D))},function(D){k||(k=!0,g.reject(F,D))});var C;return F}},{immediate:36}],38:[function(r,c,l){var o={};(0,r("./lib/utils/common").assign)(o,r("./lib/deflate"),r("./lib/inflate"),r("./lib/zlib/constants")),c.exports=o},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(r,c,l){var o=r("./zlib/deflate"),u=r("./utils/common"),g=r("./utils/strings"),p=r("./zlib/messages"),v=r("./zlib/zstream"),m=Object.prototype.toString,h=0,b=-1,t=0,n=8;function s(d){if(!(this instanceof s))return new s(d);this.options=u.assign({level:b,method:n,chunkSize:16384,windowBits:15,memLevel:8,strategy:t,to:""},d||{});var w=this.options;w.raw&&0<w.windowBits?w.windowBits=-w.windowBits:w.gzip&&0<w.windowBits&&w.windowBits<16&&(w.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new v,this.strm.avail_out=0;var x=o.deflateInit2(this.strm,w.level,w.method,w.windowBits,w.memLevel,w.strategy);if(x!==h)throw new Error(p[x]);if(w.header&&o.deflateSetHeader(this.strm,w.header),w.dictionary){var k;if(k=typeof w.dictionary=="string"?g.string2buf(w.dictionary):m.call(w.dictionary)==="[object ArrayBuffer]"?new Uint8Array(w.dictionary):w.dictionary,(x=o.deflateSetDictionary(this.strm,k))!==h)throw new Error(p[x]);this._dict_set=!0}}function f(d,w){var x=new s(w);if(x.push(d,!0),x.err)throw x.msg||p[x.err];return x.result}s.prototype.push=function(d,w){var x,k,E=this.strm,F=this.options.chunkSize;if(this.ended)return!1;k=w===~~w?w:w===!0?4:0,typeof d=="string"?E.input=g.string2buf(d):m.call(d)==="[object ArrayBuffer]"?E.input=new Uint8Array(d):E.input=d,E.next_in=0,E.avail_in=E.input.length;do{if(E.avail_out===0&&(E.output=new u.Buf8(F),E.next_out=0,E.avail_out=F),(x=o.deflate(E,k))!==1&&x!==h)return this.onEnd(x),!(this.ended=!0);E.avail_out!==0&&(E.avail_in!==0||k!==4&&k!==2)||(this.options.to==="string"?this.onData(g.buf2binstring(u.shrinkBuf(E.output,E.next_out))):this.onData(u.shrinkBuf(E.output,E.next_out)))}while((0<E.avail_in||E.avail_out===0)&&x!==1);return k===4?(x=o.deflateEnd(this.strm),this.onEnd(x),this.ended=!0,x===h):k!==2||(this.onEnd(h),!(E.avail_out=0))},s.prototype.onData=function(d){this.chunks.push(d)},s.prototype.onEnd=function(d){d===h&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=u.flattenChunks(this.chunks)),this.chunks=[],this.err=d,this.msg=this.strm.msg},l.Deflate=s,l.deflate=f,l.deflateRaw=function(d,w){return(w=w||{}).raw=!0,f(d,w)},l.gzip=function(d,w){return(w=w||{}).gzip=!0,f(d,w)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(r,c,l){var o=r("./zlib/inflate"),u=r("./utils/common"),g=r("./utils/strings"),p=r("./zlib/constants"),v=r("./zlib/messages"),m=r("./zlib/zstream"),h=r("./zlib/gzheader"),b=Object.prototype.toString;function t(s){if(!(this instanceof t))return new t(s);this.options=u.assign({chunkSize:16384,windowBits:0,to:""},s||{});var f=this.options;f.raw&&0<=f.windowBits&&f.windowBits<16&&(f.windowBits=-f.windowBits,f.windowBits===0&&(f.windowBits=-15)),!(0<=f.windowBits&&f.windowBits<16)||s&&s.windowBits||(f.windowBits+=32),15<f.windowBits&&f.windowBits<48&&(15&f.windowBits)==0&&(f.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new m,this.strm.avail_out=0;var d=o.inflateInit2(this.strm,f.windowBits);if(d!==p.Z_OK)throw new Error(v[d]);this.header=new h,o.inflateGetHeader(this.strm,this.header)}function n(s,f){var d=new t(f);if(d.push(s,!0),d.err)throw d.msg||v[d.err];return d.result}t.prototype.push=function(s,f){var d,w,x,k,E,F,C=this.strm,D=this.options.chunkSize,O=this.options.dictionary,V=!1;if(this.ended)return!1;w=f===~~f?f:f===!0?p.Z_FINISH:p.Z_NO_FLUSH,typeof s=="string"?C.input=g.binstring2buf(s):b.call(s)==="[object ArrayBuffer]"?C.input=new Uint8Array(s):C.input=s,C.next_in=0,C.avail_in=C.input.length;do{if(C.avail_out===0&&(C.output=new u.Buf8(D),C.next_out=0,C.avail_out=D),(d=o.inflate(C,p.Z_NO_FLUSH))===p.Z_NEED_DICT&&O&&(F=typeof O=="string"?g.string2buf(O):b.call(O)==="[object ArrayBuffer]"?new Uint8Array(O):O,d=o.inflateSetDictionary(this.strm,F)),d===p.Z_BUF_ERROR&&V===!0&&(d=p.Z_OK,V=!1),d!==p.Z_STREAM_END&&d!==p.Z_OK)return this.onEnd(d),!(this.ended=!0);C.next_out&&(C.avail_out!==0&&d!==p.Z_STREAM_END&&(C.avail_in!==0||w!==p.Z_FINISH&&w!==p.Z_SYNC_FLUSH)||(this.options.to==="string"?(x=g.utf8border(C.output,C.next_out),k=C.next_out-x,E=g.buf2string(C.output,x),C.next_out=k,C.avail_out=D-k,k&&u.arraySet(C.output,C.output,x,k,0),this.onData(E)):this.onData(u.shrinkBuf(C.output,C.next_out)))),C.avail_in===0&&C.avail_out===0&&(V=!0)}while((0<C.avail_in||C.avail_out===0)&&d!==p.Z_STREAM_END);return d===p.Z_STREAM_END&&(w=p.Z_FINISH),w===p.Z_FINISH?(d=o.inflateEnd(this.strm),this.onEnd(d),this.ended=!0,d===p.Z_OK):w!==p.Z_SYNC_FLUSH||(this.onEnd(p.Z_OK),!(C.avail_out=0))},t.prototype.onData=function(s){this.chunks.push(s)},t.prototype.onEnd=function(s){s===p.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=u.flattenChunks(this.chunks)),this.chunks=[],this.err=s,this.msg=this.strm.msg},l.Inflate=t,l.inflate=n,l.inflateRaw=function(s,f){return(f=f||{}).raw=!0,n(s,f)},l.ungzip=n},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(r,c,l){var o=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";l.assign=function(p){for(var v=Array.prototype.slice.call(arguments,1);v.length;){var m=v.shift();if(m){if(typeof m!="object")throw new TypeError(m+"must be non-object");for(var h in m)m.hasOwnProperty(h)&&(p[h]=m[h])}}return p},l.shrinkBuf=function(p,v){return p.length===v?p:p.subarray?p.subarray(0,v):(p.length=v,p)};var u={arraySet:function(p,v,m,h,b){if(v.subarray&&p.subarray)p.set(v.subarray(m,m+h),b);else for(var t=0;t<h;t++)p[b+t]=v[m+t]},flattenChunks:function(p){var v,m,h,b,t,n;for(v=h=0,m=p.length;v<m;v++)h+=p[v].length;for(n=new Uint8Array(h),v=b=0,m=p.length;v<m;v++)t=p[v],n.set(t,b),b+=t.length;return n}},g={arraySet:function(p,v,m,h,b){for(var t=0;t<h;t++)p[b+t]=v[m+t]},flattenChunks:function(p){return[].concat.apply([],p)}};l.setTyped=function(p){p?(l.Buf8=Uint8Array,l.Buf16=Uint16Array,l.Buf32=Int32Array,l.assign(l,u)):(l.Buf8=Array,l.Buf16=Array,l.Buf32=Array,l.assign(l,g))},l.setTyped(o)},{}],42:[function(r,c,l){var o=r("./common"),u=!0,g=!0;try{String.fromCharCode.apply(null,[0])}catch{u=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{g=!1}for(var p=new o.Buf8(256),v=0;v<256;v++)p[v]=252<=v?6:248<=v?5:240<=v?4:224<=v?3:192<=v?2:1;function m(h,b){if(b<65537&&(h.subarray&&g||!h.subarray&&u))return String.fromCharCode.apply(null,o.shrinkBuf(h,b));for(var t="",n=0;n<b;n++)t+=String.fromCharCode(h[n]);return t}p[254]=p[254]=1,l.string2buf=function(h){var b,t,n,s,f,d=h.length,w=0;for(s=0;s<d;s++)(64512&(t=h.charCodeAt(s)))==55296&&s+1<d&&(64512&(n=h.charCodeAt(s+1)))==56320&&(t=65536+(t-55296<<10)+(n-56320),s++),w+=t<128?1:t<2048?2:t<65536?3:4;for(b=new o.Buf8(w),s=f=0;f<w;s++)(64512&(t=h.charCodeAt(s)))==55296&&s+1<d&&(64512&(n=h.charCodeAt(s+1)))==56320&&(t=65536+(t-55296<<10)+(n-56320),s++),t<128?b[f++]=t:(t<2048?b[f++]=192|t>>>6:(t<65536?b[f++]=224|t>>>12:(b[f++]=240|t>>>18,b[f++]=128|t>>>12&63),b[f++]=128|t>>>6&63),b[f++]=128|63&t);return b},l.buf2binstring=function(h){return m(h,h.length)},l.binstring2buf=function(h){for(var b=new o.Buf8(h.length),t=0,n=b.length;t<n;t++)b[t]=h.charCodeAt(t);return b},l.buf2string=function(h,b){var t,n,s,f,d=b||h.length,w=new Array(2*d);for(t=n=0;t<d;)if((s=h[t++])<128)w[n++]=s;else if(4<(f=p[s]))w[n++]=65533,t+=f-1;else{for(s&=f===2?31:f===3?15:7;1<f&&t<d;)s=s<<6|63&h[t++],f--;1<f?w[n++]=65533:s<65536?w[n++]=s:(s-=65536,w[n++]=55296|s>>10&1023,w[n++]=56320|1023&s)}return m(w,n)},l.utf8border=function(h,b){var t;for((b=b||h.length)>h.length&&(b=h.length),t=b-1;0<=t&&(192&h[t])==128;)t--;return t<0||t===0?b:t+p[h[t]]>b?t:b}},{"./common":41}],43:[function(r,c,l){c.exports=function(o,u,g,p){for(var v=65535&o|0,m=o>>>16&65535|0,h=0;g!==0;){for(g-=h=2e3<g?2e3:g;m=m+(v=v+u[p++]|0)|0,--h;);v%=65521,m%=65521}return v|m<<16|0}},{}],44:[function(r,c,l){c.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(r,c,l){var o=function(){for(var u,g=[],p=0;p<256;p++){u=p;for(var v=0;v<8;v++)u=1&u?3988292384^u>>>1:u>>>1;g[p]=u}return g}();c.exports=function(u,g,p,v){var m=o,h=v+p;u^=-1;for(var b=v;b<h;b++)u=u>>>8^m[255&(u^g[b])];return-1^u}},{}],46:[function(r,c,l){var o,u=r("../utils/common"),g=r("./trees"),p=r("./adler32"),v=r("./crc32"),m=r("./messages"),h=0,b=4,t=0,n=-2,s=-1,f=4,d=2,w=8,x=9,k=286,E=30,F=19,C=2*k+1,D=15,O=3,V=258,J=V+O+1,S=42,j=113,y=1,W=2,rt=3,U=4;function tt(_,N){return _.msg=m[N],N}function q(_){return(_<<1)-(4<_?9:0)}function at(_){for(var N=_.length;0<=--N;)_[N]=0}function M(_){var N=_.state,B=N.pending;B>_.avail_out&&(B=_.avail_out),B!==0&&(u.arraySet(_.output,N.pending_buf,N.pending_out,B,_.next_out),_.next_out+=B,N.pending_out+=B,_.total_out+=B,_.avail_out-=B,N.pending-=B,N.pending===0&&(N.pending_out=0))}function z(_,N){g._tr_flush_block(_,0<=_.block_start?_.block_start:-1,_.strstart-_.block_start,N),_.block_start=_.strstart,M(_.strm)}function $(_,N){_.pending_buf[_.pending++]=N}function L(_,N){_.pending_buf[_.pending++]=N>>>8&255,_.pending_buf[_.pending++]=255&N}function Y(_,N){var B,A,T=_.max_chain_length,R=_.strstart,H=_.prev_length,G=_.nice_match,P=_.strstart>_.w_size-J?_.strstart-(_.w_size-J):0,K=_.window,it=_.w_mask,Q=_.prev,lt=_.strstart+V,kt=K[R+H-1],_t=K[R+H];_.prev_length>=_.good_match&&(T>>=2),G>_.lookahead&&(G=_.lookahead);do if(K[(B=N)+H]===_t&&K[B+H-1]===kt&&K[B]===K[R]&&K[++B]===K[R+1]){R+=2,B++;do;while(K[++R]===K[++B]&&K[++R]===K[++B]&&K[++R]===K[++B]&&K[++R]===K[++B]&&K[++R]===K[++B]&&K[++R]===K[++B]&&K[++R]===K[++B]&&K[++R]===K[++B]&&R<lt);if(A=V-(lt-R),R=lt-V,H<A){if(_.match_start=N,G<=(H=A))break;kt=K[R+H-1],_t=K[R+H]}}while((N=Q[N&it])>P&&--T!=0);return H<=_.lookahead?H:_.lookahead}function ot(_){var N,B,A,T,R,H,G,P,K,it,Q=_.w_size;do{if(T=_.window_size-_.lookahead-_.strstart,_.strstart>=Q+(Q-J)){for(u.arraySet(_.window,_.window,Q,Q,0),_.match_start-=Q,_.strstart-=Q,_.block_start-=Q,N=B=_.hash_size;A=_.head[--N],_.head[N]=Q<=A?A-Q:0,--B;);for(N=B=Q;A=_.prev[--N],_.prev[N]=Q<=A?A-Q:0,--B;);T+=Q}if(_.strm.avail_in===0)break;if(H=_.strm,G=_.window,P=_.strstart+_.lookahead,K=T,it=void 0,it=H.avail_in,K<it&&(it=K),B=it===0?0:(H.avail_in-=it,u.arraySet(G,H.input,H.next_in,it,P),H.state.wrap===1?H.adler=p(H.adler,G,it,P):H.state.wrap===2&&(H.adler=v(H.adler,G,it,P)),H.next_in+=it,H.total_in+=it,it),_.lookahead+=B,_.lookahead+_.insert>=O)for(R=_.strstart-_.insert,_.ins_h=_.window[R],_.ins_h=(_.ins_h<<_.hash_shift^_.window[R+1])&_.hash_mask;_.insert&&(_.ins_h=(_.ins_h<<_.hash_shift^_.window[R+O-1])&_.hash_mask,_.prev[R&_.w_mask]=_.head[_.ins_h],_.head[_.ins_h]=R,R++,_.insert--,!(_.lookahead+_.insert<O)););}while(_.lookahead<J&&_.strm.avail_in!==0)}function pt(_,N){for(var B,A;;){if(_.lookahead<J){if(ot(_),_.lookahead<J&&N===h)return y;if(_.lookahead===0)break}if(B=0,_.lookahead>=O&&(_.ins_h=(_.ins_h<<_.hash_shift^_.window[_.strstart+O-1])&_.hash_mask,B=_.prev[_.strstart&_.w_mask]=_.head[_.ins_h],_.head[_.ins_h]=_.strstart),B!==0&&_.strstart-B<=_.w_size-J&&(_.match_length=Y(_,B)),_.match_length>=O)if(A=g._tr_tally(_,_.strstart-_.match_start,_.match_length-O),_.lookahead-=_.match_length,_.match_length<=_.max_lazy_match&&_.lookahead>=O){for(_.match_length--;_.strstart++,_.ins_h=(_.ins_h<<_.hash_shift^_.window[_.strstart+O-1])&_.hash_mask,B=_.prev[_.strstart&_.w_mask]=_.head[_.ins_h],_.head[_.ins_h]=_.strstart,--_.match_length!=0;);_.strstart++}else _.strstart+=_.match_length,_.match_length=0,_.ins_h=_.window[_.strstart],_.ins_h=(_.ins_h<<_.hash_shift^_.window[_.strstart+1])&_.hash_mask;else A=g._tr_tally(_,0,_.window[_.strstart]),_.lookahead--,_.strstart++;if(A&&(z(_,!1),_.strm.avail_out===0))return y}return _.insert=_.strstart<O-1?_.strstart:O-1,N===b?(z(_,!0),_.strm.avail_out===0?rt:U):_.last_lit&&(z(_,!1),_.strm.avail_out===0)?y:W}function ct(_,N){for(var B,A,T;;){if(_.lookahead<J){if(ot(_),_.lookahead<J&&N===h)return y;if(_.lookahead===0)break}if(B=0,_.lookahead>=O&&(_.ins_h=(_.ins_h<<_.hash_shift^_.window[_.strstart+O-1])&_.hash_mask,B=_.prev[_.strstart&_.w_mask]=_.head[_.ins_h],_.head[_.ins_h]=_.strstart),_.prev_length=_.match_length,_.prev_match=_.match_start,_.match_length=O-1,B!==0&&_.prev_length<_.max_lazy_match&&_.strstart-B<=_.w_size-J&&(_.match_length=Y(_,B),_.match_length<=5&&(_.strategy===1||_.match_length===O&&4096<_.strstart-_.match_start)&&(_.match_length=O-1)),_.prev_length>=O&&_.match_length<=_.prev_length){for(T=_.strstart+_.lookahead-O,A=g._tr_tally(_,_.strstart-1-_.prev_match,_.prev_length-O),_.lookahead-=_.prev_length-1,_.prev_length-=2;++_.strstart<=T&&(_.ins_h=(_.ins_h<<_.hash_shift^_.window[_.strstart+O-1])&_.hash_mask,B=_.prev[_.strstart&_.w_mask]=_.head[_.ins_h],_.head[_.ins_h]=_.strstart),--_.prev_length!=0;);if(_.match_available=0,_.match_length=O-1,_.strstart++,A&&(z(_,!1),_.strm.avail_out===0))return y}else if(_.match_available){if((A=g._tr_tally(_,0,_.window[_.strstart-1]))&&z(_,!1),_.strstart++,_.lookahead--,_.strm.avail_out===0)return y}else _.match_available=1,_.strstart++,_.lookahead--}return _.match_available&&(A=g._tr_tally(_,0,_.window[_.strstart-1]),_.match_available=0),_.insert=_.strstart<O-1?_.strstart:O-1,N===b?(z(_,!0),_.strm.avail_out===0?rt:U):_.last_lit&&(z(_,!1),_.strm.avail_out===0)?y:W}function vt(_,N,B,A,T){this.good_length=_,this.max_lazy=N,this.nice_length=B,this.max_chain=A,this.func=T}function xt(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=w,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new u.Buf16(2*C),this.dyn_dtree=new u.Buf16(2*(2*E+1)),this.bl_tree=new u.Buf16(2*(2*F+1)),at(this.dyn_ltree),at(this.dyn_dtree),at(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new u.Buf16(D+1),this.heap=new u.Buf16(2*k+1),at(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new u.Buf16(2*k+1),at(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function It(_){var N;return _&&_.state?(_.total_in=_.total_out=0,_.data_type=d,(N=_.state).pending=0,N.pending_out=0,N.wrap<0&&(N.wrap=-N.wrap),N.status=N.wrap?S:j,_.adler=N.wrap===2?0:1,N.last_flush=h,g._tr_init(N),t):tt(_,n)}function nt(_){var N=It(_);return N===t&&function(B){B.window_size=2*B.w_size,at(B.head),B.max_lazy_match=o[B.level].max_lazy,B.good_match=o[B.level].good_length,B.nice_match=o[B.level].nice_length,B.max_chain_length=o[B.level].max_chain,B.strstart=0,B.block_start=0,B.lookahead=0,B.insert=0,B.match_length=B.prev_length=O-1,B.match_available=0,B.ins_h=0}(_.state),N}function ut(_,N,B,A,T,R){if(!_)return n;var H=1;if(N===s&&(N=6),A<0?(H=0,A=-A):15<A&&(H=2,A-=16),T<1||x<T||B!==w||A<8||15<A||N<0||9<N||R<0||f<R)return tt(_,n);A===8&&(A=9);var G=new xt;return(_.state=G).strm=_,G.wrap=H,G.gzhead=null,G.w_bits=A,G.w_size=1<<G.w_bits,G.w_mask=G.w_size-1,G.hash_bits=T+7,G.hash_size=1<<G.hash_bits,G.hash_mask=G.hash_size-1,G.hash_shift=~~((G.hash_bits+O-1)/O),G.window=new u.Buf8(2*G.w_size),G.head=new u.Buf16(G.hash_size),G.prev=new u.Buf16(G.w_size),G.lit_bufsize=1<<T+6,G.pending_buf_size=4*G.lit_bufsize,G.pending_buf=new u.Buf8(G.pending_buf_size),G.d_buf=1*G.lit_bufsize,G.l_buf=3*G.lit_bufsize,G.level=N,G.strategy=R,G.method=B,nt(_)}o=[new vt(0,0,0,0,function(_,N){var B=65535;for(B>_.pending_buf_size-5&&(B=_.pending_buf_size-5);;){if(_.lookahead<=1){if(ot(_),_.lookahead===0&&N===h)return y;if(_.lookahead===0)break}_.strstart+=_.lookahead,_.lookahead=0;var A=_.block_start+B;if((_.strstart===0||_.strstart>=A)&&(_.lookahead=_.strstart-A,_.strstart=A,z(_,!1),_.strm.avail_out===0)||_.strstart-_.block_start>=_.w_size-J&&(z(_,!1),_.strm.avail_out===0))return y}return _.insert=0,N===b?(z(_,!0),_.strm.avail_out===0?rt:U):(_.strstart>_.block_start&&(z(_,!1),_.strm.avail_out),y)}),new vt(4,4,8,4,pt),new vt(4,5,16,8,pt),new vt(4,6,32,32,pt),new vt(4,4,16,16,ct),new vt(8,16,32,32,ct),new vt(8,16,128,128,ct),new vt(8,32,128,256,ct),new vt(32,128,258,1024,ct),new vt(32,258,258,4096,ct)],l.deflateInit=function(_,N){return ut(_,N,w,15,8,0)},l.deflateInit2=ut,l.deflateReset=nt,l.deflateResetKeep=It,l.deflateSetHeader=function(_,N){return _&&_.state?_.state.wrap!==2?n:(_.state.gzhead=N,t):n},l.deflate=function(_,N){var B,A,T,R;if(!_||!_.state||5<N||N<0)return _?tt(_,n):n;if(A=_.state,!_.output||!_.input&&_.avail_in!==0||A.status===666&&N!==b)return tt(_,_.avail_out===0?-5:n);if(A.strm=_,B=A.last_flush,A.last_flush=N,A.status===S)if(A.wrap===2)_.adler=0,$(A,31),$(A,139),$(A,8),A.gzhead?($(A,(A.gzhead.text?1:0)+(A.gzhead.hcrc?2:0)+(A.gzhead.extra?4:0)+(A.gzhead.name?8:0)+(A.gzhead.comment?16:0)),$(A,255&A.gzhead.time),$(A,A.gzhead.time>>8&255),$(A,A.gzhead.time>>16&255),$(A,A.gzhead.time>>24&255),$(A,A.level===9?2:2<=A.strategy||A.level<2?4:0),$(A,255&A.gzhead.os),A.gzhead.extra&&A.gzhead.extra.length&&($(A,255&A.gzhead.extra.length),$(A,A.gzhead.extra.length>>8&255)),A.gzhead.hcrc&&(_.adler=v(_.adler,A.pending_buf,A.pending,0)),A.gzindex=0,A.status=69):($(A,0),$(A,0),$(A,0),$(A,0),$(A,0),$(A,A.level===9?2:2<=A.strategy||A.level<2?4:0),$(A,3),A.status=j);else{var H=w+(A.w_bits-8<<4)<<8;H|=(2<=A.strategy||A.level<2?0:A.level<6?1:A.level===6?2:3)<<6,A.strstart!==0&&(H|=32),H+=31-H%31,A.status=j,L(A,H),A.strstart!==0&&(L(A,_.adler>>>16),L(A,65535&_.adler)),_.adler=1}if(A.status===69)if(A.gzhead.extra){for(T=A.pending;A.gzindex<(65535&A.gzhead.extra.length)&&(A.pending!==A.pending_buf_size||(A.gzhead.hcrc&&A.pending>T&&(_.adler=v(_.adler,A.pending_buf,A.pending-T,T)),M(_),T=A.pending,A.pending!==A.pending_buf_size));)$(A,255&A.gzhead.extra[A.gzindex]),A.gzindex++;A.gzhead.hcrc&&A.pending>T&&(_.adler=v(_.adler,A.pending_buf,A.pending-T,T)),A.gzindex===A.gzhead.extra.length&&(A.gzindex=0,A.status=73)}else A.status=73;if(A.status===73)if(A.gzhead.name){T=A.pending;do{if(A.pending===A.pending_buf_size&&(A.gzhead.hcrc&&A.pending>T&&(_.adler=v(_.adler,A.pending_buf,A.pending-T,T)),M(_),T=A.pending,A.pending===A.pending_buf_size)){R=1;break}R=A.gzindex<A.gzhead.name.length?255&A.gzhead.name.charCodeAt(A.gzindex++):0,$(A,R)}while(R!==0);A.gzhead.hcrc&&A.pending>T&&(_.adler=v(_.adler,A.pending_buf,A.pending-T,T)),R===0&&(A.gzindex=0,A.status=91)}else A.status=91;if(A.status===91)if(A.gzhead.comment){T=A.pending;do{if(A.pending===A.pending_buf_size&&(A.gzhead.hcrc&&A.pending>T&&(_.adler=v(_.adler,A.pending_buf,A.pending-T,T)),M(_),T=A.pending,A.pending===A.pending_buf_size)){R=1;break}R=A.gzindex<A.gzhead.comment.length?255&A.gzhead.comment.charCodeAt(A.gzindex++):0,$(A,R)}while(R!==0);A.gzhead.hcrc&&A.pending>T&&(_.adler=v(_.adler,A.pending_buf,A.pending-T,T)),R===0&&(A.status=103)}else A.status=103;if(A.status===103&&(A.gzhead.hcrc?(A.pending+2>A.pending_buf_size&&M(_),A.pending+2<=A.pending_buf_size&&($(A,255&_.adler),$(A,_.adler>>8&255),_.adler=0,A.status=j)):A.status=j),A.pending!==0){if(M(_),_.avail_out===0)return A.last_flush=-1,t}else if(_.avail_in===0&&q(N)<=q(B)&&N!==b)return tt(_,-5);if(A.status===666&&_.avail_in!==0)return tt(_,-5);if(_.avail_in!==0||A.lookahead!==0||N!==h&&A.status!==666){var G=A.strategy===2?function(P,K){for(var it;;){if(P.lookahead===0&&(ot(P),P.lookahead===0)){if(K===h)return y;break}if(P.match_length=0,it=g._tr_tally(P,0,P.window[P.strstart]),P.lookahead--,P.strstart++,it&&(z(P,!1),P.strm.avail_out===0))return y}return P.insert=0,K===b?(z(P,!0),P.strm.avail_out===0?rt:U):P.last_lit&&(z(P,!1),P.strm.avail_out===0)?y:W}(A,N):A.strategy===3?function(P,K){for(var it,Q,lt,kt,_t=P.window;;){if(P.lookahead<=V){if(ot(P),P.lookahead<=V&&K===h)return y;if(P.lookahead===0)break}if(P.match_length=0,P.lookahead>=O&&0<P.strstart&&(Q=_t[lt=P.strstart-1])===_t[++lt]&&Q===_t[++lt]&&Q===_t[++lt]){kt=P.strstart+V;do;while(Q===_t[++lt]&&Q===_t[++lt]&&Q===_t[++lt]&&Q===_t[++lt]&&Q===_t[++lt]&&Q===_t[++lt]&&Q===_t[++lt]&&Q===_t[++lt]&&lt<kt);P.match_length=V-(kt-lt),P.match_length>P.lookahead&&(P.match_length=P.lookahead)}if(P.match_length>=O?(it=g._tr_tally(P,1,P.match_length-O),P.lookahead-=P.match_length,P.strstart+=P.match_length,P.match_length=0):(it=g._tr_tally(P,0,P.window[P.strstart]),P.lookahead--,P.strstart++),it&&(z(P,!1),P.strm.avail_out===0))return y}return P.insert=0,K===b?(z(P,!0),P.strm.avail_out===0?rt:U):P.last_lit&&(z(P,!1),P.strm.avail_out===0)?y:W}(A,N):o[A.level].func(A,N);if(G!==rt&&G!==U||(A.status=666),G===y||G===rt)return _.avail_out===0&&(A.last_flush=-1),t;if(G===W&&(N===1?g._tr_align(A):N!==5&&(g._tr_stored_block(A,0,0,!1),N===3&&(at(A.head),A.lookahead===0&&(A.strstart=0,A.block_start=0,A.insert=0))),M(_),_.avail_out===0))return A.last_flush=-1,t}return N!==b?t:A.wrap<=0?1:(A.wrap===2?($(A,255&_.adler),$(A,_.adler>>8&255),$(A,_.adler>>16&255),$(A,_.adler>>24&255),$(A,255&_.total_in),$(A,_.total_in>>8&255),$(A,_.total_in>>16&255),$(A,_.total_in>>24&255)):(L(A,_.adler>>>16),L(A,65535&_.adler)),M(_),0<A.wrap&&(A.wrap=-A.wrap),A.pending!==0?t:1)},l.deflateEnd=function(_){var N;return _&&_.state?(N=_.state.status)!==S&&N!==69&&N!==73&&N!==91&&N!==103&&N!==j&&N!==666?tt(_,n):(_.state=null,N===j?tt(_,-3):t):n},l.deflateSetDictionary=function(_,N){var B,A,T,R,H,G,P,K,it=N.length;if(!_||!_.state||(R=(B=_.state).wrap)===2||R===1&&B.status!==S||B.lookahead)return n;for(R===1&&(_.adler=p(_.adler,N,it,0)),B.wrap=0,it>=B.w_size&&(R===0&&(at(B.head),B.strstart=0,B.block_start=0,B.insert=0),K=new u.Buf8(B.w_size),u.arraySet(K,N,it-B.w_size,B.w_size,0),N=K,it=B.w_size),H=_.avail_in,G=_.next_in,P=_.input,_.avail_in=it,_.next_in=0,_.input=N,ot(B);B.lookahead>=O;){for(A=B.strstart,T=B.lookahead-(O-1);B.ins_h=(B.ins_h<<B.hash_shift^B.window[A+O-1])&B.hash_mask,B.prev[A&B.w_mask]=B.head[B.ins_h],B.head[B.ins_h]=A,A++,--T;);B.strstart=A,B.lookahead=O-1,ot(B)}return B.strstart+=B.lookahead,B.block_start=B.strstart,B.insert=B.lookahead,B.lookahead=0,B.match_length=B.prev_length=O-1,B.match_available=0,_.next_in=G,_.input=P,_.avail_in=H,B.wrap=R,t},l.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(r,c,l){c.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(r,c,l){c.exports=function(o,u){var g,p,v,m,h,b,t,n,s,f,d,w,x,k,E,F,C,D,O,V,J,S,j,y,W;g=o.state,p=o.next_in,y=o.input,v=p+(o.avail_in-5),m=o.next_out,W=o.output,h=m-(u-o.avail_out),b=m+(o.avail_out-257),t=g.dmax,n=g.wsize,s=g.whave,f=g.wnext,d=g.window,w=g.hold,x=g.bits,k=g.lencode,E=g.distcode,F=(1<<g.lenbits)-1,C=(1<<g.distbits)-1;t:do{x<15&&(w+=y[p++]<<x,x+=8,w+=y[p++]<<x,x+=8),D=k[w&F];e:for(;;){if(w>>>=O=D>>>24,x-=O,(O=D>>>16&255)===0)W[m++]=65535&D;else{if(!(16&O)){if((64&O)==0){D=k[(65535&D)+(w&(1<<O)-1)];continue e}if(32&O){g.mode=12;break t}o.msg="invalid literal/length code",g.mode=30;break t}V=65535&D,(O&=15)&&(x<O&&(w+=y[p++]<<x,x+=8),V+=w&(1<<O)-1,w>>>=O,x-=O),x<15&&(w+=y[p++]<<x,x+=8,w+=y[p++]<<x,x+=8),D=E[w&C];r:for(;;){if(w>>>=O=D>>>24,x-=O,!(16&(O=D>>>16&255))){if((64&O)==0){D=E[(65535&D)+(w&(1<<O)-1)];continue r}o.msg="invalid distance code",g.mode=30;break t}if(J=65535&D,x<(O&=15)&&(w+=y[p++]<<x,(x+=8)<O&&(w+=y[p++]<<x,x+=8)),t<(J+=w&(1<<O)-1)){o.msg="invalid distance too far back",g.mode=30;break t}if(w>>>=O,x-=O,(O=m-h)<J){if(s<(O=J-O)&&g.sane){o.msg="invalid distance too far back",g.mode=30;break t}if(j=d,(S=0)===f){if(S+=n-O,O<V){for(V-=O;W[m++]=d[S++],--O;);S=m-J,j=W}}else if(f<O){if(S+=n+f-O,(O-=f)<V){for(V-=O;W[m++]=d[S++],--O;);if(S=0,f<V){for(V-=O=f;W[m++]=d[S++],--O;);S=m-J,j=W}}}else if(S+=f-O,O<V){for(V-=O;W[m++]=d[S++],--O;);S=m-J,j=W}for(;2<V;)W[m++]=j[S++],W[m++]=j[S++],W[m++]=j[S++],V-=3;V&&(W[m++]=j[S++],1<V&&(W[m++]=j[S++]))}else{for(S=m-J;W[m++]=W[S++],W[m++]=W[S++],W[m++]=W[S++],2<(V-=3););V&&(W[m++]=W[S++],1<V&&(W[m++]=W[S++]))}break}}break}}while(p<v&&m<b);p-=V=x>>3,w&=(1<<(x-=V<<3))-1,o.next_in=p,o.next_out=m,o.avail_in=p<v?v-p+5:5-(p-v),o.avail_out=m<b?b-m+257:257-(m-b),g.hold=w,g.bits=x}},{}],49:[function(r,c,l){var o=r("../utils/common"),u=r("./adler32"),g=r("./crc32"),p=r("./inffast"),v=r("./inftrees"),m=1,h=2,b=0,t=-2,n=1,s=852,f=592;function d(S){return(S>>>24&255)+(S>>>8&65280)+((65280&S)<<8)+((255&S)<<24)}function w(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new o.Buf16(320),this.work=new o.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function x(S){var j;return S&&S.state?(j=S.state,S.total_in=S.total_out=j.total=0,S.msg="",j.wrap&&(S.adler=1&j.wrap),j.mode=n,j.last=0,j.havedict=0,j.dmax=32768,j.head=null,j.hold=0,j.bits=0,j.lencode=j.lendyn=new o.Buf32(s),j.distcode=j.distdyn=new o.Buf32(f),j.sane=1,j.back=-1,b):t}function k(S){var j;return S&&S.state?((j=S.state).wsize=0,j.whave=0,j.wnext=0,x(S)):t}function E(S,j){var y,W;return S&&S.state?(W=S.state,j<0?(y=0,j=-j):(y=1+(j>>4),j<48&&(j&=15)),j&&(j<8||15<j)?t:(W.window!==null&&W.wbits!==j&&(W.window=null),W.wrap=y,W.wbits=j,k(S))):t}function F(S,j){var y,W;return S?(W=new w,(S.state=W).window=null,(y=E(S,j))!==b&&(S.state=null),y):t}var C,D,O=!0;function V(S){if(O){var j;for(C=new o.Buf32(512),D=new o.Buf32(32),j=0;j<144;)S.lens[j++]=8;for(;j<256;)S.lens[j++]=9;for(;j<280;)S.lens[j++]=7;for(;j<288;)S.lens[j++]=8;for(v(m,S.lens,0,288,C,0,S.work,{bits:9}),j=0;j<32;)S.lens[j++]=5;v(h,S.lens,0,32,D,0,S.work,{bits:5}),O=!1}S.lencode=C,S.lenbits=9,S.distcode=D,S.distbits=5}function J(S,j,y,W){var rt,U=S.state;return U.window===null&&(U.wsize=1<<U.wbits,U.wnext=0,U.whave=0,U.window=new o.Buf8(U.wsize)),W>=U.wsize?(o.arraySet(U.window,j,y-U.wsize,U.wsize,0),U.wnext=0,U.whave=U.wsize):(W<(rt=U.wsize-U.wnext)&&(rt=W),o.arraySet(U.window,j,y-W,rt,U.wnext),(W-=rt)?(o.arraySet(U.window,j,y-W,W,0),U.wnext=W,U.whave=U.wsize):(U.wnext+=rt,U.wnext===U.wsize&&(U.wnext=0),U.whave<U.wsize&&(U.whave+=rt))),0}l.inflateReset=k,l.inflateReset2=E,l.inflateResetKeep=x,l.inflateInit=function(S){return F(S,15)},l.inflateInit2=F,l.inflate=function(S,j){var y,W,rt,U,tt,q,at,M,z,$,L,Y,ot,pt,ct,vt,xt,It,nt,ut,_,N,B,A,T=0,R=new o.Buf8(4),H=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!S||!S.state||!S.output||!S.input&&S.avail_in!==0)return t;(y=S.state).mode===12&&(y.mode=13),tt=S.next_out,rt=S.output,at=S.avail_out,U=S.next_in,W=S.input,q=S.avail_in,M=y.hold,z=y.bits,$=q,L=at,N=b;t:for(;;)switch(y.mode){case n:if(y.wrap===0){y.mode=13;break}for(;z<16;){if(q===0)break t;q--,M+=W[U++]<<z,z+=8}if(2&y.wrap&&M===35615){R[y.check=0]=255&M,R[1]=M>>>8&255,y.check=g(y.check,R,2,0),z=M=0,y.mode=2;break}if(y.flags=0,y.head&&(y.head.done=!1),!(1&y.wrap)||(((255&M)<<8)+(M>>8))%31){S.msg="incorrect header check",y.mode=30;break}if((15&M)!=8){S.msg="unknown compression method",y.mode=30;break}if(z-=4,_=8+(15&(M>>>=4)),y.wbits===0)y.wbits=_;else if(_>y.wbits){S.msg="invalid window size",y.mode=30;break}y.dmax=1<<_,S.adler=y.check=1,y.mode=512&M?10:12,z=M=0;break;case 2:for(;z<16;){if(q===0)break t;q--,M+=W[U++]<<z,z+=8}if(y.flags=M,(255&y.flags)!=8){S.msg="unknown compression method",y.mode=30;break}if(57344&y.flags){S.msg="unknown header flags set",y.mode=30;break}y.head&&(y.head.text=M>>8&1),512&y.flags&&(R[0]=255&M,R[1]=M>>>8&255,y.check=g(y.check,R,2,0)),z=M=0,y.mode=3;case 3:for(;z<32;){if(q===0)break t;q--,M+=W[U++]<<z,z+=8}y.head&&(y.head.time=M),512&y.flags&&(R[0]=255&M,R[1]=M>>>8&255,R[2]=M>>>16&255,R[3]=M>>>24&255,y.check=g(y.check,R,4,0)),z=M=0,y.mode=4;case 4:for(;z<16;){if(q===0)break t;q--,M+=W[U++]<<z,z+=8}y.head&&(y.head.xflags=255&M,y.head.os=M>>8),512&y.flags&&(R[0]=255&M,R[1]=M>>>8&255,y.check=g(y.check,R,2,0)),z=M=0,y.mode=5;case 5:if(1024&y.flags){for(;z<16;){if(q===0)break t;q--,M+=W[U++]<<z,z+=8}y.length=M,y.head&&(y.head.extra_len=M),512&y.flags&&(R[0]=255&M,R[1]=M>>>8&255,y.check=g(y.check,R,2,0)),z=M=0}else y.head&&(y.head.extra=null);y.mode=6;case 6:if(1024&y.flags&&(q<(Y=y.length)&&(Y=q),Y&&(y.head&&(_=y.head.extra_len-y.length,y.head.extra||(y.head.extra=new Array(y.head.extra_len)),o.arraySet(y.head.extra,W,U,Y,_)),512&y.flags&&(y.check=g(y.check,W,Y,U)),q-=Y,U+=Y,y.length-=Y),y.length))break t;y.length=0,y.mode=7;case 7:if(2048&y.flags){if(q===0)break t;for(Y=0;_=W[U+Y++],y.head&&_&&y.length<65536&&(y.head.name+=String.fromCharCode(_)),_&&Y<q;);if(512&y.flags&&(y.check=g(y.check,W,Y,U)),q-=Y,U+=Y,_)break t}else y.head&&(y.head.name=null);y.length=0,y.mode=8;case 8:if(4096&y.flags){if(q===0)break t;for(Y=0;_=W[U+Y++],y.head&&_&&y.length<65536&&(y.head.comment+=String.fromCharCode(_)),_&&Y<q;);if(512&y.flags&&(y.check=g(y.check,W,Y,U)),q-=Y,U+=Y,_)break t}else y.head&&(y.head.comment=null);y.mode=9;case 9:if(512&y.flags){for(;z<16;){if(q===0)break t;q--,M+=W[U++]<<z,z+=8}if(M!==(65535&y.check)){S.msg="header crc mismatch",y.mode=30;break}z=M=0}y.head&&(y.head.hcrc=y.flags>>9&1,y.head.done=!0),S.adler=y.check=0,y.mode=12;break;case 10:for(;z<32;){if(q===0)break t;q--,M+=W[U++]<<z,z+=8}S.adler=y.check=d(M),z=M=0,y.mode=11;case 11:if(y.havedict===0)return S.next_out=tt,S.avail_out=at,S.next_in=U,S.avail_in=q,y.hold=M,y.bits=z,2;S.adler=y.check=1,y.mode=12;case 12:if(j===5||j===6)break t;case 13:if(y.last){M>>>=7&z,z-=7&z,y.mode=27;break}for(;z<3;){if(q===0)break t;q--,M+=W[U++]<<z,z+=8}switch(y.last=1&M,z-=1,3&(M>>>=1)){case 0:y.mode=14;break;case 1:if(V(y),y.mode=20,j!==6)break;M>>>=2,z-=2;break t;case 2:y.mode=17;break;case 3:S.msg="invalid block type",y.mode=30}M>>>=2,z-=2;break;case 14:for(M>>>=7&z,z-=7&z;z<32;){if(q===0)break t;q--,M+=W[U++]<<z,z+=8}if((65535&M)!=(M>>>16^65535)){S.msg="invalid stored block lengths",y.mode=30;break}if(y.length=65535&M,z=M=0,y.mode=15,j===6)break t;case 15:y.mode=16;case 16:if(Y=y.length){if(q<Y&&(Y=q),at<Y&&(Y=at),Y===0)break t;o.arraySet(rt,W,U,Y,tt),q-=Y,U+=Y,at-=Y,tt+=Y,y.length-=Y;break}y.mode=12;break;case 17:for(;z<14;){if(q===0)break t;q--,M+=W[U++]<<z,z+=8}if(y.nlen=257+(31&M),M>>>=5,z-=5,y.ndist=1+(31&M),M>>>=5,z-=5,y.ncode=4+(15&M),M>>>=4,z-=4,286<y.nlen||30<y.ndist){S.msg="too many length or distance symbols",y.mode=30;break}y.have=0,y.mode=18;case 18:for(;y.have<y.ncode;){for(;z<3;){if(q===0)break t;q--,M+=W[U++]<<z,z+=8}y.lens[H[y.have++]]=7&M,M>>>=3,z-=3}for(;y.have<19;)y.lens[H[y.have++]]=0;if(y.lencode=y.lendyn,y.lenbits=7,B={bits:y.lenbits},N=v(0,y.lens,0,19,y.lencode,0,y.work,B),y.lenbits=B.bits,N){S.msg="invalid code lengths set",y.mode=30;break}y.have=0,y.mode=19;case 19:for(;y.have<y.nlen+y.ndist;){for(;vt=(T=y.lencode[M&(1<<y.lenbits)-1])>>>16&255,xt=65535&T,!((ct=T>>>24)<=z);){if(q===0)break t;q--,M+=W[U++]<<z,z+=8}if(xt<16)M>>>=ct,z-=ct,y.lens[y.have++]=xt;else{if(xt===16){for(A=ct+2;z<A;){if(q===0)break t;q--,M+=W[U++]<<z,z+=8}if(M>>>=ct,z-=ct,y.have===0){S.msg="invalid bit length repeat",y.mode=30;break}_=y.lens[y.have-1],Y=3+(3&M),M>>>=2,z-=2}else if(xt===17){for(A=ct+3;z<A;){if(q===0)break t;q--,M+=W[U++]<<z,z+=8}z-=ct,_=0,Y=3+(7&(M>>>=ct)),M>>>=3,z-=3}else{for(A=ct+7;z<A;){if(q===0)break t;q--,M+=W[U++]<<z,z+=8}z-=ct,_=0,Y=11+(127&(M>>>=ct)),M>>>=7,z-=7}if(y.have+Y>y.nlen+y.ndist){S.msg="invalid bit length repeat",y.mode=30;break}for(;Y--;)y.lens[y.have++]=_}}if(y.mode===30)break;if(y.lens[256]===0){S.msg="invalid code -- missing end-of-block",y.mode=30;break}if(y.lenbits=9,B={bits:y.lenbits},N=v(m,y.lens,0,y.nlen,y.lencode,0,y.work,B),y.lenbits=B.bits,N){S.msg="invalid literal/lengths set",y.mode=30;break}if(y.distbits=6,y.distcode=y.distdyn,B={bits:y.distbits},N=v(h,y.lens,y.nlen,y.ndist,y.distcode,0,y.work,B),y.distbits=B.bits,N){S.msg="invalid distances set",y.mode=30;break}if(y.mode=20,j===6)break t;case 20:y.mode=21;case 21:if(6<=q&&258<=at){S.next_out=tt,S.avail_out=at,S.next_in=U,S.avail_in=q,y.hold=M,y.bits=z,p(S,L),tt=S.next_out,rt=S.output,at=S.avail_out,U=S.next_in,W=S.input,q=S.avail_in,M=y.hold,z=y.bits,y.mode===12&&(y.back=-1);break}for(y.back=0;vt=(T=y.lencode[M&(1<<y.lenbits)-1])>>>16&255,xt=65535&T,!((ct=T>>>24)<=z);){if(q===0)break t;q--,M+=W[U++]<<z,z+=8}if(vt&&(240&vt)==0){for(It=ct,nt=vt,ut=xt;vt=(T=y.lencode[ut+((M&(1<<It+nt)-1)>>It)])>>>16&255,xt=65535&T,!(It+(ct=T>>>24)<=z);){if(q===0)break t;q--,M+=W[U++]<<z,z+=8}M>>>=It,z-=It,y.back+=It}if(M>>>=ct,z-=ct,y.back+=ct,y.length=xt,vt===0){y.mode=26;break}if(32&vt){y.back=-1,y.mode=12;break}if(64&vt){S.msg="invalid literal/length code",y.mode=30;break}y.extra=15&vt,y.mode=22;case 22:if(y.extra){for(A=y.extra;z<A;){if(q===0)break t;q--,M+=W[U++]<<z,z+=8}y.length+=M&(1<<y.extra)-1,M>>>=y.extra,z-=y.extra,y.back+=y.extra}y.was=y.length,y.mode=23;case 23:for(;vt=(T=y.distcode[M&(1<<y.distbits)-1])>>>16&255,xt=65535&T,!((ct=T>>>24)<=z);){if(q===0)break t;q--,M+=W[U++]<<z,z+=8}if((240&vt)==0){for(It=ct,nt=vt,ut=xt;vt=(T=y.distcode[ut+((M&(1<<It+nt)-1)>>It)])>>>16&255,xt=65535&T,!(It+(ct=T>>>24)<=z);){if(q===0)break t;q--,M+=W[U++]<<z,z+=8}M>>>=It,z-=It,y.back+=It}if(M>>>=ct,z-=ct,y.back+=ct,64&vt){S.msg="invalid distance code",y.mode=30;break}y.offset=xt,y.extra=15&vt,y.mode=24;case 24:if(y.extra){for(A=y.extra;z<A;){if(q===0)break t;q--,M+=W[U++]<<z,z+=8}y.offset+=M&(1<<y.extra)-1,M>>>=y.extra,z-=y.extra,y.back+=y.extra}if(y.offset>y.dmax){S.msg="invalid distance too far back",y.mode=30;break}y.mode=25;case 25:if(at===0)break t;if(Y=L-at,y.offset>Y){if((Y=y.offset-Y)>y.whave&&y.sane){S.msg="invalid distance too far back",y.mode=30;break}ot=Y>y.wnext?(Y-=y.wnext,y.wsize-Y):y.wnext-Y,Y>y.length&&(Y=y.length),pt=y.window}else pt=rt,ot=tt-y.offset,Y=y.length;for(at<Y&&(Y=at),at-=Y,y.length-=Y;rt[tt++]=pt[ot++],--Y;);y.length===0&&(y.mode=21);break;case 26:if(at===0)break t;rt[tt++]=y.length,at--,y.mode=21;break;case 27:if(y.wrap){for(;z<32;){if(q===0)break t;q--,M|=W[U++]<<z,z+=8}if(L-=at,S.total_out+=L,y.total+=L,L&&(S.adler=y.check=y.flags?g(y.check,rt,L,tt-L):u(y.check,rt,L,tt-L)),L=at,(y.flags?M:d(M))!==y.check){S.msg="incorrect data check",y.mode=30;break}z=M=0}y.mode=28;case 28:if(y.wrap&&y.flags){for(;z<32;){if(q===0)break t;q--,M+=W[U++]<<z,z+=8}if(M!==(4294967295&y.total)){S.msg="incorrect length check",y.mode=30;break}z=M=0}y.mode=29;case 29:N=1;break t;case 30:N=-3;break t;case 31:return-4;case 32:default:return t}return S.next_out=tt,S.avail_out=at,S.next_in=U,S.avail_in=q,y.hold=M,y.bits=z,(y.wsize||L!==S.avail_out&&y.mode<30&&(y.mode<27||j!==4))&&J(S,S.output,S.next_out,L-S.avail_out)?(y.mode=31,-4):($-=S.avail_in,L-=S.avail_out,S.total_in+=$,S.total_out+=L,y.total+=L,y.wrap&&L&&(S.adler=y.check=y.flags?g(y.check,rt,L,S.next_out-L):u(y.check,rt,L,S.next_out-L)),S.data_type=y.bits+(y.last?64:0)+(y.mode===12?128:0)+(y.mode===20||y.mode===15?256:0),($==0&&L===0||j===4)&&N===b&&(N=-5),N)},l.inflateEnd=function(S){if(!S||!S.state)return t;var j=S.state;return j.window&&(j.window=null),S.state=null,b},l.inflateGetHeader=function(S,j){var y;return S&&S.state?(2&(y=S.state).wrap)==0?t:((y.head=j).done=!1,b):t},l.inflateSetDictionary=function(S,j){var y,W=j.length;return S&&S.state?(y=S.state).wrap!==0&&y.mode!==11?t:y.mode===11&&u(1,j,W,0)!==y.check?-3:J(S,j,W,W)?(y.mode=31,-4):(y.havedict=1,b):t},l.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(r,c,l){var o=r("../utils/common"),u=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],g=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],p=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],v=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];c.exports=function(m,h,b,t,n,s,f,d){var w,x,k,E,F,C,D,O,V,J=d.bits,S=0,j=0,y=0,W=0,rt=0,U=0,tt=0,q=0,at=0,M=0,z=null,$=0,L=new o.Buf16(16),Y=new o.Buf16(16),ot=null,pt=0;for(S=0;S<=15;S++)L[S]=0;for(j=0;j<t;j++)L[h[b+j]]++;for(rt=J,W=15;1<=W&&L[W]===0;W--);if(W<rt&&(rt=W),W===0)return n[s++]=20971520,n[s++]=20971520,d.bits=1,0;for(y=1;y<W&&L[y]===0;y++);for(rt<y&&(rt=y),S=q=1;S<=15;S++)if(q<<=1,(q-=L[S])<0)return-1;if(0<q&&(m===0||W!==1))return-1;for(Y[1]=0,S=1;S<15;S++)Y[S+1]=Y[S]+L[S];for(j=0;j<t;j++)h[b+j]!==0&&(f[Y[h[b+j]]++]=j);if(C=m===0?(z=ot=f,19):m===1?(z=u,$-=257,ot=g,pt-=257,256):(z=p,ot=v,-1),S=y,F=s,tt=j=M=0,k=-1,E=(at=1<<(U=rt))-1,m===1&&852<at||m===2&&592<at)return 1;for(;;){for(D=S-tt,V=f[j]<C?(O=0,f[j]):f[j]>C?(O=ot[pt+f[j]],z[$+f[j]]):(O=96,0),w=1<<S-tt,y=x=1<<U;n[F+(M>>tt)+(x-=w)]=D<<24|O<<16|V|0,x!==0;);for(w=1<<S-1;M&w;)w>>=1;if(w!==0?(M&=w-1,M+=w):M=0,j++,--L[S]==0){if(S===W)break;S=h[b+f[j]]}if(rt<S&&(M&E)!==k){for(tt===0&&(tt=rt),F+=y,q=1<<(U=S-tt);U+tt<W&&!((q-=L[U+tt])<=0);)U++,q<<=1;if(at+=1<<U,m===1&&852<at||m===2&&592<at)return 1;n[k=M&E]=rt<<24|U<<16|F-s|0}}return M!==0&&(n[F+M]=S-tt<<24|64<<16|0),d.bits=rt,0}},{"../utils/common":41}],51:[function(r,c,l){c.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(r,c,l){var o=r("../utils/common"),u=0,g=1;function p(T){for(var R=T.length;0<=--R;)T[R]=0}var v=0,m=29,h=256,b=h+1+m,t=30,n=19,s=2*b+1,f=15,d=16,w=7,x=256,k=16,E=17,F=18,C=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],D=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],O=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],V=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],J=new Array(2*(b+2));p(J);var S=new Array(2*t);p(S);var j=new Array(512);p(j);var y=new Array(256);p(y);var W=new Array(m);p(W);var rt,U,tt,q=new Array(t);function at(T,R,H,G,P){this.static_tree=T,this.extra_bits=R,this.extra_base=H,this.elems=G,this.max_length=P,this.has_stree=T&&T.length}function M(T,R){this.dyn_tree=T,this.max_code=0,this.stat_desc=R}function z(T){return T<256?j[T]:j[256+(T>>>7)]}function $(T,R){T.pending_buf[T.pending++]=255&R,T.pending_buf[T.pending++]=R>>>8&255}function L(T,R,H){T.bi_valid>d-H?(T.bi_buf|=R<<T.bi_valid&65535,$(T,T.bi_buf),T.bi_buf=R>>d-T.bi_valid,T.bi_valid+=H-d):(T.bi_buf|=R<<T.bi_valid&65535,T.bi_valid+=H)}function Y(T,R,H){L(T,H[2*R],H[2*R+1])}function ot(T,R){for(var H=0;H|=1&T,T>>>=1,H<<=1,0<--R;);return H>>>1}function pt(T,R,H){var G,P,K=new Array(f+1),it=0;for(G=1;G<=f;G++)K[G]=it=it+H[G-1]<<1;for(P=0;P<=R;P++){var Q=T[2*P+1];Q!==0&&(T[2*P]=ot(K[Q]++,Q))}}function ct(T){var R;for(R=0;R<b;R++)T.dyn_ltree[2*R]=0;for(R=0;R<t;R++)T.dyn_dtree[2*R]=0;for(R=0;R<n;R++)T.bl_tree[2*R]=0;T.dyn_ltree[2*x]=1,T.opt_len=T.static_len=0,T.last_lit=T.matches=0}function vt(T){8<T.bi_valid?$(T,T.bi_buf):0<T.bi_valid&&(T.pending_buf[T.pending++]=T.bi_buf),T.bi_buf=0,T.bi_valid=0}function xt(T,R,H,G){var P=2*R,K=2*H;return T[P]<T[K]||T[P]===T[K]&&G[R]<=G[H]}function It(T,R,H){for(var G=T.heap[H],P=H<<1;P<=T.heap_len&&(P<T.heap_len&&xt(R,T.heap[P+1],T.heap[P],T.depth)&&P++,!xt(R,G,T.heap[P],T.depth));)T.heap[H]=T.heap[P],H=P,P<<=1;T.heap[H]=G}function nt(T,R,H){var G,P,K,it,Q=0;if(T.last_lit!==0)for(;G=T.pending_buf[T.d_buf+2*Q]<<8|T.pending_buf[T.d_buf+2*Q+1],P=T.pending_buf[T.l_buf+Q],Q++,G===0?Y(T,P,R):(Y(T,(K=y[P])+h+1,R),(it=C[K])!==0&&L(T,P-=W[K],it),Y(T,K=z(--G),H),(it=D[K])!==0&&L(T,G-=q[K],it)),Q<T.last_lit;);Y(T,x,R)}function ut(T,R){var H,G,P,K=R.dyn_tree,it=R.stat_desc.static_tree,Q=R.stat_desc.has_stree,lt=R.stat_desc.elems,kt=-1;for(T.heap_len=0,T.heap_max=s,H=0;H<lt;H++)K[2*H]!==0?(T.heap[++T.heap_len]=kt=H,T.depth[H]=0):K[2*H+1]=0;for(;T.heap_len<2;)K[2*(P=T.heap[++T.heap_len]=kt<2?++kt:0)]=1,T.depth[P]=0,T.opt_len--,Q&&(T.static_len-=it[2*P+1]);for(R.max_code=kt,H=T.heap_len>>1;1<=H;H--)It(T,K,H);for(P=lt;H=T.heap[1],T.heap[1]=T.heap[T.heap_len--],It(T,K,1),G=T.heap[1],T.heap[--T.heap_max]=H,T.heap[--T.heap_max]=G,K[2*P]=K[2*H]+K[2*G],T.depth[P]=(T.depth[H]>=T.depth[G]?T.depth[H]:T.depth[G])+1,K[2*H+1]=K[2*G+1]=P,T.heap[1]=P++,It(T,K,1),2<=T.heap_len;);T.heap[--T.heap_max]=T.heap[1],function(_t,Yt){var ze,$t,De,Ct,We,fr,ae=Yt.dyn_tree,qr=Yt.max_code,ii=Yt.stat_desc.static_tree,ai=Yt.stat_desc.has_stree,oi=Yt.stat_desc.extra_bits,Gr=Yt.stat_desc.extra_base,Ne=Yt.stat_desc.max_length,Ze=0;for(Ct=0;Ct<=f;Ct++)_t.bl_count[Ct]=0;for(ae[2*_t.heap[_t.heap_max]+1]=0,ze=_t.heap_max+1;ze<s;ze++)Ne<(Ct=ae[2*ae[2*($t=_t.heap[ze])+1]+1]+1)&&(Ct=Ne,Ze++),ae[2*$t+1]=Ct,qr<$t||(_t.bl_count[Ct]++,We=0,Gr<=$t&&(We=oi[$t-Gr]),fr=ae[2*$t],_t.opt_len+=fr*(Ct+We),ai&&(_t.static_len+=fr*(ii[2*$t+1]+We)));if(Ze!==0){do{for(Ct=Ne-1;_t.bl_count[Ct]===0;)Ct--;_t.bl_count[Ct]--,_t.bl_count[Ct+1]+=2,_t.bl_count[Ne]--,Ze-=2}while(0<Ze);for(Ct=Ne;Ct!==0;Ct--)for($t=_t.bl_count[Ct];$t!==0;)qr<(De=_t.heap[--ze])||(ae[2*De+1]!==Ct&&(_t.opt_len+=(Ct-ae[2*De+1])*ae[2*De],ae[2*De+1]=Ct),$t--)}}(T,R),pt(K,kt,T.bl_count)}function _(T,R,H){var G,P,K=-1,it=R[1],Q=0,lt=7,kt=4;for(it===0&&(lt=138,kt=3),R[2*(H+1)+1]=65535,G=0;G<=H;G++)P=it,it=R[2*(G+1)+1],++Q<lt&&P===it||(Q<kt?T.bl_tree[2*P]+=Q:P!==0?(P!==K&&T.bl_tree[2*P]++,T.bl_tree[2*k]++):Q<=10?T.bl_tree[2*E]++:T.bl_tree[2*F]++,K=P,kt=(Q=0)===it?(lt=138,3):P===it?(lt=6,3):(lt=7,4))}function N(T,R,H){var G,P,K=-1,it=R[1],Q=0,lt=7,kt=4;for(it===0&&(lt=138,kt=3),G=0;G<=H;G++)if(P=it,it=R[2*(G+1)+1],!(++Q<lt&&P===it)){if(Q<kt)for(;Y(T,P,T.bl_tree),--Q!=0;);else P!==0?(P!==K&&(Y(T,P,T.bl_tree),Q--),Y(T,k,T.bl_tree),L(T,Q-3,2)):Q<=10?(Y(T,E,T.bl_tree),L(T,Q-3,3)):(Y(T,F,T.bl_tree),L(T,Q-11,7));K=P,kt=(Q=0)===it?(lt=138,3):P===it?(lt=6,3):(lt=7,4)}}p(q);var B=!1;function A(T,R,H,G){L(T,(v<<1)+(G?1:0),3),function(P,K,it,Q){vt(P),$(P,it),$(P,~it),o.arraySet(P.pending_buf,P.window,K,it,P.pending),P.pending+=it}(T,R,H)}l._tr_init=function(T){B||(function(){var R,H,G,P,K,it=new Array(f+1);for(P=G=0;P<m-1;P++)for(W[P]=G,R=0;R<1<<C[P];R++)y[G++]=P;for(y[G-1]=P,P=K=0;P<16;P++)for(q[P]=K,R=0;R<1<<D[P];R++)j[K++]=P;for(K>>=7;P<t;P++)for(q[P]=K<<7,R=0;R<1<<D[P]-7;R++)j[256+K++]=P;for(H=0;H<=f;H++)it[H]=0;for(R=0;R<=143;)J[2*R+1]=8,R++,it[8]++;for(;R<=255;)J[2*R+1]=9,R++,it[9]++;for(;R<=279;)J[2*R+1]=7,R++,it[7]++;for(;R<=287;)J[2*R+1]=8,R++,it[8]++;for(pt(J,b+1,it),R=0;R<t;R++)S[2*R+1]=5,S[2*R]=ot(R,5);rt=new at(J,C,h+1,b,f),U=new at(S,D,0,t,f),tt=new at(new Array(0),O,0,n,w)}(),B=!0),T.l_desc=new M(T.dyn_ltree,rt),T.d_desc=new M(T.dyn_dtree,U),T.bl_desc=new M(T.bl_tree,tt),T.bi_buf=0,T.bi_valid=0,ct(T)},l._tr_stored_block=A,l._tr_flush_block=function(T,R,H,G){var P,K,it=0;0<T.level?(T.strm.data_type===2&&(T.strm.data_type=function(Q){var lt,kt=4093624447;for(lt=0;lt<=31;lt++,kt>>>=1)if(1&kt&&Q.dyn_ltree[2*lt]!==0)return u;if(Q.dyn_ltree[18]!==0||Q.dyn_ltree[20]!==0||Q.dyn_ltree[26]!==0)return g;for(lt=32;lt<h;lt++)if(Q.dyn_ltree[2*lt]!==0)return g;return u}(T)),ut(T,T.l_desc),ut(T,T.d_desc),it=function(Q){var lt;for(_(Q,Q.dyn_ltree,Q.l_desc.max_code),_(Q,Q.dyn_dtree,Q.d_desc.max_code),ut(Q,Q.bl_desc),lt=n-1;3<=lt&&Q.bl_tree[2*V[lt]+1]===0;lt--);return Q.opt_len+=3*(lt+1)+5+5+4,lt}(T),P=T.opt_len+3+7>>>3,(K=T.static_len+3+7>>>3)<=P&&(P=K)):P=K=H+5,H+4<=P&&R!==-1?A(T,R,H,G):T.strategy===4||K===P?(L(T,2+(G?1:0),3),nt(T,J,S)):(L(T,4+(G?1:0),3),function(Q,lt,kt,_t){var Yt;for(L(Q,lt-257,5),L(Q,kt-1,5),L(Q,_t-4,4),Yt=0;Yt<_t;Yt++)L(Q,Q.bl_tree[2*V[Yt]+1],3);N(Q,Q.dyn_ltree,lt-1),N(Q,Q.dyn_dtree,kt-1)}(T,T.l_desc.max_code+1,T.d_desc.max_code+1,it+1),nt(T,T.dyn_ltree,T.dyn_dtree)),ct(T),G&&vt(T)},l._tr_tally=function(T,R,H){return T.pending_buf[T.d_buf+2*T.last_lit]=R>>>8&255,T.pending_buf[T.d_buf+2*T.last_lit+1]=255&R,T.pending_buf[T.l_buf+T.last_lit]=255&H,T.last_lit++,R===0?T.dyn_ltree[2*H]++:(T.matches++,R--,T.dyn_ltree[2*(y[H]+h+1)]++,T.dyn_dtree[2*z(R)]++),T.last_lit===T.lit_bufsize-1},l._tr_align=function(T){L(T,2,3),Y(T,x,J),function(R){R.bi_valid===16?($(R,R.bi_buf),R.bi_buf=0,R.bi_valid=0):8<=R.bi_valid&&(R.pending_buf[R.pending++]=255&R.bi_buf,R.bi_buf>>=8,R.bi_valid-=8)}(T)}},{"../utils/common":41}],53:[function(r,c,l){c.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(r,c,l){(function(o){(function(u,g){if(!u.setImmediate){var p,v,m,h,b=1,t={},n=!1,s=u.document,f=Object.getPrototypeOf&&Object.getPrototypeOf(u);f=f&&f.setTimeout?f:u,p={}.toString.call(u.process)==="[object process]"?function(k){process.nextTick(function(){w(k)})}:function(){if(u.postMessage&&!u.importScripts){var k=!0,E=u.onmessage;return u.onmessage=function(){k=!1},u.postMessage("","*"),u.onmessage=E,k}}()?(h="setImmediate$"+Math.random()+"$",u.addEventListener?u.addEventListener("message",x,!1):u.attachEvent("onmessage",x),function(k){u.postMessage(h+k,"*")}):u.MessageChannel?((m=new MessageChannel).port1.onmessage=function(k){w(k.data)},function(k){m.port2.postMessage(k)}):s&&"onreadystatechange"in s.createElement("script")?(v=s.documentElement,function(k){var E=s.createElement("script");E.onreadystatechange=function(){w(k),E.onreadystatechange=null,v.removeChild(E),E=null},v.appendChild(E)}):function(k){setTimeout(w,0,k)},f.setImmediate=function(k){typeof k!="function"&&(k=new Function(""+k));for(var E=new Array(arguments.length-1),F=0;F<E.length;F++)E[F]=arguments[F+1];var C={callback:k,args:E};return t[b]=C,p(b),b++},f.clearImmediate=d}function d(k){delete t[k]}function w(k){if(n)setTimeout(w,0,k);else{var E=t[k];if(E){n=!0;try{(function(F){var C=F.callback,D=F.args;switch(D.length){case 0:C();break;case 1:C(D[0]);break;case 2:C(D[0],D[1]);break;case 3:C(D[0],D[1],D[2]);break;default:C.apply(g,D)}})(E)}finally{d(k),n=!1}}}}function x(k){k.source===u&&typeof k.data=="string"&&k.data.indexOf(h)===0&&w(+k.data.slice(h.length))}})(typeof self>"u"?o===void 0?this:o:self)}).call(this,typeof He<"u"?He:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})}(br)),br.exports}var Po=Bo();const Mo=Do(Po);var Pe={exports:{}},Xe={exports:{}},jo=Xe.exports,fn;function Wo(){return fn||(fn=1,function(a){/**
 * @license Long.js (c) 2013 Daniel Wirtz <dcode@dcode.io>
 * Released under the Apache License, Version 2.0
 * see: https://github.com/dcodeIO/Long.js for details
 */(function(e,r){typeof Te=="function"&&a&&a.exports?a.exports=r():(e.dcodeIO=e.dcodeIO||{}).Long=r()})(jo,function(){function e(m,h,b){this.low=m|0,this.high=h|0,this.unsigned=!!b}e.__isLong__,Object.defineProperty(e.prototype,"__isLong__",{value:!0,enumerable:!1,configurable:!1}),e.isLong=function(h){return(h&&h.__isLong__)===!0};var r={},c={};e.fromInt=function(h,b){var t,n;return b?(h=h>>>0,0<=h&&h<256&&(n=c[h],n)?n:(t=new e(h,(h|0)<0?-1:0,!0),0<=h&&h<256&&(c[h]=t),t)):(h=h|0,-128<=h&&h<128&&(n=r[h],n)?n:(t=new e(h,h<0?-1:0,!1),-128<=h&&h<128&&(r[h]=t),t))},e.fromNumber=function(h,b){return b=!!b,isNaN(h)||!isFinite(h)?e.ZERO:!b&&h<=-p?e.MIN_VALUE:!b&&h+1>=p?e.MAX_VALUE:b&&h>=g?e.MAX_UNSIGNED_VALUE:h<0?e.fromNumber(-h,b).negate():new e(h%u|0,h/u|0,b)},e.fromBits=function(h,b,t){return new e(h,b,t)},e.fromString=function(h,b,t){if(h.length===0)throw Error("number format error: empty string");if(h==="NaN"||h==="Infinity"||h==="+Infinity"||h==="-Infinity")return e.ZERO;if(typeof b=="number"&&(t=b,b=!1),t=t||10,t<2||36<t)throw Error("radix out of range: "+t);var n;if((n=h.indexOf("-"))>0)throw Error('number format error: interior "-" character: '+h);if(n===0)return e.fromString(h.substring(1),b,t).negate();for(var s=e.fromNumber(Math.pow(t,8)),f=e.ZERO,d=0;d<h.length;d+=8){var w=Math.min(8,h.length-d),x=parseInt(h.substring(d,d+w),t);if(w<8){var k=e.fromNumber(Math.pow(t,w));f=f.multiply(k).add(e.fromNumber(x))}else f=f.multiply(s),f=f.add(e.fromNumber(x))}return f.unsigned=b,f},e.fromValue=function(h){return h instanceof e?h:typeof h=="number"?e.fromNumber(h):typeof h=="string"?e.fromString(h):new e(h.low,h.high,h.unsigned)};var l=65536,o=1<<24,u=l*l,g=u*u,p=g/2,v=e.fromInt(o);return e.ZERO=e.fromInt(0),e.UZERO=e.fromInt(0,!0),e.ONE=e.fromInt(1),e.UONE=e.fromInt(1,!0),e.NEG_ONE=e.fromInt(-1),e.MAX_VALUE=e.fromBits(-1,2147483647,!1),e.MAX_UNSIGNED_VALUE=e.fromBits(-1,-1,!0),e.MIN_VALUE=e.fromBits(0,-2147483648,!1),e.prototype.toInt=function(){return this.unsigned?this.low>>>0:this.low},e.prototype.toNumber=function(){return this.unsigned?(this.high>>>0)*u+(this.low>>>0):this.high*u+(this.low>>>0)},e.prototype.toString=function(h){if(h=h||10,h<2||36<h)throw RangeError("radix out of range: "+h);if(this.isZero())return"0";var b;if(this.isNegative())if(this.equals(e.MIN_VALUE)){var t=e.fromNumber(h),n=this.divide(t);return b=n.multiply(t).subtract(this),n.toString(h)+b.toInt().toString(h)}else return"-"+this.negate().toString(h);var s=e.fromNumber(Math.pow(h,6),this.unsigned);b=this;for(var f="";;){var d=b.divide(s),w=b.subtract(d.multiply(s)).toInt()>>>0,x=w.toString(h);if(b=d,b.isZero())return x+f;for(;x.length<6;)x="0"+x;f=""+x+f}},e.prototype.getHighBits=function(){return this.high},e.prototype.getHighBitsUnsigned=function(){return this.high>>>0},e.prototype.getLowBits=function(){return this.low},e.prototype.getLowBitsUnsigned=function(){return this.low>>>0},e.prototype.getNumBitsAbs=function(){if(this.isNegative())return this.equals(e.MIN_VALUE)?64:this.negate().getNumBitsAbs();for(var h=this.high!=0?this.high:this.low,b=31;b>0&&(h&1<<b)==0;b--);return this.high!=0?b+33:b+1},e.prototype.isZero=function(){return this.high===0&&this.low===0},e.prototype.isNegative=function(){return!this.unsigned&&this.high<0},e.prototype.isPositive=function(){return this.unsigned||this.high>=0},e.prototype.isOdd=function(){return(this.low&1)===1},e.prototype.isEven=function(){return(this.low&1)===0},e.prototype.equals=function(h){return e.isLong(h)||(h=e.fromValue(h)),this.unsigned!==h.unsigned&&this.high>>>31===1&&h.high>>>31===1?!1:this.high===h.high&&this.low===h.low},e.eq=e.prototype.equals,e.prototype.notEquals=function(h){return!this.equals(h)},e.neq=e.prototype.notEquals,e.prototype.lessThan=function(h){return this.compare(h)<0},e.prototype.lt=e.prototype.lessThan,e.prototype.lessThanOrEqual=function(h){return this.compare(h)<=0},e.prototype.lte=e.prototype.lessThanOrEqual,e.prototype.greaterThan=function(h){return this.compare(h)>0},e.prototype.gt=e.prototype.greaterThan,e.prototype.greaterThanOrEqual=function(h){return this.compare(h)>=0},e.prototype.gte=e.prototype.greaterThanOrEqual,e.prototype.compare=function(h){if(e.isLong(h)||(h=e.fromValue(h)),this.equals(h))return 0;var b=this.isNegative(),t=h.isNegative();return b&&!t?-1:!b&&t?1:this.unsigned?h.high>>>0>this.high>>>0||h.high===this.high&&h.low>>>0>this.low>>>0?-1:1:this.subtract(h).isNegative()?-1:1},e.prototype.negate=function(){return!this.unsigned&&this.equals(e.MIN_VALUE)?e.MIN_VALUE:this.not().add(e.ONE)},e.prototype.neg=e.prototype.negate,e.prototype.add=function(h){e.isLong(h)||(h=e.fromValue(h));var b=this.high>>>16,t=this.high&65535,n=this.low>>>16,s=this.low&65535,f=h.high>>>16,d=h.high&65535,w=h.low>>>16,x=h.low&65535,k=0,E=0,F=0,C=0;return C+=s+x,F+=C>>>16,C&=65535,F+=n+w,E+=F>>>16,F&=65535,E+=t+d,k+=E>>>16,E&=65535,k+=b+f,k&=65535,e.fromBits(F<<16|C,k<<16|E,this.unsigned)},e.prototype.subtract=function(h){return e.isLong(h)||(h=e.fromValue(h)),this.add(h.negate())},e.prototype.sub=e.prototype.subtract,e.prototype.multiply=function(h){if(this.isZero()||(e.isLong(h)||(h=e.fromValue(h)),h.isZero()))return e.ZERO;if(this.equals(e.MIN_VALUE))return h.isOdd()?e.MIN_VALUE:e.ZERO;if(h.equals(e.MIN_VALUE))return this.isOdd()?e.MIN_VALUE:e.ZERO;if(this.isNegative())return h.isNegative()?this.negate().multiply(h.negate()):this.negate().multiply(h).negate();if(h.isNegative())return this.multiply(h.negate()).negate();if(this.lessThan(v)&&h.lessThan(v))return e.fromNumber(this.toNumber()*h.toNumber(),this.unsigned);var b=this.high>>>16,t=this.high&65535,n=this.low>>>16,s=this.low&65535,f=h.high>>>16,d=h.high&65535,w=h.low>>>16,x=h.low&65535,k=0,E=0,F=0,C=0;return C+=s*x,F+=C>>>16,C&=65535,F+=n*x,E+=F>>>16,F&=65535,F+=s*w,E+=F>>>16,F&=65535,E+=t*x,k+=E>>>16,E&=65535,E+=n*w,k+=E>>>16,E&=65535,E+=s*d,k+=E>>>16,E&=65535,k+=b*x+t*w+n*d+s*f,k&=65535,e.fromBits(F<<16|C,k<<16|E,this.unsigned)},e.prototype.mul=e.prototype.multiply,e.prototype.divide=function(h){if(e.isLong(h)||(h=e.fromValue(h)),h.isZero())throw new Error("division by zero");if(this.isZero())return this.unsigned?e.UZERO:e.ZERO;var b,t,n;if(this.equals(e.MIN_VALUE)){if(h.equals(e.ONE)||h.equals(e.NEG_ONE))return e.MIN_VALUE;if(h.equals(e.MIN_VALUE))return e.ONE;var s=this.shiftRight(1);return b=s.divide(h).shiftLeft(1),b.equals(e.ZERO)?h.isNegative()?e.ONE:e.NEG_ONE:(t=this.subtract(h.multiply(b)),n=b.add(t.divide(h)),n)}else if(h.equals(e.MIN_VALUE))return this.unsigned?e.UZERO:e.ZERO;if(this.isNegative())return h.isNegative()?this.negate().divide(h.negate()):this.negate().divide(h).negate();if(h.isNegative())return this.divide(h.negate()).negate();for(n=e.ZERO,t=this;t.greaterThanOrEqual(h);){b=Math.max(1,Math.floor(t.toNumber()/h.toNumber()));for(var f=Math.ceil(Math.log(b)/Math.LN2),d=f<=48?1:Math.pow(2,f-48),w=e.fromNumber(b),x=w.multiply(h);x.isNegative()||x.greaterThan(t);)b-=d,w=e.fromNumber(b,this.unsigned),x=w.multiply(h);w.isZero()&&(w=e.ONE),n=n.add(w),t=t.subtract(x)}return n},e.prototype.div=e.prototype.divide,e.prototype.modulo=function(h){return e.isLong(h)||(h=e.fromValue(h)),this.subtract(this.divide(h).multiply(h))},e.prototype.mod=e.prototype.modulo,e.prototype.not=function(){return e.fromBits(~this.low,~this.high,this.unsigned)},e.prototype.and=function(h){return e.isLong(h)||(h=e.fromValue(h)),e.fromBits(this.low&h.low,this.high&h.high,this.unsigned)},e.prototype.or=function(h){return e.isLong(h)||(h=e.fromValue(h)),e.fromBits(this.low|h.low,this.high|h.high,this.unsigned)},e.prototype.xor=function(h){return e.isLong(h)||(h=e.fromValue(h)),e.fromBits(this.low^h.low,this.high^h.high,this.unsigned)},e.prototype.shiftLeft=function(h){return e.isLong(h)&&(h=h.toInt()),(h&=63)===0?this:h<32?e.fromBits(this.low<<h,this.high<<h|this.low>>>32-h,this.unsigned):e.fromBits(0,this.low<<h-32,this.unsigned)},e.prototype.shl=e.prototype.shiftLeft,e.prototype.shiftRight=function(h){return e.isLong(h)&&(h=h.toInt()),(h&=63)===0?this:h<32?e.fromBits(this.low>>>h|this.high<<32-h,this.high>>h,this.unsigned):e.fromBits(this.high>>h-32,this.high>=0?0:-1,this.unsigned)},e.prototype.shr=e.prototype.shiftRight,e.prototype.shiftRightUnsigned=function(h){if(e.isLong(h)&&(h=h.toInt()),h&=63,h===0)return this;var b=this.high;if(h<32){var t=this.low;return e.fromBits(t>>>h|b<<32-h,b>>>h,this.unsigned)}else return h===32?e.fromBits(b,0,this.unsigned):e.fromBits(b>>>h-32,0,this.unsigned)},e.prototype.shru=e.prototype.shiftRightUnsigned,e.prototype.toSigned=function(){return this.unsigned?new e(this.low,this.high,!1):this},e.prototype.toUnsigned=function(){return this.unsigned?this:new e(this.low,this.high,!0)},e})}(Xe)),Xe.exports}var Zo=Pe.exports,hn;function Yo(){return hn||(hn=1,function(a,e){/**
 * @license ByteBuffer.js (c) 2013-2014 Daniel Wirtz <dcode@dcode.io>
 * This version of ByteBuffer.js uses an ArrayBuffer (AB) as its backing buffer and is compatible with modern browsers.
 * Released under the Apache License, Version 2.0
 * see: https://github.com/dcodeIO/ByteBuffer.js for details
 */(function(r){function c(l){var o=function(t,n,s){if(typeof t>"u"&&(t=o.DEFAULT_CAPACITY),typeof n>"u"&&(n=o.DEFAULT_ENDIAN),typeof s>"u"&&(s=o.DEFAULT_NOASSERT),!s){if(t=t|0,t<0)throw RangeError("Illegal capacity");n=!!n,s=!!s}this.buffer=t===0?g:new ArrayBuffer(t),this.view=t===0?null:new DataView(this.buffer),this.offset=0,this.markedOffset=-1,this.limit=t,this.littleEndian=typeof n<"u"?!!n:!1,this.noAssert=!!s};o.VERSION="3.5.4",o.LITTLE_ENDIAN=!0,o.BIG_ENDIAN=!1,o.DEFAULT_CAPACITY=16,o.DEFAULT_ENDIAN=o.BIG_ENDIAN,o.DEFAULT_NOASSERT=!1,o.Long=l||null;var u=o.prototype,g=new ArrayBuffer(0),p=String.fromCharCode;function v(t){var n=0;return function(){return n<t.length?t.charCodeAt(n++):null}}function m(){var t=[],n=[];return function(){if(arguments.length===0)return n.join("")+p.apply(String,t);t.length+arguments.length>1024&&(n.push(p.apply(String,t)),t.length=0),Array.prototype.push.apply(t,arguments)}}o.allocate=function(t,n,s){return new o(t,n,s)},o.concat=function(t,n,s,f){(typeof n=="boolean"||typeof n!="string")&&(f=s,s=n,n=void 0);for(var d=0,w=0,x=t.length,k;w<x;++w)o.isByteBuffer(t[w])||(t[w]=o.wrap(t[w],n)),k=t[w].limit-t[w].offset,k>0&&(d+=k);if(d===0)return new o(0,s,f);var E=new o(d,s,f),F,C=new Uint8Array(E.buffer);for(w=0;w<x;)F=t[w++],k=F.limit-F.offset,!(k<=0)&&(C.set(new Uint8Array(F.buffer).subarray(F.offset,F.limit),E.offset),E.offset+=k);return E.limit=E.offset,E.offset=0,E},o.isByteBuffer=function(t){return(t&&t instanceof o)===!0},o.type=function(){return ArrayBuffer},o.wrap=function(t,n,s,f){if(typeof n!="string"&&(f=s,s=n,n=void 0),typeof t=="string")switch(typeof n>"u"&&(n="utf8"),n){case"base64":return o.fromBase64(t,s);case"hex":return o.fromHex(t,s);case"binary":return o.fromBinary(t,s);case"utf8":return o.fromUTF8(t,s);case"debug":return o.fromDebug(t,s);default:throw Error("Unsupported encoding: "+n)}if(t===null||typeof t!="object")throw TypeError("Illegal buffer");var d;if(o.isByteBuffer(t))return d=u.clone.call(t),d.markedOffset=-1,d;if(t instanceof Uint8Array)d=new o(0,s,f),t.length>0&&(d.buffer=t.buffer,d.offset=t.byteOffset,d.limit=t.byteOffset+t.length,d.view=t.length>0?new DataView(t.buffer):null);else if(t instanceof ArrayBuffer)d=new o(0,s,f),t.byteLength>0&&(d.buffer=t,d.offset=0,d.limit=t.byteLength,d.view=t.byteLength>0?new DataView(t):null);else if(Object.prototype.toString.call(t)==="[object Array]")for(d=new o(t.length,s,f),d.limit=t.length,i=0;i<t.length;++i)d.view.setUint8(i,t[i]);else throw TypeError("Illegal buffer");return d},u.writeInt8=function(t,n){var s=typeof n>"u";if(s&&(n=this.offset),!this.noAssert){if(typeof t!="number"||t%1!==0)throw TypeError("Illegal value: "+t+" (not an integer)");if(t|=0,typeof n!="number"||n%1!==0)throw TypeError("Illegal offset: "+n+" (not an integer)");if(n>>>=0,n<0||n+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+n+" (+0) <= "+this.buffer.byteLength)}n+=1;var f=this.buffer.byteLength;return n>f&&this.resize((f*=2)>n?f:n),n-=1,this.view.setInt8(n,t),s&&(this.offset+=1),this},u.writeByte=u.writeInt8,u.readInt8=function(t){var n=typeof t>"u";if(n&&(t=this.offset),!this.noAssert){if(typeof t!="number"||t%1!==0)throw TypeError("Illegal offset: "+t+" (not an integer)");if(t>>>=0,t<0||t+1>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+1) <= "+this.buffer.byteLength)}var s=this.view.getInt8(t);return n&&(this.offset+=1),s},u.readByte=u.readInt8,u.writeUint8=function(t,n){var s=typeof n>"u";if(s&&(n=this.offset),!this.noAssert){if(typeof t!="number"||t%1!==0)throw TypeError("Illegal value: "+t+" (not an integer)");if(t>>>=0,typeof n!="number"||n%1!==0)throw TypeError("Illegal offset: "+n+" (not an integer)");if(n>>>=0,n<0||n+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+n+" (+0) <= "+this.buffer.byteLength)}n+=1;var f=this.buffer.byteLength;return n>f&&this.resize((f*=2)>n?f:n),n-=1,this.view.setUint8(n,t),s&&(this.offset+=1),this},u.readUint8=function(t){var n=typeof t>"u";if(n&&(t=this.offset),!this.noAssert){if(typeof t!="number"||t%1!==0)throw TypeError("Illegal offset: "+t+" (not an integer)");if(t>>>=0,t<0||t+1>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+1) <= "+this.buffer.byteLength)}var s=this.view.getUint8(t);return n&&(this.offset+=1),s},u.writeInt16=function(t,n){var s=typeof n>"u";if(s&&(n=this.offset),!this.noAssert){if(typeof t!="number"||t%1!==0)throw TypeError("Illegal value: "+t+" (not an integer)");if(t|=0,typeof n!="number"||n%1!==0)throw TypeError("Illegal offset: "+n+" (not an integer)");if(n>>>=0,n<0||n+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+n+" (+0) <= "+this.buffer.byteLength)}n+=2;var f=this.buffer.byteLength;return n>f&&this.resize((f*=2)>n?f:n),n-=2,this.view.setInt16(n,t,this.littleEndian),s&&(this.offset+=2),this},u.writeShort=u.writeInt16,u.readInt16=function(t){var n=typeof t>"u";if(n&&(t=this.offset),!this.noAssert){if(typeof t!="number"||t%1!==0)throw TypeError("Illegal offset: "+t+" (not an integer)");if(t>>>=0,t<0||t+2>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+2) <= "+this.buffer.byteLength)}var s=this.view.getInt16(t,this.littleEndian);return n&&(this.offset+=2),s},u.readShort=u.readInt16,u.writeUint16=function(t,n){var s=typeof n>"u";if(s&&(n=this.offset),!this.noAssert){if(typeof t!="number"||t%1!==0)throw TypeError("Illegal value: "+t+" (not an integer)");if(t>>>=0,typeof n!="number"||n%1!==0)throw TypeError("Illegal offset: "+n+" (not an integer)");if(n>>>=0,n<0||n+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+n+" (+0) <= "+this.buffer.byteLength)}n+=2;var f=this.buffer.byteLength;return n>f&&this.resize((f*=2)>n?f:n),n-=2,this.view.setUint16(n,t,this.littleEndian),s&&(this.offset+=2),this},u.readUint16=function(t){var n=typeof t>"u";if(n&&(t=this.offset),!this.noAssert){if(typeof t!="number"||t%1!==0)throw TypeError("Illegal offset: "+t+" (not an integer)");if(t>>>=0,t<0||t+2>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+2) <= "+this.buffer.byteLength)}var s=this.view.getUint16(t,this.littleEndian);return n&&(this.offset+=2),s},u.writeInt32=function(t,n){var s=typeof n>"u";if(s&&(n=this.offset),!this.noAssert){if(typeof t!="number"||t%1!==0)throw TypeError("Illegal value: "+t+" (not an integer)");if(t|=0,typeof n!="number"||n%1!==0)throw TypeError("Illegal offset: "+n+" (not an integer)");if(n>>>=0,n<0||n+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+n+" (+0) <= "+this.buffer.byteLength)}n+=4;var f=this.buffer.byteLength;return n>f&&this.resize((f*=2)>n?f:n),n-=4,this.view.setInt32(n,t,this.littleEndian),s&&(this.offset+=4),this},u.writeInt=u.writeInt32,u.readInt32=function(t){var n=typeof t>"u";if(n&&(t=this.offset),!this.noAssert){if(typeof t!="number"||t%1!==0)throw TypeError("Illegal offset: "+t+" (not an integer)");if(t>>>=0,t<0||t+4>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+4) <= "+this.buffer.byteLength)}var s=this.view.getInt32(t,this.littleEndian);return n&&(this.offset+=4),s},u.readInt=u.readInt32,u.writeUint32=function(t,n){var s=typeof n>"u";if(s&&(n=this.offset),!this.noAssert){if(typeof t!="number"||t%1!==0)throw TypeError("Illegal value: "+t+" (not an integer)");if(t>>>=0,typeof n!="number"||n%1!==0)throw TypeError("Illegal offset: "+n+" (not an integer)");if(n>>>=0,n<0||n+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+n+" (+0) <= "+this.buffer.byteLength)}n+=4;var f=this.buffer.byteLength;return n>f&&this.resize((f*=2)>n?f:n),n-=4,this.view.setUint32(n,t,this.littleEndian),s&&(this.offset+=4),this},u.readUint32=function(t){var n=typeof t>"u";if(n&&(t=this.offset),!this.noAssert){if(typeof t!="number"||t%1!==0)throw TypeError("Illegal offset: "+t+" (not an integer)");if(t>>>=0,t<0||t+4>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+4) <= "+this.buffer.byteLength)}var s=this.view.getUint32(t,this.littleEndian);return n&&(this.offset+=4),s},l&&(u.writeInt64=function(t,n){var s=typeof n>"u";if(s&&(n=this.offset),!this.noAssert){if(typeof t=="number")t=l.fromNumber(t);else if(!(t&&t instanceof l))throw TypeError("Illegal value: "+t+" (not an integer or Long)");if(typeof n!="number"||n%1!==0)throw TypeError("Illegal offset: "+n+" (not an integer)");if(n>>>=0,n<0||n+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+n+" (+0) <= "+this.buffer.byteLength)}typeof t=="number"&&(t=l.fromNumber(t)),n+=8;var f=this.buffer.byteLength;return n>f&&this.resize((f*=2)>n?f:n),n-=8,this.littleEndian?(this.view.setInt32(n,t.low,!0),this.view.setInt32(n+4,t.high,!0)):(this.view.setInt32(n,t.high,!1),this.view.setInt32(n+4,t.low,!1)),s&&(this.offset+=8),this},u.writeLong=u.writeInt64,u.readInt64=function(t){var n=typeof t>"u";if(n&&(t=this.offset),!this.noAssert){if(typeof t!="number"||t%1!==0)throw TypeError("Illegal offset: "+t+" (not an integer)");if(t>>>=0,t<0||t+8>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+8) <= "+this.buffer.byteLength)}var s=this.littleEndian?new l(this.view.getInt32(t,!0),this.view.getInt32(t+4,!0),!1):new l(this.view.getInt32(t+4,!1),this.view.getInt32(t,!1),!1);return n&&(this.offset+=8),s},u.readLong=u.readInt64,u.writeUint64=function(t,n){var s=typeof n>"u";if(s&&(n=this.offset),!this.noAssert){if(typeof t=="number")t=l.fromNumber(t);else if(!(t&&t instanceof l))throw TypeError("Illegal value: "+t+" (not an integer or Long)");if(typeof n!="number"||n%1!==0)throw TypeError("Illegal offset: "+n+" (not an integer)");if(n>>>=0,n<0||n+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+n+" (+0) <= "+this.buffer.byteLength)}typeof t=="number"&&(t=l.fromNumber(t)),n+=8;var f=this.buffer.byteLength;return n>f&&this.resize((f*=2)>n?f:n),n-=8,this.littleEndian?(this.view.setInt32(n,t.low,!0),this.view.setInt32(n+4,t.high,!0)):(this.view.setInt32(n,t.high,!1),this.view.setInt32(n+4,t.low,!1)),s&&(this.offset+=8),this},u.readUint64=function(t){var n=typeof t>"u";if(n&&(t=this.offset),!this.noAssert){if(typeof t!="number"||t%1!==0)throw TypeError("Illegal offset: "+t+" (not an integer)");if(t>>>=0,t<0||t+8>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+8) <= "+this.buffer.byteLength)}var s=this.littleEndian?new l(this.view.getInt32(t,!0),this.view.getInt32(t+4,!0),!0):new l(this.view.getInt32(t+4,!1),this.view.getInt32(t,!1),!0);return n&&(this.offset+=8),s}),u.writeFloat32=function(t,n){var s=typeof n>"u";if(s&&(n=this.offset),!this.noAssert){if(typeof t!="number")throw TypeError("Illegal value: "+t+" (not a number)");if(typeof n!="number"||n%1!==0)throw TypeError("Illegal offset: "+n+" (not an integer)");if(n>>>=0,n<0||n+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+n+" (+0) <= "+this.buffer.byteLength)}n+=4;var f=this.buffer.byteLength;return n>f&&this.resize((f*=2)>n?f:n),n-=4,this.view.setFloat32(n,t,this.littleEndian),s&&(this.offset+=4),this},u.writeFloat=u.writeFloat32,u.readFloat32=function(t){var n=typeof t>"u";if(n&&(t=this.offset),!this.noAssert){if(typeof t!="number"||t%1!==0)throw TypeError("Illegal offset: "+t+" (not an integer)");if(t>>>=0,t<0||t+4>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+4) <= "+this.buffer.byteLength)}var s=this.view.getFloat32(t,this.littleEndian);return n&&(this.offset+=4),s},u.readFloat=u.readFloat32,u.writeFloat64=function(t,n){var s=typeof n>"u";if(s&&(n=this.offset),!this.noAssert){if(typeof t!="number")throw TypeError("Illegal value: "+t+" (not a number)");if(typeof n!="number"||n%1!==0)throw TypeError("Illegal offset: "+n+" (not an integer)");if(n>>>=0,n<0||n+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+n+" (+0) <= "+this.buffer.byteLength)}n+=8;var f=this.buffer.byteLength;return n>f&&this.resize((f*=2)>n?f:n),n-=8,this.view.setFloat64(n,t,this.littleEndian),s&&(this.offset+=8),this},u.writeDouble=u.writeFloat64,u.readFloat64=function(t){var n=typeof t>"u";if(n&&(t=this.offset),!this.noAssert){if(typeof t!="number"||t%1!==0)throw TypeError("Illegal offset: "+t+" (not an integer)");if(t>>>=0,t<0||t+8>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+8) <= "+this.buffer.byteLength)}var s=this.view.getFloat64(t,this.littleEndian);return n&&(this.offset+=8),s},u.readDouble=u.readFloat64,o.MAX_VARINT32_BYTES=5,o.calculateVarint32=function(t){return t=t>>>0,t<128?1:t<16384?2:t<1<<21?3:t<1<<28?4:5},o.zigZagEncode32=function(t){return((t|=0)<<1^t>>31)>>>0},o.zigZagDecode32=function(t){return t>>>1^-(t&1)|0},u.writeVarint32=function(t,n){var s=typeof n>"u";if(s&&(n=this.offset),!this.noAssert){if(typeof t!="number"||t%1!==0)throw TypeError("Illegal value: "+t+" (not an integer)");if(t|=0,typeof n!="number"||n%1!==0)throw TypeError("Illegal offset: "+n+" (not an integer)");if(n>>>=0,n<0||n+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+n+" (+0) <= "+this.buffer.byteLength)}var f=o.calculateVarint32(t),d;n+=f;var w=this.buffer.byteLength;return n>w&&this.resize((w*=2)>n?w:n),n-=f,this.view.setUint8(n,d=t|128),t>>>=0,t>=128?(d=t>>7|128,this.view.setUint8(n+1,d),t>=16384?(d=t>>14|128,this.view.setUint8(n+2,d),t>=1<<21?(d=t>>21|128,this.view.setUint8(n+3,d),t>=1<<28?(this.view.setUint8(n+4,t>>28&15),f=5):(this.view.setUint8(n+3,d&127),f=4)):(this.view.setUint8(n+2,d&127),f=3)):(this.view.setUint8(n+1,d&127),f=2)):(this.view.setUint8(n,d&127),f=1),s?(this.offset+=f,this):f},u.writeVarint32ZigZag=function(t,n){return this.writeVarint32(o.zigZagEncode32(t),n)},u.readVarint32=function(t){var n=typeof t>"u";if(n&&(t=this.offset),!this.noAssert){if(typeof t!="number"||t%1!==0)throw TypeError("Illegal offset: "+t+" (not an integer)");if(t>>>=0,t<0||t+1>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+1) <= "+this.buffer.byteLength)}var s=0,f=0,d,w;do{if(w=t+s,!this.noAssert&&w>this.limit){var x=Error("Truncated");throw x.truncated=!0,x}d=this.view.getUint8(w),s<5&&(f|=(d&127)<<7*s>>>0),++s}while((d&128)===128);return f=f|0,n?(this.offset+=s,f):{value:f,length:s}},u.readVarint32ZigZag=function(t){var n=this.readVarint32(t);return typeof n=="object"?n.value=o.zigZagDecode32(n.value):n=o.zigZagDecode32(n),n},l&&(o.MAX_VARINT64_BYTES=10,o.calculateVarint64=function(t){typeof t=="number"&&(t=l.fromNumber(t));var n=t.toInt()>>>0,s=t.shiftRightUnsigned(28).toInt()>>>0,f=t.shiftRightUnsigned(56).toInt()>>>0;return f==0?s==0?n<16384?n<128?1:2:n<1<<21?3:4:s<16384?s<128?5:6:s<1<<21?7:8:f<128?9:10},o.zigZagEncode64=function(t){return typeof t=="number"?t=l.fromNumber(t,!1):t.unsigned!==!1&&(t=t.toSigned()),t.shiftLeft(1).xor(t.shiftRight(63)).toUnsigned()},o.zigZagDecode64=function(t){return typeof t=="number"?t=l.fromNumber(t,!1):t.unsigned!==!1&&(t=t.toSigned()),t.shiftRightUnsigned(1).xor(t.and(l.ONE).toSigned().negate()).toSigned()},u.writeVarint64=function(t,n){var s=typeof n>"u";if(s&&(n=this.offset),!this.noAssert){if(typeof t=="number")t=l.fromNumber(t);else if(!(t&&t instanceof l))throw TypeError("Illegal value: "+t+" (not an integer or Long)");if(typeof n!="number"||n%1!==0)throw TypeError("Illegal offset: "+n+" (not an integer)");if(n>>>=0,n<0||n+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+n+" (+0) <= "+this.buffer.byteLength)}typeof t=="number"?t=l.fromNumber(t,!1):t.unsigned!==!1&&(t=t.toSigned());var f=o.calculateVarint64(t),d=t.toInt()>>>0,w=t.shiftRightUnsigned(28).toInt()>>>0,x=t.shiftRightUnsigned(56).toInt()>>>0;n+=f;var k=this.buffer.byteLength;switch(n>k&&this.resize((k*=2)>n?k:n),n-=f,f){case 10:this.view.setUint8(n+9,x>>>7&1);case 9:this.view.setUint8(n+8,f!==9?x|128:x&127);case 8:this.view.setUint8(n+7,f!==8?w>>>21|128:w>>>21&127);case 7:this.view.setUint8(n+6,f!==7?w>>>14|128:w>>>14&127);case 6:this.view.setUint8(n+5,f!==6?w>>>7|128:w>>>7&127);case 5:this.view.setUint8(n+4,f!==5?w|128:w&127);case 4:this.view.setUint8(n+3,f!==4?d>>>21|128:d>>>21&127);case 3:this.view.setUint8(n+2,f!==3?d>>>14|128:d>>>14&127);case 2:this.view.setUint8(n+1,f!==2?d>>>7|128:d>>>7&127);case 1:this.view.setUint8(n,f!==1?d|128:d&127)}return s?(this.offset+=f,this):f},u.writeVarint64ZigZag=function(t,n){return this.writeVarint64(o.zigZagEncode64(t),n)},u.readVarint64=function(t){var n=typeof t>"u";if(n&&(t=this.offset),!this.noAssert){if(typeof t!="number"||t%1!==0)throw TypeError("Illegal offset: "+t+" (not an integer)");if(t>>>=0,t<0||t+1>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+1) <= "+this.buffer.byteLength)}var s=t,f=0,d=0,w=0,x=0;if(x=this.view.getUint8(t++),f=x&127,x&128&&(x=this.view.getUint8(t++),f|=(x&127)<<7,x&128&&(x=this.view.getUint8(t++),f|=(x&127)<<14,x&128&&(x=this.view.getUint8(t++),f|=(x&127)<<21,x&128&&(x=this.view.getUint8(t++),d=x&127,x&128&&(x=this.view.getUint8(t++),d|=(x&127)<<7,x&128&&(x=this.view.getUint8(t++),d|=(x&127)<<14,x&128&&(x=this.view.getUint8(t++),d|=(x&127)<<21,x&128&&(x=this.view.getUint8(t++),w=x&127,x&128&&(x=this.view.getUint8(t++),w|=(x&127)<<7,x&128))))))))))throw Error("Buffer overrun");var k=l.fromBits(f|d<<28,d>>>4|w<<24,!1);return n?(this.offset=t,k):{value:k,length:t-s}},u.readVarint64ZigZag=function(t){var n=this.readVarint64(t);return n&&n.value instanceof l?n.value=o.zigZagDecode64(n.value):n=o.zigZagDecode64(n),n}),u.writeCString=function(t,n){var s=typeof n>"u";s&&(n=this.offset);var f,d=t.length;if(!this.noAssert){if(typeof t!="string")throw TypeError("Illegal str: Not a string");for(f=0;f<d;++f)if(t.charCodeAt(f)===0)throw RangeError("Illegal str: Contains NULL-characters");if(typeof n!="number"||n%1!==0)throw TypeError("Illegal offset: "+n+" (not an integer)");if(n>>>=0,n<0||n+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+n+" (+0) <= "+this.buffer.byteLength)}var w=n;d=b.calculateUTF16asUTF8(v(t))[1],n+=d+1;var x=this.buffer.byteLength;return n>x&&this.resize((x*=2)>n?x:n),n-=d+1,b.encodeUTF16toUTF8(v(t),(function(k){this.view.setUint8(n++,k)}).bind(this)),this.view.setUint8(n++,0),s?(this.offset=n-w,this):d},u.readCString=function(t){var n=typeof t>"u";if(n&&(t=this.offset),!this.noAssert){if(typeof t!="number"||t%1!==0)throw TypeError("Illegal offset: "+t+" (not an integer)");if(t>>>=0,t<0||t+1>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+1) <= "+this.buffer.byteLength)}var s=t,f,d=-1;return b.decodeUTF8toUTF16((function(){if(d===0)return null;if(t>=this.limit)throw RangeError("Illegal range: Truncated data, "+t+" < "+this.limit);return(d=this.view.getUint8(t++))===0?null:d}).bind(this),f=m(),!0),n?(this.offset=t,f()):{string:f(),length:t-s}},u.writeIString=function(t,n){var s=typeof n>"u";if(s&&(n=this.offset),!this.noAssert){if(typeof t!="string")throw TypeError("Illegal str: Not a string");if(typeof n!="number"||n%1!==0)throw TypeError("Illegal offset: "+n+" (not an integer)");if(n>>>=0,n<0||n+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+n+" (+0) <= "+this.buffer.byteLength)}var f=n,d;d=b.calculateUTF16asUTF8(v(t),this.noAssert)[1],n+=4+d;var w=this.buffer.byteLength;if(n>w&&this.resize((w*=2)>n?w:n),n-=4+d,this.view.setUint32(n,d,this.littleEndian),n+=4,b.encodeUTF16toUTF8(v(t),(function(x){this.view.setUint8(n++,x)}).bind(this)),n!==f+4+d)throw RangeError("Illegal range: Truncated data, "+n+" == "+(n+4+d));return s?(this.offset=n,this):n-f},u.readIString=function(t){var n=typeof t>"u";if(n&&(t=this.offset),!this.noAssert){if(typeof t!="number"||t%1!==0)throw TypeError("Illegal offset: "+t+" (not an integer)");if(t>>>=0,t<0||t+4>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+4) <= "+this.buffer.byteLength)}var s=0,f=t,d;s=this.view.getUint32(t,this.littleEndian),t+=4;var w=t+s,x;return b.decodeUTF8toUTF16((function(){return t<w?this.view.getUint8(t++):null}).bind(this),x=m(),this.noAssert),d=x(),n?(this.offset=t,d):{string:d,length:t-f}},o.METRICS_CHARS="c",o.METRICS_BYTES="b",u.writeUTF8String=function(t,n){var s=typeof n>"u";if(s&&(n=this.offset),!this.noAssert){if(typeof n!="number"||n%1!==0)throw TypeError("Illegal offset: "+n+" (not an integer)");if(n>>>=0,n<0||n+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+n+" (+0) <= "+this.buffer.byteLength)}var f,d=n;f=b.calculateUTF16asUTF8(v(t))[1],n+=f;var w=this.buffer.byteLength;return n>w&&this.resize((w*=2)>n?w:n),n-=f,b.encodeUTF16toUTF8(v(t),(function(x){this.view.setUint8(n++,x)}).bind(this)),s?(this.offset=n,this):n-d},u.writeString=u.writeUTF8String,o.calculateUTF8Chars=function(t){return b.calculateUTF16asUTF8(v(t))[0]},o.calculateUTF8Bytes=function(t){return b.calculateUTF16asUTF8(v(t))[1]},u.readUTF8String=function(t,n,s){typeof n=="number"&&(s=n,n=void 0);var f=typeof s>"u";if(f&&(s=this.offset),typeof n>"u"&&(n=o.METRICS_CHARS),!this.noAssert){if(typeof t!="number"||t%1!==0)throw TypeError("Illegal length: "+t+" (not an integer)");if(t|=0,typeof s!="number"||s%1!==0)throw TypeError("Illegal offset: "+s+" (not an integer)");if(s>>>=0,s<0||s+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+s+" (+0) <= "+this.buffer.byteLength)}var d=0,w=s,x;if(n===o.METRICS_CHARS){if(x=m(),b.decodeUTF8((function(){return d<t&&s<this.limit?this.view.getUint8(s++):null}).bind(this),(function(E){++d,b.UTF8toUTF16(E,x)}).bind(this)),d!==t)throw RangeError("Illegal range: Truncated data, "+d+" == "+t);return f?(this.offset=s,x()):{string:x(),length:s-w}}else if(n===o.METRICS_BYTES){if(!this.noAssert){if(typeof s!="number"||s%1!==0)throw TypeError("Illegal offset: "+s+" (not an integer)");if(s>>>=0,s<0||s+t>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+s+" (+"+t+") <= "+this.buffer.byteLength)}var k=s+t;if(b.decodeUTF8toUTF16((function(){return s<k?this.view.getUint8(s++):null}).bind(this),x=m(),this.noAssert),s!==k)throw RangeError("Illegal range: Truncated data, "+s+" == "+k);return f?(this.offset=s,x()):{string:x(),length:s-w}}else throw TypeError("Unsupported metrics: "+n)},u.readString=u.readUTF8String,u.writeVString=function(t,n){var s=typeof n>"u";if(s&&(n=this.offset),!this.noAssert){if(typeof t!="string")throw TypeError("Illegal str: Not a string");if(typeof n!="number"||n%1!==0)throw TypeError("Illegal offset: "+n+" (not an integer)");if(n>>>=0,n<0||n+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+n+" (+0) <= "+this.buffer.byteLength)}var f=n,d,w;d=b.calculateUTF16asUTF8(v(t),this.noAssert)[1],w=o.calculateVarint32(d),n+=w+d;var x=this.buffer.byteLength;if(n>x&&this.resize((x*=2)>n?x:n),n-=w+d,n+=this.writeVarint32(d,n),b.encodeUTF16toUTF8(v(t),(function(k){this.view.setUint8(n++,k)}).bind(this)),n!==f+d+w)throw RangeError("Illegal range: Truncated data, "+n+" == "+(n+d+w));return s?(this.offset=n,this):n-f},u.readVString=function(t){var n=typeof t>"u";if(n&&(t=this.offset),!this.noAssert){if(typeof t!="number"||t%1!==0)throw TypeError("Illegal offset: "+t+" (not an integer)");if(t>>>=0,t<0||t+1>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+1) <= "+this.buffer.byteLength)}var s=this.readVarint32(t),f=t,d;t+=s.length,s=s.value;var w=t+s,x=m();return b.decodeUTF8toUTF16((function(){return t<w?this.view.getUint8(t++):null}).bind(this),x,this.noAssert),d=x(),n?(this.offset=t,d):{string:d,length:t-f}},u.append=function(t,n,s){(typeof n=="number"||typeof n!="string")&&(s=n,n=void 0);var f=typeof s>"u";if(f&&(s=this.offset),!this.noAssert){if(typeof s!="number"||s%1!==0)throw TypeError("Illegal offset: "+s+" (not an integer)");if(s>>>=0,s<0||s+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+s+" (+0) <= "+this.buffer.byteLength)}t instanceof o||(t=o.wrap(t,n));var d=t.limit-t.offset;if(d<=0)return this;s+=d;var w=this.buffer.byteLength;return s>w&&this.resize((w*=2)>s?w:s),s-=d,new Uint8Array(this.buffer,s).set(new Uint8Array(t.buffer).subarray(t.offset,t.limit)),t.offset+=d,f&&(this.offset+=d),this},u.appendTo=function(t,n){return t.append(this,n),this},u.assert=function(t){return this.noAssert=!t,this},u.capacity=function(){return this.buffer.byteLength},u.clear=function(){return this.offset=0,this.limit=this.buffer.byteLength,this.markedOffset=-1,this},u.clone=function(t){var n=new o(0,this.littleEndian,this.noAssert);if(t){var s=new ArrayBuffer(this.buffer.byteLength);new Uint8Array(s).set(this.buffer),n.buffer=s,n.view=new DataView(s)}else n.buffer=this.buffer,n.view=this.view;return n.offset=this.offset,n.markedOffset=this.markedOffset,n.limit=this.limit,n},u.compact=function(t,n){if(typeof t>"u"&&(t=this.offset),typeof n>"u"&&(n=this.limit),!this.noAssert){if(typeof t!="number"||t%1!==0)throw TypeError("Illegal begin: Not an integer");if(t>>>=0,typeof n!="number"||n%1!==0)throw TypeError("Illegal end: Not an integer");if(n>>>=0,t<0||t>n||n>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+t+" <= "+n+" <= "+this.buffer.byteLength)}if(t===0&&n===this.buffer.byteLength)return this;var s=n-t;if(s===0)return this.buffer=g,this.view=null,this.markedOffset>=0&&(this.markedOffset-=t),this.offset=0,this.limit=0,this;var f=new ArrayBuffer(s);return new Uint8Array(f).set(new Uint8Array(this.buffer).subarray(t,n)),this.buffer=f,this.view=new DataView(f),this.markedOffset>=0&&(this.markedOffset-=t),this.offset=0,this.limit=s,this},u.copy=function(t,n){if(typeof t>"u"&&(t=this.offset),typeof n>"u"&&(n=this.limit),!this.noAssert){if(typeof t!="number"||t%1!==0)throw TypeError("Illegal begin: Not an integer");if(t>>>=0,typeof n!="number"||n%1!==0)throw TypeError("Illegal end: Not an integer");if(n>>>=0,t<0||t>n||n>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+t+" <= "+n+" <= "+this.buffer.byteLength)}if(t===n)return new o(0,this.littleEndian,this.noAssert);var s=n-t,f=new o(s,this.littleEndian,this.noAssert);return f.offset=0,f.limit=s,f.markedOffset>=0&&(f.markedOffset-=t),this.copyTo(f,0,t,n),f},u.copyTo=function(t,n,s,f){var d,w;if(!this.noAssert&&!o.isByteBuffer(t))throw TypeError("Illegal target: Not a ByteBuffer");if(n=(w=typeof n>"u")?t.offset:n|0,s=(d=typeof s>"u")?this.offset:s|0,f=typeof f>"u"?this.limit:f|0,n<0||n>t.buffer.byteLength)throw RangeError("Illegal target range: 0 <= "+n+" <= "+t.buffer.byteLength);if(s<0||f>this.buffer.byteLength)throw RangeError("Illegal source range: 0 <= "+s+" <= "+this.buffer.byteLength);var x=f-s;return x===0?t:(t.ensureCapacity(n+x),new Uint8Array(t.buffer).set(new Uint8Array(this.buffer).subarray(s,f),n),d&&(this.offset+=x),w&&(t.offset+=x),this)},u.ensureCapacity=function(t){var n=this.buffer.byteLength;return n<t?this.resize((n*=2)>t?n:t):this},u.fill=function(t,n,s){var f=typeof n>"u";if(f&&(n=this.offset),typeof t=="string"&&t.length>0&&(t=t.charCodeAt(0)),typeof n>"u"&&(n=this.offset),typeof s>"u"&&(s=this.limit),!this.noAssert){if(typeof t!="number"||t%1!==0)throw TypeError("Illegal value: "+t+" (not an integer)");if(t|=0,typeof n!="number"||n%1!==0)throw TypeError("Illegal begin: Not an integer");if(n>>>=0,typeof s!="number"||s%1!==0)throw TypeError("Illegal end: Not an integer");if(s>>>=0,n<0||n>s||s>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+n+" <= "+s+" <= "+this.buffer.byteLength)}if(n>=s)return this;for(;n<s;)this.view.setUint8(n++,t);return f&&(this.offset=n),this},u.flip=function(){return this.limit=this.offset,this.offset=0,this},u.mark=function(t){if(t=typeof t>"u"?this.offset:t,!this.noAssert){if(typeof t!="number"||t%1!==0)throw TypeError("Illegal offset: "+t+" (not an integer)");if(t>>>=0,t<0||t+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+0) <= "+this.buffer.byteLength)}return this.markedOffset=t,this},u.order=function(t){if(!this.noAssert&&typeof t!="boolean")throw TypeError("Illegal littleEndian: Not a boolean");return this.littleEndian=!!t,this},u.LE=function(t){return this.littleEndian=typeof t<"u"?!!t:!0,this},u.BE=function(t){return this.littleEndian=typeof t<"u"?!t:!1,this},u.prepend=function(t,n,s){(typeof n=="number"||typeof n!="string")&&(s=n,n=void 0);var f=typeof s>"u";if(f&&(s=this.offset),!this.noAssert){if(typeof s!="number"||s%1!==0)throw TypeError("Illegal offset: "+s+" (not an integer)");if(s>>>=0,s<0||s+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+s+" (+0) <= "+this.buffer.byteLength)}t instanceof o||(t=o.wrap(t,n));var d=t.limit-t.offset;if(d<=0)return this;var w=d-s,x;if(w>0){var k=new ArrayBuffer(this.buffer.byteLength+w);x=new Uint8Array(k),x.set(new Uint8Array(this.buffer).subarray(s,this.buffer.byteLength),d),this.buffer=k,this.view=new DataView(k),this.offset+=w,this.markedOffset>=0&&(this.markedOffset+=w),this.limit+=w,s+=w}else x=new Uint8Array(this.buffer);return x.set(new Uint8Array(t.buffer).subarray(t.offset,t.limit),s-d),t.offset=t.limit,f&&(this.offset-=d),this},u.prependTo=function(t,n){return t.prepend(this,n),this},u.printDebug=function(t){typeof t!="function"&&(t=console.log.bind(console)),t(this.toString()+`
-------------------------------------------------------------------
`+this.toDebug(!0))},u.remaining=function(){return this.limit-this.offset},u.reset=function(){return this.markedOffset>=0?(this.offset=this.markedOffset,this.markedOffset=-1):this.offset=0,this},u.resize=function(t){if(!this.noAssert){if(typeof t!="number"||t%1!==0)throw TypeError("Illegal capacity: "+t+" (not an integer)");if(t|=0,t<0)throw RangeError("Illegal capacity: 0 <= "+t)}if(this.buffer.byteLength<t){var n=new ArrayBuffer(t);new Uint8Array(n).set(new Uint8Array(this.buffer)),this.buffer=n,this.view=new DataView(n)}return this},u.reverse=function(t,n){if(typeof t>"u"&&(t=this.offset),typeof n>"u"&&(n=this.limit),!this.noAssert){if(typeof t!="number"||t%1!==0)throw TypeError("Illegal begin: Not an integer");if(t>>>=0,typeof n!="number"||n%1!==0)throw TypeError("Illegal end: Not an integer");if(n>>>=0,t<0||t>n||n>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+t+" <= "+n+" <= "+this.buffer.byteLength)}return t===n?this:(Array.prototype.reverse.call(new Uint8Array(this.buffer).subarray(t,n)),this.view=new DataView(this.buffer),this)},u.skip=function(t){if(!this.noAssert){if(typeof t!="number"||t%1!==0)throw TypeError("Illegal length: "+t+" (not an integer)");t|=0}var n=this.offset+t;if(!this.noAssert&&(n<0||n>this.buffer.byteLength))throw RangeError("Illegal length: 0 <= "+this.offset+" + "+t+" <= "+this.buffer.byteLength);return this.offset=n,this},u.slice=function(t,n){if(typeof t>"u"&&(t=this.offset),typeof n>"u"&&(n=this.limit),!this.noAssert){if(typeof t!="number"||t%1!==0)throw TypeError("Illegal begin: Not an integer");if(t>>>=0,typeof n!="number"||n%1!==0)throw TypeError("Illegal end: Not an integer");if(n>>>=0,t<0||t>n||n>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+t+" <= "+n+" <= "+this.buffer.byteLength)}var s=this.clone();return s.offset=t,s.limit=n,s},u.toBuffer=function(t){var n=this.offset,s=this.limit;if(n>s){var f=n;n=s,s=f}if(!this.noAssert){if(typeof n!="number"||n%1!==0)throw TypeError("Illegal offset: Not an integer");if(n>>>=0,typeof s!="number"||s%1!==0)throw TypeError("Illegal limit: Not an integer");if(s>>>=0,n<0||n>s||s>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+n+" <= "+s+" <= "+this.buffer.byteLength)}if(!t&&n===0&&s===this.buffer.byteLength)return this.buffer;if(n===s)return g;var d=new ArrayBuffer(s-n);return new Uint8Array(d).set(new Uint8Array(this.buffer).subarray(n,s),0),d},u.toArrayBuffer=u.toBuffer,u.toString=function(t,n,s){if(typeof t>"u")return"ByteBufferAB(offset="+this.offset+",markedOffset="+this.markedOffset+",limit="+this.limit+",capacity="+this.capacity()+")";switch(typeof t=="number"&&(t="utf8",n=t,s=n),t){case"utf8":return this.toUTF8(n,s);case"base64":return this.toBase64(n,s);case"hex":return this.toHex(n,s);case"binary":return this.toBinary(n,s);case"debug":return this.toDebug();case"columns":return this.toColumns();default:throw Error("Unsupported encoding: "+t)}};var h=function(){for(var t={},n=[65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,48,49,50,51,52,53,54,55,56,57,43,47],s=[],f=0,d=n.length;f<d;++f)s[n[f]]=f;return t.encode=function(w,x){for(var k,E;(k=w())!==null;)x(n[k>>2&63]),E=(k&3)<<4,(k=w())!==null?(E|=k>>4&15,x(n[(E|k>>4&15)&63]),E=(k&15)<<2,(k=w())!==null?(x(n[(E|k>>6&3)&63]),x(n[k&63])):(x(n[E&63]),x(61))):(x(n[E&63]),x(61),x(61))},t.decode=function(w,x){var k,E,F;function C(D){throw Error("Illegal character code: "+D)}for(;(k=w())!==null;)if(E=s[k],typeof E>"u"&&C(k),(k=w())!==null&&(F=s[k],typeof F>"u"&&C(k),x(E<<2>>>0|(F&48)>>4),(k=w())!==null)){if(E=s[k],typeof E>"u"){if(k===61)break;C(k)}if(x((F&15)<<4>>>0|(E&60)>>2),(k=w())!==null){if(F=s[k],typeof F>"u"){if(k===61)break;C(k)}x((E&3)<<6>>>0|F)}}},t.test=function(w){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(w)},t}();u.toBase64=function(t,n){if(typeof t>"u"&&(t=this.offset),typeof n>"u"&&(n=this.limit),!this.noAssert){if(typeof t!="number"||t%1!==0)throw TypeError("Illegal begin: Not an integer");if(t>>>=0,typeof n!="number"||n%1!==0)throw TypeError("Illegal end: Not an integer");if(n>>>=0,t<0||t>n||n>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+t+" <= "+n+" <= "+this.buffer.byteLength)}var s;return h.encode((function(){return t<n?this.view.getUint8(t++):null}).bind(this),s=m()),s()},o.fromBase64=function(t,n,s){if(!s){if(typeof t!="string")throw TypeError("Illegal str: Not a string");if(t.length%4!==0)throw TypeError("Illegal str: Length not a multiple of 4")}var f=new o(t.length/4*3,n,s),d=0;return h.decode(v(t),function(w){f.view.setUint8(d++,w)}),f.limit=d,f},o.btoa=function(t){return o.fromBinary(t).toBase64()},o.atob=function(t){return o.fromBase64(t).toBinary()},u.toBinary=function(t,n){if(t=typeof t>"u"?this.offset:t,n=typeof n>"u"?this.limit:n,!this.noAssert){if(typeof t!="number"||t%1!==0)throw TypeError("Illegal begin: Not an integer");if(t>>>=0,typeof n!="number"||n%1!==0)throw TypeError("Illegal end: Not an integer");if(n>>>=0,t<0||t>n||n>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+t+" <= "+n+" <= "+this.buffer.byteLength)}if(t===n)return"";for(var s=[],f=[];t<n;)s.push(this.view.getUint8(t++)),s.length>=1024&&(f.push(String.fromCharCode.apply(String,s)),s=[]);return f.join("")+String.fromCharCode.apply(String,s)},o.fromBinary=function(t,n,s){if(!s&&typeof t!="string")throw TypeError("Illegal str: Not a string");for(var f=0,d=t.length,w,x=new o(d,n,s);f<d;){if(w=t.charCodeAt(f),!s&&w>255)throw RangeError("Illegal charCode at "+f+": 0 <= "+w+" <= 255");x.view.setUint8(f++,w)}return x.limit=d,x},u.toDebug=function(t){for(var n=-1,s=this.buffer.byteLength,f,d="",w="",x="";n<s;){if(n!==-1&&(f=this.view.getUint8(n),f<16?d+="0"+f.toString(16).toUpperCase():d+=f.toString(16).toUpperCase(),t&&(w+=f>32&&f<127?String.fromCharCode(f):".")),++n,t&&n>0&&n%16===0&&n!==s){for(;d.length<3*16+3;)d+=" ";x+=d+w+`
`,d=w=""}n===this.offset&&n===this.limit?d+=n===this.markedOffset?"!":"|":n===this.offset?d+=n===this.markedOffset?"[":"<":n===this.limit?d+=n===this.markedOffset?"]":">":d+=n===this.markedOffset?"'":t||n!==0&&n!==s?" ":""}if(t&&d!==" "){for(;d.length<3*16+3;)d+=" ";x+=d+w+`
`}return t?x:d},o.fromDebug=function(t,n,s){for(var f=t.length,d=new o((f+1)/3|0,n,s),w=0,x=0,k,E,F=!1,C=!1,D=!1,O=!1,V=!1;w<f;){switch(k=t.charAt(w++)){case"!":if(!s){if(C||D||O){V=!0;break}C=D=O=!0}d.offset=d.markedOffset=d.limit=x,F=!1;break;case"|":if(!s){if(C||O){V=!0;break}C=O=!0}d.offset=d.limit=x,F=!1;break;case"[":if(!s){if(C||D){V=!0;break}C=D=!0}d.offset=d.markedOffset=x,F=!1;break;case"<":if(!s){if(C){V=!0;break}C=!0}d.offset=x,F=!1;break;case"]":if(!s){if(O||D){V=!0;break}O=D=!0}d.limit=d.markedOffset=x,F=!1;break;case">":if(!s){if(O){V=!0;break}O=!0}d.limit=x,F=!1;break;case"'":if(!s){if(D){V=!0;break}D=!0}d.markedOffset=x,F=!1;break;case" ":F=!1;break;default:if(!s&&F){V=!0;break}if(E=parseInt(k+t.charAt(w++),16),!s&&(isNaN(E)||E<0||E>255))throw TypeError("Illegal str: Not a debug encoded string");d.view.setUint8(x++,E),F=!0}if(V)throw TypeError("Illegal str: Invalid symbol at "+w)}if(!s){if(!C||!O)throw TypeError("Illegal str: Missing offset or limit");if(x<d.buffer.byteLength)throw TypeError("Illegal str: Not a debug encoded string (is it hex?) "+x+" < "+f)}return d},u.toHex=function(t,n){if(t=typeof t>"u"?this.offset:t,n=typeof n>"u"?this.limit:n,!this.noAssert){if(typeof t!="number"||t%1!==0)throw TypeError("Illegal begin: Not an integer");if(t>>>=0,typeof n!="number"||n%1!==0)throw TypeError("Illegal end: Not an integer");if(n>>>=0,t<0||t>n||n>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+t+" <= "+n+" <= "+this.buffer.byteLength)}for(var s=new Array(n-t),f;t<n;)f=this.view.getUint8(t++),f<16?s.push("0",f.toString(16)):s.push(f.toString(16));return s.join("")},o.fromHex=function(t,n,s){if(!s){if(typeof t!="string")throw TypeError("Illegal str: Not a string");if(t.length%2!==0)throw TypeError("Illegal str: Length not a multiple of 2")}for(var f=t.length,d=new o(f/2|0,n),w,x=0,k=0;x<f;x+=2){if(w=parseInt(t.substring(x,x+2),16),!s&&(!isFinite(w)||w<0||w>255))throw TypeError("Illegal str: Contains non-hex characters");d.view.setUint8(k++,w)}return d.limit=k,d};var b=function(){var t={};return t.MAX_CODEPOINT=1114111,t.encodeUTF8=function(n,s){var f=null;for(typeof n=="number"&&(f=n,n=function(){return null});f!==null||(f=n())!==null;)f<128?s(f&127):f<2048?(s(f>>6&31|192),s(f&63|128)):f<65536?(s(f>>12&15|224),s(f>>6&63|128),s(f&63|128)):(s(f>>18&7|240),s(f>>12&63|128),s(f>>6&63|128),s(f&63|128)),f=null},t.decodeUTF8=function(n,s){for(var f,d,w,x,k=function(E){E=E.slice(0,E.indexOf(null));var F=Error(E.toString());throw F.name="TruncatedError",F.bytes=E,F};(f=n())!==null;)if((f&128)===0)s(f);else if((f&224)===192)(d=n())===null&&k([f,d]),s((f&31)<<6|d&63);else if((f&240)===224)((d=n())===null||(w=n())===null)&&k([f,d,w]),s((f&15)<<12|(d&63)<<6|w&63);else if((f&248)===240)((d=n())===null||(w=n())===null||(x=n())===null)&&k([f,d,w,x]),s((f&7)<<18|(d&63)<<12|(w&63)<<6|x&63);else throw RangeError("Illegal starting byte: "+f)},t.UTF16toUTF8=function(n,s){for(var f,d=null;(f=d!==null?d:n())!==null;){if(f>=55296&&f<=57343&&(d=n())!==null&&d>=56320&&d<=57343){s((f-55296)*1024+d-56320+65536),d=null;continue}s(f)}d!==null&&s(d)},t.UTF8toUTF16=function(n,s){var f=null;for(typeof n=="number"&&(f=n,n=function(){return null});f!==null||(f=n())!==null;)f<=65535?s(f):(f-=65536,s((f>>10)+55296),s(f%1024+56320)),f=null},t.encodeUTF16toUTF8=function(n,s){t.UTF16toUTF8(n,function(f){t.encodeUTF8(f,s)})},t.decodeUTF8toUTF16=function(n,s){t.decodeUTF8(n,function(f){t.UTF8toUTF16(f,s)})},t.calculateCodePoint=function(n){return n<128?1:n<2048?2:n<65536?3:4},t.calculateUTF8=function(n){for(var s,f=0;(s=n())!==null;)f+=t.calculateCodePoint(s);return f},t.calculateUTF16asUTF8=function(n){var s=0,f=0;return t.UTF16toUTF8(n,function(d){++s,f+=t.calculateCodePoint(d)}),[s,f]},t}();return u.toUTF8=function(t,n){if(typeof t>"u"&&(t=this.offset),typeof n>"u"&&(n=this.limit),!this.noAssert){if(typeof t!="number"||t%1!==0)throw TypeError("Illegal begin: Not an integer");if(t>>>=0,typeof n!="number"||n%1!==0)throw TypeError("Illegal end: Not an integer");if(n>>>=0,t<0||t>n||n>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+t+" <= "+n+" <= "+this.buffer.byteLength)}var s;try{b.decodeUTF8toUTF16((function(){return t<n?this.view.getUint8(t++):null}).bind(this),s=m())}catch{if(t!==n)throw RangeError("Illegal range: Truncated data, "+t+" != "+n)}return s()},o.fromUTF8=function(t,n,s){if(!s&&typeof t!="string")throw TypeError("Illegal str: Not a string");var f=new o(b.calculateUTF16asUTF8(v(t),!0)[1],n,s),d=0;return b.encodeUTF16toUTF8(v(t),function(w){f.view.setUint8(d++,w)}),f.limit=d,f},o}typeof Te=="function"&&a&&e?a.exports=function(){var l;try{l=Wo()}catch{}return c(l)}():(r.dcodeIO=r.dcodeIO||{}).ByteBuffer=c(r.dcodeIO.Long)})(Zo)}(Pe,Pe.exports)),Pe.exports}var _r,dn;function ni(){return dn||(dn=1,_r={FILE_SIGNATURE:"ASEF",FORMAT_VERSION:65536,COLOR_START:1,GROUP_START:49153,GROUP_END:49154,MODE_COLOR:1,MODE_GROUP:2,STATE_GET_MODE:1,STATE_GET_LENGTH:2,STATE_GET_NAME:3,STATE_GET_MODEL:4,STATE_GET_COLOR:5,STATE_GET_TYPE:6,COLOR_SIZES:{CMYK:4,RGB:3,LAB:3,GRAY:1},READ_COLOR_TYPES:{0:"global",1:"spot",2:"normal"},WRITE_COLOR_TYPES:{global:0,spot:1,normal:2}}),_r}var wr,gn;function Ho(){if(gn)return wr;gn=1;var a=Yo(),e=ni();function r(c){var l=c.colors,o=c.colors.length,u=new a;u.writeUTF8String(e.FILE_SIGNATURE),u.writeInt(e.FORMAT_VERSION),u.writeInt(o);for(var g=0;g<o;g++){var p=l[g],v=new a,m=null;for(u.writeShort(e.COLOR_START),v.writeShort(p.name.length+1),m=0;m<p.name.length;m++)v.writeShort(p.name.charCodeAt(m));v.writeShort(0);var h=p.model.length==4?p.model:p.model+" ";for(v.writeUTF8String(h),m=0;m<e.COLOR_SIZES[p.model.toUpperCase()];m++)v.writeFloat(p.color[m]);v.writeShort(e.WRITE_COLOR_TYPES[p.type]),u.writeInt(v.offset),v.flip(),u.append(v)}return u.flip(),u.toBuffer()}return wr=r,wr}const Vo={},Xo=Object.freeze(Object.defineProperty({__proto__:null,default:Vo},Symbol.toStringTag,{value:"Module"})),qo=No(Xo);var yr,pn;function Go(){if(pn)return yr;pn=1;var a=qo,e=ni(),r={header:"Not a valid .ASE file",unexpected:"Unexpected state. This is a bug!"};function c(l){typeof l=="string"&&(l=Buffer(l));var o={},u=o.groups=[],g=o.colors=[];a(k(0)==="A",r.header),a(k(1)==="S",r.header),a(k(2)==="E",r.header),a(k(3)==="F",r.header),o.version=[l.readUInt16BE(4),l.readUInt16BE(6)].join("."),l.readUInt32BE(8);var p=e.STATE_GET_MODE,v=e.MODE_COLOR,m=12,h,b,t;t:for(;m<l.length;){switch(p){case e.STATE_GET_MODE:n();continue t;case e.STATE_GET_LENGTH:s();continue t;case e.STATE_GET_NAME:f();continue t;case e.STATE_GET_MODEL:d();continue t;case e.STATE_GET_COLOR:w();continue t;case e.STATE_GET_TYPE:x();continue t}throw new Error(r.unexpected)}return o;function n(){switch(l.readUInt16BE(m)){case e.COLOR_START:g.push(h=t={}),v=e.MODE_COLOR;break;case e.GROUP_START:u.push(h=b={colors:[]}),v=e.MODE_GROUP;break;case e.GROUP_END:b=null;break;default:throw new Error("Unexpected block type at byte #"+m)}b&&h===t&&b.colors.push(t),m+=2,p=e.STATE_GET_LENGTH}function s(){l.readUInt32BE(m),m+=4,p=e.STATE_GET_NAME}function f(){for(var F=l.readUInt16BE(m),C="";--F;)C+=E(m+=2);m+=4,h.name=C,v===e.MODE_GROUP?p=e.STATE_GET_MODE:p=e.STATE_GET_MODEL}function d(){h.model=(k(m++)+k(m++)+k(m++)+k(m++)).trim(),p=e.STATE_GET_COLOR}function w(){for(var F=h.model.toUpperCase(),C=e.COLOR_SIZES[F],D=[];C--;)D.push(l.readFloatBE(m)),m+=4;h.color=D,p=e.STATE_GET_TYPE}function x(){h.type=e.READ_COLOR_TYPES[l.readUInt16BE(m)],m+=2,p=e.STATE_GET_MODE}function k(F){return String.fromCharCode(l.readUInt8(F))}function E(F){return String.fromCharCode(l.readUInt16BE(F))}}return yr=c,yr}var xr,vn;function Ko(){return vn||(vn=1,xr={encode:Ho(),decode:Go()}),xr}var Jo=Ko();function Qo({selectedAssets:a,allAssets:e,customAssets:r,customPatterns:c}){if(a.length>0)return a;const l=[];if(e.logos.forEach(o=>{l.push({id:o.id,formats:[o.extension,"png","jpg","webp"],assetType:"logo"})}),r.forEach(o=>{l.push({id:o.id,formats:[o.extension],assetType:"logo"})}),c.length>0)c.forEach(o=>{l.push({id:o.id,formats:["svg","png","jpg","webp"],assetType:"pattern"})});else if(e.patterns.length>0){const o=e.patterns[0],u=e.colors[0].items,g={id:`${o.id}-default`,baseId:o.id,basePatternUrl:o.url,patternColor:u[0].hex,backgroundColor:u[1].hex,isDefault:!0};l.push({id:g.id,formats:["svg","png","jpg","webp"],assetType:"pattern",patternData:g})}return e.videos.forEach(o=>{const u=o.formats.flatMap(g=>Object.keys(g.urls).map(p=>({ratio:g.ratio,type:p})));l.push({id:o.id,formats:u,assetType:"video"})}),l}async function $o(a,{allAssets:e,customAssets:r,zipFolders:c}){const{id:l,formats:o}=a,u=e.logos.find(v=>v.id===l)||r.find(v=>v.id===l);if(!u)return;let g=null,p=null;if(u.extension==="svg")if(u.type==="custom"){const v=e.logos.find(t=>t.id===u.originalId),m=await fetch(v.url),h=ri(await m.text()),b=`translate(${u.logoX}, ${u.logoY}) rotate(${u.logoRotate||0}) scale(${u.logoScale}) translate(-${u.originalSvgDimensions.width/2}, -${u.originalSvgDimensions.height/2})`;p=`<svg width="${u.canvasWidth}" height="${u.canvasHeight}" viewBox="0 0 ${u.canvasWidth} ${u.canvasHeight}" xmlns="http://www.w3.org/2000/svg"><g transform="${b}">${h}</g></svg>`}else p=await(await fetch(u.url)).text();else["png","jpg"].includes(u.extension)&&(g=new Image,g.src=u.type==="custom"?u.dataUrl:u.url);for(const v of o)try{let m=null,h=`${u.id}.${v}`;const b=u.canvasWidth||u.width,t=u.canvasHeight||u.height;switch(v){case"svg":p&&(m=new Blob([p],{type:"image/svg+xml"}));break;case"png":p?m=await oe(p,"png",b,t):g&&(m=await oe(g,"png",b,t));break;case"jpg":p?m=await oe(p,"jpeg",b,t):g&&(m=await oe(g,"jpeg",b,t));break;case"webp":p?m=await oe(p,"webp",b,t):g&&(m=await oe(g,"webp",b,t));break}m?c.logos.file(h,m):g&&v===u.extension&&(m=await(await fetch(g.src)).blob(),c.logos.file(h,m))}catch(m){console.error(`Ошибка при обработке логотипа ${l} в формате ${v}:`,m)}}async function ts(a,{customPatterns:e,zipFolders:r}){const{id:c,formats:l,patternData:o}=a,u=o||e.find(g=>g.id===c);if(u)try{const p=await(await fetch(u.basePatternUrl)).text(),m=ri(p).replace(/currentColor/g,u.patternColor),h=p.match(/viewBox="0 0 ([\d.]+) ([\d.]+)"/),b=h?parseFloat(h[1]):50,t=h?parseFloat(h[2]):50,n=u.backgroundColor!=="transparent"?`<rect width="100%" height="100%" fill="${u.backgroundColor}" />`:"",s=`
      <svg 
          width="${b}" 
          height="${t}" 
          viewBox="0 0 ${b} ${t}" 
          xmlns="http://www.w3.org/2000/svg"
      >
          ${n}
          ${m}
      </svg>`;for(const f of l){let d=null,w=`${u.id}.${f}`;switch(f){case"svg":d=new Blob([s.trim()],{type:"image/svg+xml"});break;case"png":d=await oe(s,"png",1024,1024);break;case"jpg":d=await oe(s,"jpeg",1024,1024);break;case"webp":d=await oe(s,"webp",1024,1024);break}d&&w&&r.patterns.file(w,d)}}catch(g){console.error(`Ошибка при обработке паттерна ${u.id}:`,g)}}async function es(a,{allAssets:e,zipFolders:r}){const{id:c,formats:l}=a,o=e.videos.find(u=>u.id===c);if(!o){console.warn(`Видео с ID ${c} не найдено.`);return}for(const u of l){const{ratio:g,type:p}=u,v=o.formats.find(h=>h.ratio===g);if(!v){console.warn(`Информация о формате с ratio ${g} для видео ${c} не найдена.`);continue}const m=v.urls[p];if(!m){console.warn(`URL для видео ${c} с форматом ${p} и ratio ${g} не найден.`);continue}try{const h=await fetch(m);if(!h.ok)throw new Error(`Ошибка сети при скачивании видео: ${m}`);const b=await h.blob(),t=`${o.id}-${g}.${p}`;r.videos.file(t,b)}catch(h){console.error(`Ошибка при обработке видео ${c} с URL ${m}:`,h)}}}async function rs({allAssets:a,zipFolders:e}){try{const r=a.colors.flatMap(v=>v.items);if(r.length===0)return;const c=r.map(v=>({name:v.name||v.hex,model:"RGB",color:Xt.hex.rgb(v.hex.replace("#","")).map(m=>m/255),type:"global"})),l={version:"1.0",groups:[],colors:c},o=Jo.encode(l);e.palettes.file("palette.ase",o);let u=`:root {
`;r.forEach(v=>{const m=`--color${v.hex.toLowerCase().replace(/[^a-z0-9]/g,"-").replace(/-+/g,"-")}`;u+=`  ${m}: ${v.hex};
`}),u+="}",e.palettes.file("palette.css",u);const g=JSON.stringify(a.colors,null,2);e.palettes.file("palette.json",g);let p=`Фирменные цвета AdsCompass

`;a.colors.forEach(v=>{p+=`--- ${v.groupName} ---
`,v.items.forEach(m=>{const h=m.hex.toUpperCase(),b=Xt.hex.rgb(h.replace("#","")).join(", "),t=Xt.hex.cmyk(h.replace("#","")).join("%, ")+"%",n=Xt.hex.hsl(h.replace("#",""));p+=`${m.name||h}:
`,p+=`  HEX:  ${h}
`,p+=`  RGB:  rgb(${b})
`,p+=`  CMYK: cmyk(${t})
`,p+=`  HSL:  hsl(${n[0]}, ${n[1]}%, ${n[2]}%)

`})}),e.palettes.file("palette.txt",p)}catch(r){console.error("Ошибка при генерации файлов палитры:",r)}}async function ns({selectedAssets:a,allAssets:e,customAssets:r,customPatterns:c}){const l=new Mo,o={logos:l.folder("logos"),patterns:l.folder("patterns"),videos:l.folder("videos"),palettes:l.folder("palettes")},u=Qo({selectedAssets:a,allAssets:e,customAssets:r,customPatterns:c});if(u.length===0)return;const g=[];g.push(rs({allAssets:e,zipFolders:o})),u.forEach(m=>{m.assetType==="logo"?g.push($o(m,{allAssets:e,customAssets:r,zipFolders:o})):m.assetType==="pattern"?g.push(ts(m,{customPatterns:c,zipFolders:o})):m.assetType==="video"&&g.push(es(m,{allAssets:e,zipFolders:o}))}),await Promise.all(g);const p=await l.generateAsync({type:"blob"}),v=document.createElement("a");v.href=URL.createObjectURL(p),v.download="AdsCompass_Brand_Assets.zip",document.body.append(v),v.click(),v.remove(),URL.revokeObjectURL(v.href)}const mt=jt({selectedAssets:[],customAssets:[],customPatterns:[],editingLogo:null});function is(a){const e=Ut.logos.find(o=>o.id===a.originalId),r=`${e?e.id:"custom"}-custom-${Date.now()}`,c={...a,id:r,type:"custom"};mt.customAssets=[...mt.customAssets,c];const l=c.extension==="svg"?["svg"]:[c.extension];mt.selectedAssets=[...mt.selectedAssets,{id:c.id,formats:l,assetType:"logo"}]}async function as(a){try{const e=await fetch(a.basePatternUrl);if(!e.ok)throw new Error("Не удалось загрузить шаблон паттерна");const r=await e.text(),l=(r.match(/<svg[^>]*>([\s\S]*)<\/svg>/)?.[1]||"").replace(/currentColor/g,a.patternColor),o=r.match(/viewBox="0 0 ([\d.]+) ([\d.]+)"/),u=o?parseFloat(o[1]):50,g=o?parseFloat(o[2]):50,p=`
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 ${u} ${g}">
        <rect width="100%" height="100%" fill="${a.backgroundColor}" />
        ${l}
      </svg>`.trim(),v="data:image/svg+xml;base64,"+btoa(unescape(encodeURIComponent(p))),m={...a,id:`pattern-${a.baseId}-${Date.now()}`,type:"custom",dataUrl:v};mt.customPatterns.push(m),mt.selectedAssets.push({id:m.id,formats:["svg","png"],assetType:"pattern"})}catch(e){console.error("Ошибка при создании кастомного паттерна:",e)}}function kr(a){const{id:e,checked:r,assetType:c}=a;if(c==="video")return;const l=Ut.logos.find(o=>o.id===e)||mt.customAssets.find(o=>o.id===e)||mt.customPatterns.find(o=>o.id===e);if(l)if(r){let o=[];c==="logo"?o=l.extension==="svg"?["svg"]:[l.extension]:c==="pattern"&&(o=["svg"]),mt.selectedAssets=[...mt.selectedAssets,{id:e,formats:o,assetType:c}]}else mt.selectedAssets=mt.selectedAssets.filter(o=>o.id!==e)}function Er(a){const{id:e,format:r,checked:c}=a;mt.selectedAssets=mt.selectedAssets.map(l=>{if(l.id===e){const o=c?[...l.formats,r]:l.formats.filter(u=>u!==r);return{...l,formats:o}}return l}).filter(l=>l.formats.length>0)}function os(a){const{id:e,format:r,checked:c,assetType:l}=a,o=mt.selectedAssets.findIndex(u=>u.id===e&&u.assetType===l);if(c)o>-1?mt.selectedAssets[o].formats.push(r):mt.selectedAssets.push({id:e,assetType:l,formats:[r]});else if(o>-1){const u=mt.selectedAssets[o].formats.findIndex(g=>g.ratio===r.ratio&&g.type===r.type);u>-1&&mt.selectedAssets[o].formats.splice(u,1),mt.selectedAssets[o].formats.length===0&&mt.selectedAssets.splice(o,1)}}var ss=ht("<p> </p>"),ls=ht('<div class="flex flex-col"><span class="text-accent text-4xl font-bold md:text-5xl"> </span> <span class="text-font-dark/60 mt-1 text-sm"> </span></div>'),us=ht('<div class="mx-auto flex max-w-4xl flex-col items-center gap-12 text-center"><h2 class="text-4xl font-bold md:text-5xl"> </h2> <div class="text-font-dark/80 space-y-4 text-lg leading-relaxed"></div> <div class="grid w-full grid-cols-2 gap-8 text-center md:grid-cols-4"></div></div>');function cs(a,e){Rt(e,!0);var r=us(),c=Z(r),l=Z(c),o=X(c,2);Lt(o,21,()=>e.content.paragraphs,Or,(g,p)=>{var v=ss(),m=Z(v);bt(()=>wt(m,I(p))),st(g,v)});var u=X(o,2);Lt(u,21,()=>e.content.stats,Or,(g,p)=>{var v=ls(),m=Z(v),h=Z(m),b=X(m,2),t=Z(b);bt(()=>{wt(h,I(p).value),wt(t,I(p).label)}),st(g,v)}),bt(()=>wt(l,e.content.heading)),st(a,r),Ot()}var fs=ht('<a target="_blank" rel="noopener noreferrer" class="outline-accent text-font-dark/80 hover:text-font-dark flex items-center gap-2 outline-offset-2 transition-all duration-300 focus-visible:outline-2"><!> <span> </span></a>'),hs=ht('<div class="flex flex-col items-center rounded-lg shadow-xl p-6 text-center transition-all duration-300 hover:-translate-y-1"><img class="mb-4 h-32 w-32 rounded-full border-4 border-black/10 object-cover"/> <h4 class="text-lg font-bold"> </h4> <p class="text-font-dark/60 mb-4 text-sm"> </p> <div class="mt-auto flex flex-col gap-2 text-xs"><a class="outline-accent text-font-dark/80 hover:text-font-dark flex items-center gap-2 outline-offset-2 transition-all duration-300 focus-visible:outline-2"><!> <span> </span></a> <!></div></div>');function ds(a,e){Rt(e,!0);var r=hs(),c=Z(r),l=X(c,2),o=Z(l),u=X(l,2),g=Z(u),p=X(u,2),v=Z(p),m=Z(v);be(m,{name:"email"});var h=X(m,2),b=Z(h),t=X(v,2);{var n=s=>{var f=fs(),d=Z(f);be(d,{name:"telegram"});var w=X(d,2),x=Z(w);bt(()=>{gt(f,"href",`https://t.me/${e.contact.telegram??""}`),wt(x,`@${e.contact.telegram??""}`)}),st(s,f)};Ft(t,s=>{e.contact.telegram&&s(n)})}bt(()=>{gt(c,"src",e.contact.photoUrl),gt(c,"alt",`Фотография ${e.contact.name??""}`),wt(o,e.contact.name),wt(g,e.contact.role),gt(v,"href",`mailto:${e.contact.email??""}`),wt(b,e.contact.email)}),st(a,r),Ot()}function gs(a,e,r){e()({id:r.asset.id,checked:a.currentTarget.checked,assetType:r.asset.assetType})}var ps=ht(`<li class="outline-accent group relative aspect-[4/3] select-none overflow-hidden outline-offset-2 transition-all
  duration-300 ease-in-out hover:scale-[1.02]
  active:scale-[0.98] active:duration-75 has-[:focus-visible]:outline-2" role="option"><input type="checkbox" class="sr-only"/> <label class="flex h-full w-full cursor-pointer items-center justify-center p-4"><!> <!> <span><!></span></label> <!></li>`);function Tr(a,e){Rt(e,!0);let r=Jt(e,"checked",7,!1),c=Jt(e,"onToggle",3,()=>{}),l=Jt(e,"meta",3,null),o=Jt(e,"controls",3,null),u;function g(){u&&u.focus()}var p=ps(),v=Z(p);v.__change=[gs,c,e];var m;ye(v,x=>u=x,()=>u);var h=X(v,2),b=Z(h);dr(b,()=>e.preview);var t=X(b,2);{var n=x=>{var k=Rr(),E=ge(k);dr(E,l),st(x,k)};Ft(t,x=>{l()&&x(n)})}var s=X(t,2),f=Z(s);be(f,{name:"check"});var d=X(h,2);{var w=x=>{var k=Rr(),E=ge(k);dr(E,o,()=>({onLastFormatDeselected:g})),st(x,k)};Ft(d,x=>{o()&&x(w)})}bt((x,k)=>{Bt(p,`background-color: ${e.asset.background??""};`),gt(p,"aria-selected",r()),gt(v,"id",e.asset.id),m!==(m=e.asset.id)&&(v.value=(v.__value=e.asset.id)??""),gt(v,"data-selected",r()),gt(h,"for",e.asset.id),zt(s,1,`absolute right-4 top-4 h-7 w-7 cursor-pointer rounded-md border-2 ${x??""} bg-black/20 opacity-0
      outline-offset-2 backdrop-blur-sm transition-all duration-300 hover:bg-black/30
      active:bg-black/40 group-hover:opacity-100 group-has-[:focus-visible]:opacity-100
      group-has-[input:checked]:opacity-100 group-has-[input[data-selected]:focus-visible]:outline-2 ${k??""}`)},[()=>ve(e.asset.background,"border-black/50","border-black/80"),()=>ve(e.asset.background,"outline-black/50","outline-white/80")]),$n(v,r),st(a,p),Ot()}ne(["change"]);var vs=ht('<img class="pointer-events-none h-full w-full select-none object-contain"/>'),ms=ie('<svg class="h-full w-full"><g><image x="0" y="0"></image></g></svg>'),bs=ht('<img class="pointer-events-none h-full w-full select-none object-contain"/>'),_s=ht('<div class="text-font-dark/60"> </div>'),ws=ht("<figure><!></figure>");function mn(a,e){Rt(e,!0);let r=Jt(e,"type",3,"original"),c=Jt(e,"baseLogo",3,null);const l=At(()=>r()==="custom"?`aspect-ratio: ${e.asset.canvasWidth} / ${e.asset.canvasHeight};`:"");var o=ws();let u;var g=Z(o);{var p=m=>{var h=vs();bt(()=>{gt(h,"src",e.asset.url),gt(h,"alt",e.asset.name)}),st(m,h)},v=(m,h)=>{{var b=n=>{var s=ms(),f=Z(s),d=Z(f);bt(()=>{gt(s,"viewBox",`0 0 ${e.asset.canvasWidth??""} ${e.asset.canvasHeight??""}`),gt(f,"transform",`translate(${e.asset.logoX??""}, ${e.asset.logoY??""}) rotate(${(e.asset.logoRotate||0)??""}) scale(${e.asset.logoScale??""}) translate(-${e.asset.originalSvgDimensions.width/2}, -${e.asset.originalSvgDimensions.height/2})`),gt(d,"href",c()?.url),gt(d,"width",e.asset.originalSvgDimensions.width),gt(d,"height",e.asset.originalSvgDimensions.height)}),st(n,s)},t=(n,s)=>{{var f=w=>{var x=bs();bt(()=>{gt(x,"src",e.asset.dataUrl),gt(x,"alt",e.asset.name||"Кастомный логотип")}),st(w,x)},d=w=>{var x=_s(),k=Z(x);bt(()=>wt(k,`Неподдерживаемый формат логотипа: ${e.asset.extension??""}`)),st(w,x)};Ft(n,w=>{["png","jpg"].includes(e.asset.extension)?w(f):w(d,!1)},s)}};Ft(m,n=>{e.asset.extension==="svg"?n(b):n(t,!1)},h)}};Ft(g,m=>{r()==="original"?m(p):m(v,!1)})}bt(m=>{u=zt(o,1,"object-contain",null,u,m),Bt(o,I(l))},[()=>({"w-full":r()==="original","h-full":r()==="original",grid:r()==="original"&&e.asset.extension==="svg","place-items-center":r()==="original","max-w-full":r()==="custom","max-h-full":r()==="custom",border:r()==="custom","border-dashed":r()==="custom","border-black":r()==="custom","ring-1":r()==="custom","ring-black":r()==="custom"})]),st(a,o),Ot()}var ys=ht('<div class="h-full w-full border border-dashed border-black/20 ring-1 ring-black/10"></div>');function xs(a,e){Rt(e,!0);const r=At(()=>`background-image: url('${e.pattern.dataUrl}'); background-size: contain; background-position: center; background-repeat: no-repeat;`);var c=ys();bt(()=>Bt(c,I(r))),st(a,c),Ot()}var ks=(a,e,r)=>e(a,r),Es=ht('<div class="group/format flex flex-1"><input type="checkbox" class="sr-only"/> <label> </label></div>'),Ts=ht("<div></div>");function Ir(a,e){Rt(e,!0);let r=Jt(e,"availableFormats",19,()=>[]),c=Jt(e,"selectedFormats",19,()=>[]);function l(v,m){!v.currentTarget.checked&&c().length===1&&e.onLastFormatDeselected(),e.onFormatChange&&e.onFormatChange({id:e.asset.id,format:m,checked:v.currentTarget.checked})}const o=At(()=>(v,m)=>{const h=c().includes(v),b=r().length;let t=`flex-1 text-center py-1.5 px-3 text-xs font-semibold whitespace-nowrap cursor-pointer transition-all duration-300 ${h?"bg-white/90 text-font-dark":"bg-white/10 text-font-dark/70 hover:bg-white/20"}`;return b===1?t+=" rounded-full":(m===0&&(t+=" rounded-l-full"),m===b-1&&(t+=" rounded-r-full")),t});var u=Rr(),g=ge(u);{var p=v=>{var m=Ts();Lt(m,22,r,h=>h,(h,b,t)=>{var n=Es(),s=Z(n);s.__change=[ks,l,b];var f=X(s,2),d=Z(f);bt((w,x,k,E)=>{gt(s,"name",`${e.asset.id}-format-${b}`),gt(s,"id",`${e.asset.id}-format-${b}`),ya(s,b),Qn(s,w),gt(f,"for",`${e.asset.id}-format-${b}`),zt(f,1,`${x??""} outline-offset-4 ${k??""} group-has-[input:focus-visible]/format:outline-2`),wt(d,E)},[()=>c().includes(b),()=>I(o)(b,I(t)),()=>ve(e.asset.background,"outline-black/50","outline-white/80"),()=>b.toUpperCase()]),st(h,n)}),bt(h=>zt(m,1,`group-has-[input:checked]:starting:opacity-0 starting:opacity-0 starting:hidden
    transition-discrete absolute bottom-4 left-4 z-10 hidden h-8 gap-0 rounded-full border-2 ${h??""} opacity-0 transition-all duration-300
    group-has-[input:checked]:flex group-has-[input:checked]:opacity-100`),[()=>ve(e.asset.background,"border-black/50","border-white/80")]),st(v,m)};Ft(g,v=>{r().length>0&&v(p)})}st(a,u),Ot()}ne(["change"]);var Is=ht('<button type="button" title="Настроить логотип" aria-label="Настроить логотип"><!></button>');function As(a,e){Rt(e,!0);var r=Is();r.__click=function(...l){e.onEdit?.apply(this,l)};var c=Z(r);be(c,{name:"edit"}),bt(l=>zt(r,1,`pointer-coarse:opacity-100 pointer-fine:group-hover:opacity-100 pointer-fine:group-has-[:focus-visible]:opacity-100
  absolute bottom-4 right-4 z-10 cursor-pointer rounded-full bg-black/30 p-2 opacity-0 outline-offset-2 ${l??""}
  backdrop-blur-sm transition-all duration-300 hover:bg-black/40 focus-visible:outline-2 active:bg-black/50`),[()=>ve(e.asset.background,"outline-black/50","outline-white/80")]),st(a,r),Ot()}ne(["click"]);var Ss=ht('<a target="_blank" rel="noopener noreferrer" class="outline-accent outline-offset-2 transition-all duration-300 hover:scale-110 focus-visible:outline-2"><span class="capitalize"> </span></a>'),Fs=ht('<div class="flex flex-wrap items-center gap-4"></div>'),Cs=ht('<footer class="text-font-dark/60 shadow-2xl bg-white py-8 text-sm"><div class="container"><div class="flex flex-col items-center gap-6 md:justify-between lg:flex-row"><div class="flex flex-col items-center gap-2 text-center md:flex-row md:items-start md:gap-x-8 md:text-left"><p> <a target="_blank" rel="noopener noreferrer" class="outline-accent hover:text-font-dark outline-offset-2 transition-all duration-300 focus-visible:outline-2"> </a>. Все права защищены.</p> <p>Разработано с ❤️ <a target="_blank" rel="noopener noreferrer" class="outline-accent text-font-dark/80 hover:text-font-dark font-semibold outline-offset-2 transition-all duration-300 focus-visible:outline-2"> </a></p></div> <!></div></div></footer>');function Ls(a,e){Rt(e,!0);var r=Cs(),c=Z(r),l=Z(c),o=Z(l),u=Z(o),g=Z(u),p=X(g),v=Z(p),m=X(u,2),h=X(Z(m)),b=Z(h),t=X(o,2);{var n=s=>{var f=Fs();Lt(f,21,()=>e.info.socials,d=>d.name,(d,w)=>{var x=Ss(),k=Z(x),E=Z(k);bt(()=>{gt(x,"href",I(w).url),gt(x,"aria-label",`Профиль в ${I(w).name??""}`),wt(E,I(w).name)}),st(d,x)}),st(s,f)};Ft(t,s=>{e.info.socials?.length>0&&s(n)})}bt(()=>{wt(g,`© ${e.info.copyrightYear??""} `),gt(p,"href",e.info.companyUrl),wt(v,e.info.companyName),gt(h,"href",e.info.developer.url),wt(b,e.info.developer.name)}),st(a,r),Ot()}var Rs=ht('<div class="flex items-center gap-2"><div class="h-5 w-5 animate-spin rounded-full border-2 border-black border-t-transparent"></div> <span>Генерация архива...</span></div>'),Os=ht(`<figcaption class="pointer-coarse:opacity-100
          text-shadow-lg absolute left-4 top-4 font-semibold opacity-0 transition-opacity duration-300
          group-hover:opacity-100"> </figcaption>`),Us=ht("<!> <!>",1),zs=ht('<h3 class="mt-8 text-2xl font-semibold">Ваши вариации</h3> <ul class="grid grid-cols-[repeat(auto-fill,minmax(288px,1fr))] gap-4" role="listbox"></ul>',1),Ds=ht('<div class="rounded-lg border border-dashed border-black/20 px-4 py-10 text-center"><p class="text-font-dark/60">Вы еще не создали ни одной вариации.</p> <p class="text-font-dark/40 mt-1 text-sm">Нажмите на иконку кисти на любом логотипе, чтобы начать.</p></div>'),Ns=ht('<div class="flex flex-col gap-3"><h3 class="text-xl font-semibold"> </h3> <div class="grid grid-cols-[repeat(auto-fill,minmax(288px,1fr))] gap-4"></div></div>'),Bs=ht('<h3 class="mt-4 text-xl font-semibold">Ваши паттерны:</h3> <ul class="grid grid-cols-[repeat(auto-fill,minmax(288px,1fr))] gap-4"></ul>',1),Ps=ht(`<div><header class="container flex flex-col items-center gap-4 pb-4 pt-10"><h1 class="flex flex-col items-center text-5xl font-semibold"><span class="text-center">AdsCompass</span> <span class="text-center">Руководство по стилю</span></h1> <p class="rounded-2xl shadow-2xl px-6 py-1">Базовая версия</p></header> <div class="container sticky top-4 z-10 flex justify-center"><button type="button" class="
		bg-accent shadow-accent/20 focus-visible:ring-accent mt-3 rounded-lg px-6 py-3 font-semibold
		shadow-lg transition-all duration-300
		ease-in-out
		hover:-translate-y-px
		hover:bg-[#e09c78]
		focus:outline-none
		focus-visible:ring-2
		focus-visible:ring-offset-2
		focus-visible:ring-offset-[#08090a]
		active:translate-y-0
		active:bg-accent
		active:duration-75
        disabled:cursor-not-allowed disabled:bg-gray-100 disabled:hover:translate-y-0"><!></button></div> <main class="h-full pt-8"><section class="my-16"><div class="container"><!></div></section> <section class="mb-10"><div class="container flex flex-col gap-8"><h2 class="text-center text-3xl font-bold">Наша команда</h2> <div class="grid grid-cols-1 gap-8 sm:grid-cols-2 md:grid-cols-3"></div></div></section> <section class="mb-10"><div class="container flex flex-col gap-3"><h2 class="text-2xl font-semibold">Логотипы</h2> <ul class="mb-10 grid grid-cols-[repeat(auto-fill,minmax(288px,1fr))] gap-4"></ul> <!></div></section> <section class="mb-10"><div class="container flex flex-col gap-8"><h2 class="text-2xl font-semibold">Цвета</h2> <!></div></section> <section class="mb-10"><div class="container flex flex-col gap-8"><h2 class="text-2xl font-semibold">Типографика</h2> <!></div></section> <section class="mb-10"><div class="container flex flex-col gap-8"><h2 class="text-2xl font-semibold">Правила использования</h2> <!></div></section> <section class="mb-10"><div class="container flex flex-col gap-8"><h2 class="text-2xl font-semibold">Видео-материалы</h2> <div class="grid grid-cols-1 gap-4 lg:grid-cols-2"></div></div></section> <section class="mb-10"><div class="container flex flex-col gap-8"><h2 class="text-2xl font-semibold">Генератор паттернов</h2> <!> <!></div></section></main> <!></div> <!>`,1);function Ms(a,e){Rt(e,!0);let r=Tt(!1),c=Tt(!1);function l(){console.log("%cКОД KONAMI АКТИВИРОВАН!","color: limegreen; font-size: 24px; font-weight: bold;"),ft(r,!0),setTimeout(()=>{ft(r,!1)},1e4)}Ea(async()=>{console.log("%cТы нашел это!🧐","color: #FFA676; font-size: 20px; font-weight: bold;"),console.log("%cОтличная работа, разработчик!","color: #FFA676; font-size: 16px; font-weight: semibold;"),console.log("https://www.youtube.com/watch?v=dQw4w9WgXcQ");for(const nt of Ut.logos){const ut=await Uo(nt);nt.width=ut.width,nt.height=ut.height}Ut.logos=Ut.logos});async function o(){ft(c,!0);try{await ns({selectedAssets:mt.selectedAssets,allAssets:Ut,customAssets:mt.customAssets,customPatterns:mt.customPatterns})}catch(nt){console.error("Произошла ошибка во время скачивания архива:",nt)}finally{let nt=setTimeout(()=>{ft(c,!1),clearTimeout(nt)},500)}}function u(nt){if(nt.assetType==="logo"){if(nt.extension==="svg")return["svg","png","jpg","webp"];if(["png","jpg"].includes(nt.extension))return[...new Set([nt.extension,"jpg","png","webp"])]}return nt.assetType==="pattern"?["svg","png","jpg","webp"]:[]}var g=Ps(),p=ge(g);let v;var m=X(Z(p),2),h=Z(m);h.__click=o;var b=Z(h);{var t=nt=>{var ut=Rs();st(nt,ut)},n=nt=>{var ut=sa();bt(()=>wt(ut,mt.selectedAssets.length?`Скачать выбранное (${mt.selectedAssets.length})`:"Скачать все материалы")),st(nt,ut)};Ft(b,nt=>{I(c)?nt(t):nt(n,!1)})}var s=X(m,2),f=Z(s),d=Z(f),w=Z(d);cs(w,{get content(){return Ut.aboutCompany}});var x=X(f,2),k=Z(x),E=X(Z(k),2);Lt(E,21,()=>Ut.contacts,nt=>nt.id,(nt,ut)=>{ds(nt,{get contact(){return I(ut)}})});var F=X(x,2),C=Z(F),D=X(Z(C),2);Lt(D,21,()=>Ut.logos,nt=>nt.id,(nt,ut)=>{const _=At(()=>({...I(ut),assetType:"logo",background:I(ut).background})),N=At(()=>mt.selectedAssets.some(B=>B.id===I(ut).id));Tr(nt,{get asset(){return I(_)},get checked(){return I(N)},get onToggle(){return kr},preview:R=>{mn(R,{get asset(){return I(ut)},type:"original"})},meta:R=>{var H=Os(),G=Z(H);bt(()=>{Bt(H,`color: ${I(ut).color??""}`),wt(G,I(ut).name)}),st(R,H)},controls:(R,H)=>{let G=()=>H?.().onLastFormatDeselected;var P=Us(),K=ge(P);const it=At(()=>u(I(_))),Q=At(()=>mt.selectedAssets.find(kt=>kt.id===I(ut).id)?.formats||[]);Ir(K,{get asset(){return I(_)},get availableFormats(){return I(it)},get selectedFormats(){return I(Q)},get onFormatChange(){return Er},get onLastFormatDeselected(){return G()}});var lt=X(K,2);As(lt,{get asset(){return I(_)},onEdit:()=>mt.editingLogo=I(ut)}),st(R,P)},$$slots:{preview:!0,meta:!0,controls:!0}})});var O=X(D,2);{var V=nt=>{var ut=zs(),_=X(ge(ut),2);Lt(_,21,()=>mt.customAssets,N=>N.id,(N,B)=>{const A=At(()=>Ut.logos.find(H=>H.id===I(B).originalId)),T=At(()=>({...I(B),assetType:"logo",background:I(A).background,baseLogo:I(A)})),R=At(()=>mt.selectedAssets.some(H=>H.id===I(B).id));Tr(N,{get asset(){return I(T)},get checked(){return I(R)},get onToggle(){return kr},preview:P=>{mn(P,{get asset(){return I(B)},type:"custom",get baseLogo(){return I(A)}})},controls:(P,K)=>{let it=()=>K?.().onLastFormatDeselected;const Q=At(()=>u(I(T))),lt=At(()=>mt.selectedAssets.find(kt=>kt.id===I(B).id)?.formats||[]);Ir(P,{get asset(){return I(T)},get availableFormats(){return I(Q)},get selectedFormats(){return I(lt)},get onFormatChange(){return Er},get onLastFormatDeselected(){return it()}})},$$slots:{preview:!0,controls:!0}})}),st(nt,ut)},J=nt=>{var ut=Ds();st(nt,ut)};Ft(O,nt=>{mt.customAssets.length>0?nt(V):nt(J,!1)})}var S=X(F,2),j=Z(S),y=X(Z(j),2);Lt(y,17,()=>Ut.colors,nt=>nt.groupName,(nt,ut)=>{var _=Ns(),N=Z(_),B=Z(N),A=X(N,2);Lt(A,21,()=>I(ut).items,T=>T.hex,(T,R)=>{ao(T,{get color(){return I(R)}})}),bt(()=>wt(B,I(ut).groupName)),st(nt,_)});var W=X(S,2),rt=Z(W),U=X(Z(rt),2);co(U,{get styles(){return Ut.typography}});var tt=X(W,2),q=Z(tt),at=X(Z(q),2);Lt(at,17,()=>Ut.guidelines,nt=>nt.id,(nt,ut)=>{go(nt,{get title(){return I(ut).title},get description(){return I(ut).description},get imageDo(){return I(ut).imageDo},get imageDont(){return I(ut).imageDont}})});var M=X(tt,2),z=Z(M),$=X(Z(z),2);Lt($,21,()=>Ut.videos,nt=>nt.id,(nt,ut)=>{const _=At(()=>mt.selectedAssets.find(B=>B.id===I(ut).id&&B.assetType==="video")),N=At(()=>I(_)?.formats||[]);xo(nt,{get video(){return I(ut)},get selectedFormats(){return I(N)},get onToggle(){return os}})});var L=X(M,2),Y=Z(L),ot=X(Z(Y),2);Ro(ot,{get patterns(){return Ut.patterns},get brandColors(){return Ut.colors},get onSave(){return as}});var pt=X(ot,2);{var ct=nt=>{var ut=Bs(),_=X(ge(ut),2);Lt(_,21,()=>mt.customPatterns,N=>N.id,(N,B)=>{const A=At(()=>({...I(B),assetType:"pattern",background:I(B).backgroundColor})),T=At(()=>mt.selectedAssets.some(R=>R.id===I(B).id));Tr(N,{get asset(){return I(A)},get checked(){return I(T)},get onToggle(){return kr},preview:G=>{xs(G,{get pattern(){return I(B)}})},controls:(G,P)=>{let K=()=>P?.().onLastFormatDeselected;const it=At(()=>u(I(A))),Q=At(()=>mt.selectedAssets.find(lt=>lt.id===I(B).id)?.formats||[]);Ir(G,{get asset(){return I(A)},get availableFormats(){return I(it)},get selectedFormats(){return I(Q)},get onFormatChange(){return Er},get onLastFormatDeselected(){return K()}})},$$slots:{preview:!0,controls:!0}})}),st(nt,ut)};Ft(pt,nt=>{mt.customPatterns.length>0&&nt(ct)})}var vt=X(s,2);Ls(vt,{get info(){return Oo}}),Mt(p,(nt,ut)=>zo?.(nt,ut),()=>l);var xt=X(p,2);{var It=nt=>{Wa(nt,{get logo(){return mt.editingLogo},get onSave(){return is},onClose:()=>mt.editingLogo=null})};Ft(xt,nt=>{mt.editingLogo&&nt(It)})}bt(nt=>{v=zt(p,1,"bg-background text-font-dark flex min-h-screen grow flex-col",null,v,nt),h.disabled=I(c)},[()=>({"animate-rave":I(r)})]),st(a,g),Ot()}ne(["click"]);la(Ms,{target:document.getElementById("app")});
